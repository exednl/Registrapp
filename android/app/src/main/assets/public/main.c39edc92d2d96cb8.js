(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4562:(cn,ft,N)=>{"use strict";N.d(ft,{$:()=>$o,A:()=>me,G:()=>He,K:()=>At,L:()=>Ft,N:()=>an,P:()=>Js,R:()=>$c,U:()=>sn,V:()=>ao,W:()=>lo,X:()=>pl,Y:()=>Bo,Z:()=>Vo,_:()=>Qs,a:()=>ha,a0:()=>Aa,a1:()=>$n,a2:()=>ai,a3:()=>vo,a4:()=>Di,a5:()=>Fl,a6:()=>_l,a7:()=>Ll,a8:()=>vl,a9:()=>Ho,aA:()=>Ot,aB:()=>Xe,aC:()=>te,aD:()=>Xo,aE:()=>et,aF:()=>Kt,aG:()=>gu,aH:()=>Ps,aI:()=>tl,aJ:()=>Ln,aN:()=>en,aQ:()=>Zo,aa:()=>ua,ab:()=>Ka,ac:()=>Yu,ad:()=>is,ae:()=>po,af:()=>Vl,ag:()=>As,ah:()=>A,ak:()=>Ie,al:()=>Vt,am:()=>dn,ap:()=>uu,aq:()=>ii,as:()=>ls,at:()=>eo,au:()=>Le,av:()=>Lt,aw:()=>xe,ax:()=>Se,ay:()=>Go,az:()=>ka,b:()=>da,c:()=>jc,d:()=>ea,e:()=>Mo,f:()=>Pd,g:()=>Ms,h:()=>Dl,i:()=>Re,j:()=>Na,k:()=>ql,l:()=>xa,m:()=>Qc,o:()=>Al,p:()=>Me,r:()=>cu,s:()=>Xa,u:()=>kr});var l=N(5861),V=N(9058),ee=N(534),de=N(7879),Pe=N(7582),Ae=N(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ke=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new de.Yd("@firebase/auth");function vt(I,...m){ze.logLevel<=de.in.ERROR&&ze.error(`Auth (${ee.SDK_VERSION}): ${I}`,...m)}function Se(I,...m){throw Ce(I,...m)}function Xe(I,...m){return Ce(I,...m)}function Ve(I,m,y){const S=Object.assign(Object.assign({},Ke()),{[m]:y});return new V.LL("auth","Firebase",S).create(m,{appName:I.name})}function Oe(I,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Se(I,"argument-error"),Ve(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(I,...m){if("string"!=typeof I){const y=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(y,...S)}return Ze.create(I,...m)}function te(I,m,...y){if(!I)throw Ce(m,...y)}function je(I){const m="INTERNAL ASSERTION FAILED: "+I;throw vt(m),new Error(m)}function Le(I,m){I||je(m)}function st(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function dt(){return"http:"===Et()||"https:"===Et()}function Et(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class rn{constructor(m,y){this.shortDelay=m,this.longDelay=y,Le(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(I,m){Le(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class ge{static initialize(m,y,S){this.fetchImpl=m,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$e=new rn(3e4,6e4);function De(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function ht(I,m,y,S){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(I,m,y,S,X={}){return kt(I,X,(0,l.Z)(function*(){let oe={},_t={};S&&("GET"===m?_t=S:oe={body:JSON.stringify(S)});const Nt=(0,V.xO)(Object.assign({key:I.config.apiKey},_t)).slice(1),un=yield I._getAdditionalHeaders();return un["Content-Type"]="application/json",I.languageCode&&(un["X-Firebase-Locale"]=I.languageCode),ge.fetch()(An(I,I.config.apiHost,y,Nt),Object.assign({method:m,headers:un,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function kt(I,m,y){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(I,m,y){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},ae),m);try{const X=new wt(I),oe=yield Promise.race([y(),X.promise]);X.clearNetworkTimeout();const _t=yield oe.json();if("needConfirmation"in _t)throw bt(I,"account-exists-with-different-credential",_t);if(oe.ok&&!("errorMessage"in _t))return _t;{const Nt=oe.ok?_t.errorMessage:_t.error.message,[un,zn]=Nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw bt(I,"credential-already-in-use",_t);if("EMAIL_EXISTS"===un)throw bt(I,"email-already-in-use",_t);if("USER_DISABLED"===un)throw bt(I,"user-disabled",_t);const nr=S[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(zn)throw Ve(I,nr,zn);Se(I,nr)}}catch(X){if(X instanceof V.ZR)throw X;Se(I,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function Wt(I,m,y,S){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(I,m,y,S,X={}){const oe=yield ht(I,m,y,S,X);return"mfaPendingCredential"in oe&&Se(I,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function An(I,m,y,S){const X=`${m}${y}?${S}`;return I.config.emulator?fe(I.config,X):`${I.config.apiScheme}://${X}`}function Pt(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wt{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Xe(this.auth,"network-request-failed")),$e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bt(I,m,y){const S={appName:I.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const X=Xe(I,m,S);return X.customData._tokenResponse=y,X}function Ut(I){return void 0!==I&&void 0!==I.getResponse}function Zt(I){return void 0!==I&&void 0!==I.enterprise}class Rn{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===m)return Pt(y.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function jn(){return(jn=(0,l.Z)(function*(I){return(yield ht(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mn(I,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(I,m){return ht(I,"GET","/v2/recaptchaConfig",De(I,m))})).apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Pr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function mr(){return(mr=(0,l.Z)(function*(I,m=!1){const y=(0,V.m9)(I),S=yield y.getIdToken(m),X=Jn(S);te(X&&X.exp&&X.auth_time&&X.iat,y.auth,"internal-error");const oe="object"==typeof X.firebase?X.firebase:void 0,_t=null==oe?void 0:oe.sign_in_provider;return{claims:X,token:S,authTime:Pr(Xi(X.auth_time)),issuedAtTime:Pr(Xi(X.iat)),expirationTime:Pr(Xi(X.exp)),signInProvider:_t||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function Xi(I){return 1e3*Number(I)}function Jn(I){const[m,y,S]=I.split(".");if(void 0===m||void 0===y||void 0===S)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,V.tV)(y);return X?JSON.parse(X):(vt("Failed to decode base64 JWT payload"),null)}catch(X){return vt("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function On(I,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(I,m,y=!1){if(y)return m;try{return yield m}catch(S){throw S instanceof V.ZR&&function Si({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class Kr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const X=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),S)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===(null==y?void 0:y.code)&&m.schedule(!0))}m.schedule()})()}}class Dr{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pr(this.lastLoginAt),this.creationTime=Pr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(I){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,l.Z)(function*(I){var m;const y=I.auth,S=yield I.getIdToken(),X=yield On(I,function Vn(I,m){return fr.apply(this,arguments)}(y,{idToken:S}));te(null==X?void 0:X.users.length,y,"internal-error");const oe=X.users[0];I._notifyReloadListener(oe);const _t=null!==(m=oe.providerUserInfo)&&void 0!==m&&m.length?function Ri(I){return I.map(m=>{var{providerId:y}=m,S=(0,Pe._T)(m,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(oe.providerUserInfo):[],Nt=function Lr(I,m){return[...I.filter(S=>!m.some(X=>X.providerId===S.providerId)),...m]}(I.providerData,_t),nr=!!I.isAnonymous&&!(I.email&&oe.passwordHash||null!=Nt&&Nt.length),qr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Nt,metadata:new Dr(oe.createdAt,oe.lastLoginAt),isAnonymous:nr};Object.assign(I,qr)}),Cr.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(I){const m=(0,V.m9)(I);yield er(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(I,m){const y=yield kt(I,{},(0,l.Z)(function*(){const S=(0,V.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:X,apiKey:oe}=I.config,_t=An(I,X,"/v1/token",`key=${oe}`),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(_t,{method:"POST",headers:Nt,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(I,m){return ht(I,"POST","/v2/accounts:revokeToken",De(I,m))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(typeof m.idToken<"u","internal-error"),te(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function ki(I){const m=Jn(I);return te(m,"internal-error"),te(typeof m.exp<"u","internal-error"),te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var S=this;return(0,l.Z)(function*(){return te(!S.accessToken||S.refreshToken,m,"user-token-expired"),y||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var S=this;return(0,l.Z)(function*(){const{accessToken:X,refreshToken:oe,expiresIn:_t}=yield function hi(I,m){return Gi.apply(this,arguments)}(m,y);S.updateTokensAndExpiration(X,oe,Number(_t))})()}updateTokensAndExpiration(m,y,S){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,y){const{refreshToken:S,accessToken:X,expirationTime:oe}=y,_t=new j;return S&&(te("string"==typeof S,"internal-error",{appName:m}),_t.refreshToken=S),X&&(te("string"==typeof X,"internal-error",{appName:m}),_t.accessToken=X),oe&&(te("number"==typeof oe,"internal-error",{appName:m}),_t.expirationTime=oe),_t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return je("not implemented")}}function Z(I,m){te("string"==typeof I||typeof I>"u","internal-error",{appName:m})}class ${constructor(m){var{uid:y,auth:S,stsTokenManager:X}=m,oe=(0,Pe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Dr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,l.Z)(function*(){const S=yield On(y,y.stsTokenManager.getToken(y.auth,m));return te(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(m){return function Cn(I){return mr.apply(this,arguments)}(this,m)}reload(){return function wr(I){return di.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new $(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var S=this;return(0,l.Z)(function*(){let X=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),X=!0),y&&(yield er(S)),yield S.auth._persistUserIfCurrent(S),X&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,l.Z)(function*(){const y=yield m.getIdToken();return yield On(m,function Xn(I,m){return Hr.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var S,X,oe,_t,Nt,un,zn,nr;const qr=null!==(S=y.displayName)&&void 0!==S?S:void 0,cs=null!==(X=y.email)&&void 0!==X?X:void 0,Kl=null!==(oe=y.phoneNumber)&&void 0!==oe?oe:void 0,Zl=null!==(_t=y.photoURL)&&void 0!==_t?_t:void 0,Sl=null!==(Nt=y.tenantId)&&void 0!==Nt?Nt:void 0,sl=null!==(un=y._redirectEventId)&&void 0!==un?un:void 0,Vd=null!==(zn=y.createdAt)&&void 0!==zn?zn:void 0,Va=null!==(nr=y.lastLoginAt)&&void 0!==nr?nr:void 0,{uid:Bd,emailVerified:Cu,isAnonymous:ac,providerData:$d,stsTokenManager:Tu}=y;te(Bd&&Tu,m,"internal-error");const Zp=j.fromJSON(this.name,Tu);te("string"==typeof Bd,m,"internal-error"),Z(qr,m.name),Z(cs,m.name),te("boolean"==typeof Cu,m,"internal-error"),te("boolean"==typeof ac,m,"internal-error"),Z(Kl,m.name),Z(Zl,m.name),Z(Sl,m.name),Z(sl,m.name),Z(Vd,m.name),Z(Va,m.name);const Ud=new $({uid:Bd,auth:m,email:cs,emailVerified:Cu,displayName:qr,isAnonymous:ac,photoURL:Zl,phoneNumber:Kl,tenantId:Sl,stsTokenManager:Zp,createdAt:Vd,lastLoginAt:Va});return $d&&Array.isArray($d)&&(Ud.providerData=$d.map(Io=>Object.assign({},Io))),sl&&(Ud._redirectEventId=sl),Ud}static _fromIdTokenResponse(m,y,S=!1){return(0,l.Z)(function*(){const X=new j;X.updateFromServerResponse(y);const oe=new $({uid:y.localId,auth:m,stsTokenManager:X,isAnonymous:S});return yield er(oe),oe})()}}const Ee=new Map;function et(I){Le(I instanceof Function,"Expected a class definition");let m=Ee.get(I);return m?(Le(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,Ee.set(I,m),m)}const sn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,S){var X=this;return(0,l.Z)(function*(){X.storage[y]=S})()}_get(y){var S=this;return(0,l.Z)(function*(){const X=S.storage[y];return void 0===X?null:X})()}_remove(y){var S=this;return(0,l.Z)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return I.type="NONE",I})();function Kt(I,m,y){return`firebase:${I}:${m}:${y}`}class Bn{constructor(m,y,S){this.persistence=m,this.auth=y,this.userKey=S;const{config:X,name:oe}=this.auth;this.fullUserKey=Kt(this.userKey,X.apiKey,oe),this.fullPersistenceKey=Kt("persistence",X.apiKey,oe),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?$._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,l.Z)(function*(){if(y.persistence===m)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,S="authUser"){return(0,l.Z)(function*(){if(!y.length)return new Bn(et(sn),m,S);const X=(yield Promise.all(y.map(function(){var zn=(0,l.Z)(function*(nr){if(yield nr._isAvailable())return nr});return function(nr){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let oe=X[0]||et(sn);const _t=Kt(S,m.config.apiKey,m.name);let Nt=null;for(const zn of y)try{const nr=yield zn._get(_t);if(nr){const qr=$._fromJSON(m,nr);zn!==oe&&(Nt=qr),oe=zn;break}}catch{}const un=X.filter(zn=>zn._shouldAllowMigration);return oe._shouldAllowMigration&&un.length?(oe=un[0],Nt&&(yield oe._set(_t,Nt.toJSON())),yield Promise.all(y.map(function(){var zn=(0,l.Z)(function*(nr){if(nr!==oe)try{yield nr._remove(_t)}catch{}});return function(nr){return zn.apply(this,arguments)}}())),new Bn(oe,m,S)):new Bn(oe,m,S)})()}}function Fn(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Tt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ar(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(qe(m))return"Blackberry";if(ct(m))return"Webos";if(nt(m))return"Safari";if((m.includes("chrome/")||Ge(m))&&!m.includes("edge/"))return"Chrome";if(xe(m))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function ar(I=(0,V.z$)()){return/firefox\//i.test(I)}function nt(I=(0,V.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ge(I=(0,V.z$)()){return/crios\//i.test(I)}function Tt(I=(0,V.z$)()){return/iemobile/i.test(I)}function xe(I=(0,V.z$)()){return/android/i.test(I)}function qe(I=(0,V.z$)()){return/blackberry/i.test(I)}function ct(I=(0,V.z$)()){return/webos/i.test(I)}function Lt(I=(0,V.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ot(I=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function cr(I=(0,V.z$)()){return Lt(I)||xe(I)||ct(I)||qe(I)||/windows phone/i.test(I)||Tt(I)}function ir(I,m=[]){let y;switch(I){case"Browser":y=Fn((0,V.z$)());break;case"Worker":y=`${Fn((0,V.z$)())}-${I}`;break;default:y=I}const S=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${ee.SDK_VERSION}/${S}`}class Or{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const S=oe=>new Promise((_t,Nt)=>{try{_t(m(oe))}catch(un){Nt(un)}});S.onAbort=y,this.queue.push(S);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===m)return;const S=[];try{for(const X of y.queue)yield X(m),X.onAbort&&S.push(X.onAbort)}catch(X){S.reverse();for(const oe of S)try{oe()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}function lr(){return(lr=(0,l.Z)(function*(I,m={}){return ht(I,"GET","/v2/passwordPolicy",De(I,m))})).apply(this,arguments)}class pr{constructor(m){var y,S,X,oe;const _t=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=_t.minPasswordLength)&&void 0!==y?y:6,_t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=_t.maxPasswordLength),void 0!==_t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=_t.containsLowercaseCharacter),void 0!==_t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=_t.containsUppercaseCharacter),void 0!==_t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=_t.containsNumericCharacter),void 0!==_t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=_t.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(S=m.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(oe=m.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=m.schemaVersion}validatePassword(m){var y,S,X,oe,_t,Nt;const un={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,un),this.validatePasswordCharacterOptions(m,un),un.isValid&&(un.isValid=null===(y=un.meetsMinPasswordLength)||void 0===y||y),un.isValid&&(un.isValid=null===(S=un.meetsMaxPasswordLength)||void 0===S||S),un.isValid&&(un.isValid=null===(X=un.containsLowercaseLetter)||void 0===X||X),un.isValid&&(un.isValid=null===(oe=un.containsUppercaseLetter)||void 0===oe||oe),un.isValid&&(un.isValid=null===(_t=un.containsNumericCharacter)||void 0===_t||_t),un.isValid&&(un.isValid=null===(Nt=un.containsNonAlphanumericCharacter)||void 0===Nt||Nt),un}validatePasswordLengthOptions(m,y){const S=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;S&&(y.meetsMinPasswordLength=m.length>=S),X&&(y.meetsMaxPasswordLength=m.length<=X)}validatePasswordCharacterOptions(m,y){let S;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let X=0;X<m.length;X++)S=m.charAt(X),this.updatePasswordCharacterOptionsStatuses(y,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(m,y,S,X,oe){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=oe))}}class br{constructor(m,y,S,X){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=S,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(m,y){var S=this;return y&&(this._popupRedirectResolver=et(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var X,oe;if(!S._deleted&&(S.persistenceManager=yield Bn.create(S,m),!S._deleted)){if(null!==(X=S._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(oe=S.currentUser)||void 0===oe?void 0:oe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,l.Z)(function*(){var S;const X=yield y.assertedPersistence.getCurrentUser();let oe=X,_t=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Nt=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,un=null==oe?void 0:oe._redirectEventId,zn=yield y.tryRedirectSignIn(m);(!Nt||Nt===un)&&null!=zn&&zn.user&&(oe=zn.user,_t=!0)}if(!oe)return y.directlySetCurrentUser(null);if(!oe._redirectEventId){if(_t)try{yield y.beforeStateQueue.runMiddleware(oe)}catch(Nt){oe=X,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Nt))}return oe?y.reloadAndSetCurrentUserOrClear(oe):y.directlySetCurrentUser(null)}return te(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===oe._redirectEventId?y.directlySetCurrentUser(oe):y.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(m){var y=this;return(0,l.Z)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,l.Z)(function*(){try{yield er(m)}catch(S){if("auth/network-request-failed"!==(null==S?void 0:S.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ln(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,l.Z)(function*(){const S=m?(0,V.m9)(m):null;return S&&te(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(m,y=!1){var S=this;return(0,l.Z)(function*(){if(!S._deleted)return m&&te(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),y||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,l.Z)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(et(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var y=this;return(0,l.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const S=y._getPasswordPolicyInternal();return S.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,l.Z)(function*(){const y=yield function mo(I){return lr.apply(this,arguments)}(m),S=new pr(y);null===m.tenantId?m._projectPasswordPolicy=S:m._tenantPasswordPolicies[m.tenantId]=S})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new V.LL("auth","Firebase",m())}onAuthStateChanged(m,y,S){return this.registerStateListener(this.authStateSubscription,m,y,S)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,S){return this.registerStateListener(this.idTokenSubscription,m,y,S)}authStateReady(){return new Promise((m,y)=>{if(this.currentUser)m();else{const S=this.onAuthStateChanged(()=>{S(),m()},y)}})}revokeAccessToken(m){var y=this;return(0,l.Z)(function*(){if(y.currentUser){const S=yield y.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:m,idToken:S};null!=y.tenantId&&(X.tenantId=y.tenantId),yield function it(I,m){return le.apply(this,arguments)}(y,X)}})()}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var S=this;return(0,l.Z)(function*(){const X=yield S.getOrInitRedirectPersistenceManager(y);return null===m?X.removeCurrentUser():X.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const S=m&&et(m)||y._popupRedirectResolver;te(S,y,"argument-error"),y.redirectPersistenceManager=yield Bn.create(y,[et(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,l.Z)(function*(){var S,X;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===m?y._currentUser:(null===(X=y.redirectUser)||void 0===X?void 0:X._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,l.Z)(function*(){if(m===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,S,X){if(this._deleted)return()=>{};const oe="function"==typeof y?y:y.next.bind(y);let _t=!1;const Nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(Nt,this,"internal-error"),Nt.then(()=>{_t||oe(this.currentUser)}),"function"==typeof y){const un=m.addObserver(y,S,X);return()=>{_t=!0,un()}}{const un=m.addObserver(y);return()=>{_t=!0,un()}}}directlySetCurrentUser(m){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var y;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const X=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();X&&(S["X-Firebase-Client"]=X);const oe=yield m._getAppCheckToken();return oe&&(S["X-Firebase-AppCheck"]=oe),S})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var y;const S=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return null!=S&&S.error&&function rt(I,...m){ze.logLevel<=de.in.WARN&&ze.warn(`Auth (${ee.SDK_VERSION}): ${I}`,...m)}(`Error while retrieving App Check token: ${S.error}`),null==S?void 0:S.token})()}}function Ln(I){return(0,V.m9)(I)}class zr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(I){return new Promise((m,y)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=m,S.onerror=X=>{const oe=Xe("internal-error");oe.customData=X,y(oe)},S.type="text/javascript",S.charset="UTF-8",function Pi(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(S)})}function gi(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Fi{constructor(m){this.type="recaptcha-enterprise",this.auth=Ln(m)}verify(m="verify",y=!1){var S=this;return(0,l.Z)(function*(){function oe(){return oe=(0,l.Z)(function*(Nt){if(!y){if(null==Nt.tenantId&&null!=Nt._agentRecaptchaConfig)return Nt._agentRecaptchaConfig.siteKey;if(null!=Nt.tenantId&&void 0!==Nt._tenantRecaptchaConfigs[Nt.tenantId])return Nt._tenantRecaptchaConfigs[Nt.tenantId].siteKey}return new Promise(function(){var un=(0,l.Z)(function*(zn,nr){mn(Nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qr=>{if(void 0!==qr.recaptchaKey){const cs=new Rn(qr);return null==Nt.tenantId?Nt._agentRecaptchaConfig=cs:Nt._tenantRecaptchaConfigs[Nt.tenantId]=cs,zn(cs.siteKey)}nr(new Error("recaptcha Enterprise site key undefined"))}).catch(qr=>{nr(qr)})});return function(zn,nr){return un.apply(this,arguments)}}())}),oe.apply(this,arguments)}function _t(Nt,un,zn){const nr=window.grecaptcha;Zt(nr)?nr.enterprise.ready(()=>{nr.enterprise.execute(Nt,{action:m}).then(qr=>{un(qr)}).catch(()=>{un("NO_RECAPTCHA")})}):zn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Nt,un)=>{(function X(Nt){return oe.apply(this,arguments)})(S.auth).then(zn=>{if(!y&&Zt(window.grecaptcha))_t(zn,Nt,un);else{if(typeof window>"u")return void un(new Error("RecaptchaVerifier is only supported in browser"));yi("https://www.google.com/recaptcha/enterprise.js?render="+zn).then(()=>{_t(zn,Nt,un)}).catch(nr=>{un(nr)})}}).catch(zn=>{un(zn)})})})()}}function ro(I,m,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(I,m,y,S=!1){const X=new Fi(I);let oe;try{oe=yield X.verify(y)}catch{oe=yield X.verify(y,!0)}const _t=Object.assign({},m);return Object.assign(_t,S?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(_t,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_t,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_t})).apply(this,arguments)}function ko(I,m,y,S){return _o.apply(this,arguments)}function _o(){return _o=(0,l.Z)(function*(I,m,y,S){var X;if(null!==(X=I._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield ro(I,m,y,"getOobCode"===y);return S(I,oe)}return S(I,m).catch(function(){var oe=(0,l.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Nt=yield ro(I,m,y,"getOobCode"===y);return S(I,Nt)}return Promise.reject(_t)});return function(_t){return oe.apply(this,arguments)}}())}),_o.apply(this,arguments)}function At(I,m,y){const S=Ln(I);te(S._canInitEmulator,S,"emulator-config-failed"),te(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const X=!(null==y||!y.disableWarnings),oe=gt(m),{host:_t,port:Nt}=function Xt(I){const m=gt(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(S);if(X){const oe=X[1];return{host:oe,port:nn(S.substr(oe.length+1))}}{const[oe,_t]=S.split(":");return{host:oe,port:nn(_t)}}}(m);S.config.emulator={url:`${oe}//${_t}${null===Nt?"":`:${Nt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:_t,port:Nt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function Gt(){function I(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function gt(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function nn(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class Ft{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return je("not implemented")}_getIdTokenResponse(m){return je("not implemented")}_linkToIdToken(m,y){return je("not implemented")}_getReauthenticationResolver(m){return je("not implemented")}}function fn(I,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:resetPassword",De(I,m))})).apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function x(I,m){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:signUp",m)})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:update",De(I,m))})).apply(this,arguments)}function Sr(I,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithPassword",De(I,m))})).apply(this,arguments)}function io(I,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:sendOobCode",De(I,m))})).apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(I,m){return io(I,m)})).apply(this,arguments)}function Zr(I,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(I,m){return io(I,m)})).apply(this,arguments)}function tr(I,m){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(I,m){return io(I,m)})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(I,m){return io(I,m)})).apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithEmailLink",De(I,m))})).apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithEmailLink",De(I,m))})).apply(this,arguments)}class ve extends Ft{constructor(m,y,S,X=null){super("password",S),this._email=m,this._password=y,this._tenantId=X}static _fromEmailAndPassword(m,y){return new ve(m,y,"password")}static _fromEmailAndCode(m,y,S=null){return new ve(m,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(null!=y&&y.email&&null!=y&&y.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return ko(m,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sr);case"emailLink":return function co(I,m){return ue.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Se(m,"internal-error")}})()}_linkToIdToken(m,y){var S=this;return(0,l.Z)(function*(){switch(S.signInMethod){case"password":return ko(m,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x);case"emailLink":return function pe(I,m){return Y.apply(this,arguments)}(m,{idToken:y,email:S._email,oobCode:S._password});default:Se(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ye(I,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithIdp",De(I,m))})).apply(this,arguments)}class an extends Ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new an(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X}=y,oe=(0,Pe._T)(y,["providerId","signInMethod"]);if(!S||!X)return null;const _t=new an(S,X);return _t.idToken=oe.idToken||void 0,_t.accessToken=oe.accessToken||void 0,_t.secret=oe.secret,_t.nonce=oe.nonce,_t.pendingToken=oe.pendingToken||null,_t}_getIdTokenResponse(m){return Ye(m,this.buildRequest())}_linkToIdToken(m,y){const S=this.buildRequest();return S.idToken=y,Ye(m,S)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ye(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,V.xO)(y)}return m}}function qn(){return(qn=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:sendVerificationCode",De(I,m))})).apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,m))})).apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(I,m){const y=yield Wt(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,m));if(y.temporaryProof)throw bt(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ho={USER_NOT_FOUND:"user-not-found"};function Lo(){return(Lo=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithPhoneNumber",De(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ho)})).apply(this,arguments)}class ns extends Ft{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new ns({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new ns({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Mi(I,m){return Ui.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function Ji(I,m){return Fo.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function xo(I,m){return Lo.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:S,verificationCode:X}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:S,code:X}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:S,phoneNumber:X,temporaryProof:oe}=m;return S||y||X||oe?new ns({verificationId:y,verificationCode:S,phoneNumber:X,temporaryProof:oe}):null}}class ws{constructor(m){var y,S,X,oe,_t,Nt;const un=(0,V.zd)((0,V.pd)(m)),zn=null!==(y=un.apiKey)&&void 0!==y?y:null,nr=null!==(S=un.oobCode)&&void 0!==S?S:null,qr=function Nr(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=un.mode)&&void 0!==X?X:null);te(zn&&nr&&qr,"argument-error"),this.apiKey=zn,this.operation=qr,this.code=nr,this.continueUrl=null!==(oe=un.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(_t=un.languageCode)&&void 0!==_t?_t:null,this.tenantId=null!==(Nt=un.tenantId)&&void 0!==Nt?Nt:null}static parseLink(m){const y=function kc(I){const m=(0,V.zd)((0,V.pd)(I)).link,y=m?(0,V.zd)((0,V.pd)(m)).deep_link_id:null,S=(0,V.zd)((0,V.pd)(I)).deep_link_id;return(S?(0,V.zd)((0,V.pd)(S)).link:null)||S||y||m||I}(m);try{return new ws(y)}catch{return null}}}let ao=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,S){return ve._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const X=ws.parseLink(S);return te(X,"argument-error"),ve._fromEmailAndCode(y,X.code,X.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ei{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ko extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Vo extends Ko{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return te("providerId"in y&&"signInMethod"in y,"argument-error"),an._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),an._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Vo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Vo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:S,oauthTokenSecret:X,pendingToken:oe,nonce:_t,providerId:Nt}=m;if(!S&&!X&&!y&&!oe||!Nt)return null;try{return new Vo(Nt)._credential({idToken:y,accessToken:S,nonce:_t,pendingToken:oe})}catch{return null}}}let lo=(()=>{class I extends Ko{constructor(){super("facebook.com")}static credential(y){return an._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),pl=(()=>{class I extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(y,S){return an._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:S,oauthAccessToken:X}=y;if(!S&&!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Bo=(()=>{class I extends Ko{constructor(){super("github.com")}static credential(y){return an._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Zo extends Ft{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Ye(m,this.buildRequest())}_linkToIdToken(m,y){const S=this.buildRequest();return S.idToken=y,Ye(m,S)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ye(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:X,pendingToken:oe}=y;return S&&X&&oe&&S===X?new Zo(S,oe):null}static _create(m,y){return new Zo(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qs extends Ei{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Qs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Qs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Zo.fromJSON(m);return te(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:S}=m;if(!y||!S)return null;try{return Zo._create(S,y)}catch{return null}}}let $o=(()=>{class I extends Ko{constructor(){super("twitter.com")}static credential(y,S){return an._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:S})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:S,oauthTokenSecret:X}=y;if(!S||!X)return null;try{return I.credential(S,X)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Fs(I,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signUp",De(I,m))})).apply(this,arguments)}class Uo{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,S,X=!1){return(0,l.Z)(function*(){const oe=yield $._fromIdTokenResponse(m,S,X),_t=Ls(S);return new Uo({user:oe,providerId:_t,_tokenResponse:S,operationType:y})})()}static _forOperation(m,y,S){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(S,!0);const X=Ls(S);return new Uo({user:m,providerId:X,_tokenResponse:S,operationType:y})})()}}function Ls(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Aa(I){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(I){var m;const y=Ln(I);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new Uo({user:y.currentUser,providerId:null,operationType:"signIn"});const S=yield Fs(y,{returnSecureToken:!0}),X=yield Uo._fromIdTokenResponse(y,"signIn",S,!0);return yield y._updateCurrentUser(X.user),X})).apply(this,arguments)}class Xs extends V.ZR{constructor(m,y,S,X){var oe;super(y.code,y.message),this.operationType=S,this.user=X,Object.setPrototypeOf(this,Xs.prototype),this.customData={appName:m.name,tenantId:null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,y,S,X){return new Xs(m,y,S,X)}}function qa(I,m,y,S){return("reauthenticate"===m?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Xs._fromErrorAndOperation(I,oe,m,S):oe})}function kl(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function uu(I,m){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,l.Z)(function*(I,m){const y=(0,V.m9)(I);yield q(!0,y,m);const{providerUserInfo:S}=yield function Dn(I,m){return Kn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),X=kl(S||[]);return y.providerData=y.providerData.filter(oe=>X.has(oe.providerId)),X.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Ti.apply(this,arguments)}function ml(I,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(I,m,y=!1){const S=yield On(I,m._linkToIdToken(I.auth,yield I.getIdToken()),y);return Uo._forOperation(I,"link",S)})).apply(this,arguments)}function q(I,m,y){return k.apply(this,arguments)}function k(){return(k=(0,l.Z)(function*(I,m,y){yield er(m);const X=!1===I?"provider-already-linked":"no-such-provider";te(kl(m.providerData).has(y)===I,m.auth,X)})).apply(this,arguments)}function _e(I,m){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(I,m,y=!1){const{auth:S}=I,X="reauthenticate";try{const oe=yield On(I,qa(S,X,m,I),y);te(oe.idToken,S,"internal-error");const _t=Jn(oe.idToken);te(_t,S,"internal-error");const{sub:Nt}=_t;return te(I.uid===Nt,S,"user-mismatch"),Uo._forOperation(I,X,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&Se(S,"user-mismatch"),oe}})).apply(this,arguments)}function be(I,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(I,m,y=!1){const S="signIn",X=yield qa(I,S,m),oe=yield Uo._fromIdTokenResponse(I,S,X);return y||(yield I._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function $n(I,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(I,m){return be(Ln(I),m)})).apply(this,arguments)}function ai(I,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(I,m){const y=(0,V.m9)(I);return yield q(!1,y,m.providerId),ml(y,m)})).apply(this,arguments)}function vo(I,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(I,m){return _e((0,V.m9)(I),m)})).apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(I,m){return Wt(I,"POST","/v1/accounts:signInWithCustomToken",De(I,m))})).apply(this,arguments)}function Di(I,m){return aa.apply(this,arguments)}function aa(){return aa=(0,l.Z)(function*(I,m){const y=Ln(I),S=yield function fo(I,m){return sa.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),X=yield Uo._fromIdTokenResponse(y,"signIn",S);return yield y._updateCurrentUser(X.user),X}),aa.apply(this,arguments)}class mi{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?jo._fromServerResponse(m,y):"totpInfo"in y?bs._fromServerResponse(m,y):Se(m,"internal-error")}}class jo extends mi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new jo(y)}}class bs extends mi{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new bs(y)}}function la(I,m,y){var S;te((null===(S=y.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),te(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(te(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(te(y.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function yo(I){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(I){const m=Ln(I);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Fl(I,m,y){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(I,m,y){const S=Ln(I),X={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};y&&la(S,X,y),yield ko(S,X,"getOobCode",Zr)})).apply(this,arguments)}function _l(I,m,y){return rs.apply(this,arguments)}function rs(){return rs=(0,l.Z)(function*(I,m,y){yield fn((0,V.m9)(I),{oobCode:m,newPassword:y}).catch(function(){var S=(0,l.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&yo(I),X});return function(X){return S.apply(this,arguments)}}())}),rs.apply(this,arguments)}function Ll(I,m){return pi.apply(this,arguments)}function pi(){return pi=(0,l.Z)(function*(I,m){yield function at(I,m){return Un.apply(this,arguments)}((0,V.m9)(I),{oobCode:m})}),pi.apply(this,arguments)}function vl(I,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(I,m){const y=(0,V.m9)(I),S=yield fn(y,{oobCode:m}),X=S.requestType;switch(te(X,y,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(S.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(S.mfaInfo,y,"internal-error");default:te(S.email,y,"internal-error")}let oe=null;return S.mfaInfo&&(oe=mi._fromServerResponse(Ln(y),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:oe},operation:X}})).apply(this,arguments)}function Ho(I,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(I,m){const{data:y}=yield vl((0,V.m9)(I),m);return y.email})).apply(this,arguments)}function ua(I,m,y){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(I,m,y){const S=Ln(I),_t=yield ko(S,{returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fs).catch(un=>{throw"auth/password-does-not-meet-requirements"===un.code&&yo(I),un}),Nt=yield Uo._fromIdTokenResponse(S,"signIn",_t);return yield S._updateCurrentUser(Nt.user),Nt})).apply(this,arguments)}function Ka(I,m,y){return $n((0,V.m9)(I),ao.credential(m,y)).catch(function(){var S=(0,l.Z)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&yo(I),X});return function(X){return S.apply(this,arguments)}}())}function Yu(I,m,y){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(I,m,y){const S=Ln(I),X={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function oe(_t,Nt){te(Nt.handleCodeInApp,S,"argument-error"),Nt&&la(S,_t,Nt)})(X,y),yield ko(S,X,"getOobCode",tr)})).apply(this,arguments)}function is(I,m){const y=ws.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function po(I,m,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I),X=ao.credentialWithLink(m,y||st());return te(X._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),$n(S,X)})).apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:createAuthUri",De(I,m))})).apply(this,arguments)}function Vl(I,m){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,l.Z)(function*(I,m){const S={identifier:m,continueUri:dt()?st():"http://localhost"},{signinMethods:X}=yield function yl(I,m){return Bs.apply(this,arguments)}((0,V.m9)(I),S);return X||[]}),Bl.apply(this,arguments)}function As(I,m){return El.apply(this,arguments)}function El(){return El=(0,l.Z)(function*(I,m){const y=(0,V.m9)(I),X={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&la(y.auth,X,m);const{email:oe}=yield function Wr(I,m){return ks.apply(this,arguments)}(y.auth,X);oe!==I.email&&(yield I.reload())}),El.apply(this,arguments)}function A(I,m,y){return z.apply(this,arguments)}function z(){return z=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};y&&la(S.auth,oe,y);const{email:_t}=yield function so(I,m){return Yo.apply(this,arguments)}(S.auth,oe);_t!==I.email&&(yield I.reload())}),z.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(I,m){return ht(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ie(I,m){return Je.apply(this,arguments)}function Je(){return Je=(0,l.Z)(function*(I,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const S=(0,V.m9)(I),oe={idToken:yield S.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},_t=yield On(S,function ke(I,m){return U.apply(this,arguments)}(S.auth,oe));S.displayName=_t.displayName||null,S.photoURL=_t.photoUrl||null;const Nt=S.providerData.find(({providerId:un})=>"password"===un);Nt&&(Nt.displayName=S.displayName,Nt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(_t)}),Je.apply(this,arguments)}function Vt(I,m){return Tr((0,V.m9)(I),m,null)}function dn(I,m){return Tr((0,V.m9)(I),null,m)}function Tr(I,m,y){return vr.apply(this,arguments)}function vr(){return vr=(0,l.Z)(function*(I,m,y){const{auth:S}=I,oe={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(oe.email=m),y&&(oe.password=y);const _t=yield On(I,function D(I,m){return ce.apply(this,arguments)}(S,oe));yield I._updateTokensIfNecessary(_t,!0)}),vr.apply(this,arguments)}class Gn{constructor(m,y,S={}){this.isNewUser=m,this.providerId=y,this.profile=S}}class li extends Gn{constructor(m,y,S,X){super(m,y,S),this.username=X}}class Qr extends Gn{constructor(m,y){super(m,"facebook.com",y)}}class Oi extends li{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class $s extends Gn{constructor(m,y){super(m,"google.com",y)}}class Jt extends li{constructor(m,y,S){super(m,"twitter.com",y,S)}}function ii(I){const{user:m,_tokenResponse:y}=I;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Br(I){var m,y;if(!I)return null;const{providerId:S}=I,X=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},oe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&null!=I&&I.idToken){const _t=null===(y=null===(m=Jn(I.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(_t)return new Gn(oe,"anonymous"!==_t&&"custom"!==_t?_t:null)}if(!S)return null;switch(S){case"facebook.com":return new Qr(oe,X);case"github.com":return new Oi(oe,X);case"google.com":return new $s(oe,X);case"twitter.com":return new Jt(oe,X,I.screenName||null);case"custom":case"anonymous":return new Gn(oe,null);default:return new Gn(oe,S,X)}}(y)}class Il{constructor(m,y,S){this.type=m,this.credential=y,this.user=S}static _fromIdtoken(m,y){return new Il("enroll",m,y)}static _fromMfaPendingCredential(m){return new Il("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,S;if(null!=m&&m.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Il._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(S=m.multiFactorSession)&&void 0!==S&&S.idToken)return Il._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ku{constructor(m,y,S){this.session=m,this.hints=y,this.signInResolver=S}static _fromError(m,y){const S=Ln(m),X=y.customData._serverResponse,oe=(X.mfaInfo||[]).map(Nt=>mi._fromServerResponse(S,Nt));te(X.mfaPendingCredential,S,"internal-error");const _t=Il._fromMfaPendingCredential(X.mfaPendingCredential);return new Ku(_t,oe,function(){var Nt=(0,l.Z)(function*(un){const zn=yield un._process(S,_t);delete X.mfaInfo,delete X.mfaPendingCredential;const nr=Object.assign(Object.assign({},X),{idToken:zn.idToken,refreshToken:zn.refreshToken});switch(y.operationType){case"signIn":const qr=yield Uo._fromIdTokenResponse(S,y.operationType,nr);return yield S._updateCurrentUser(qr.user),qr;case"reauthenticate":return te(y.user,S,"internal-error"),Uo._forOperation(y.user,y.operationType,nr);default:Se(S,"internal-error")}});return function(un){return Nt.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,l.Z)(function*(){return y.signInResolver(m)})()}}function ls(I,m){var y;const S=(0,V.m9)(I),X=m;return te(m.customData.operationType,S,"argument-error"),te(null===(y=X.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,S,"argument-error"),Ku._fromError(S,X)}class Za{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(S=>mi._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Za(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Il._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,y){var S=this;return(0,l.Z)(function*(){const X=m,oe=yield S.getSession(),_t=yield On(S.user,X._process(S.user.auth,oe,y));return yield S.user._updateTokensIfNecessary(_t),S.user.reload()})()}unenroll(m){var y=this;return(0,l.Z)(function*(){const S="string"==typeof m?m:m.uid,X=yield y.user.getIdToken();try{const oe=yield On(y.user,function yr(I,m){return ht(I,"POST","/v2/accounts/mfaEnrollment:withdraw",De(I,m))}(y.user.auth,{idToken:X,mfaEnrollmentId:S}));y.enrolledFactors=y.enrolledFactors.filter(({uid:_t})=>_t!==S),yield y.user._updateTokensIfNecessary(oe),yield y.user.reload()}catch(oe){throw oe}})()}}const dr=new WeakMap;function eo(I){const m=(0,V.m9)(I);return dr.has(m)||dr.set(m,Za._fromUser(m)),dr.get(m)}const Zn="__sak";class Ra{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const da=(()=>{class I extends Ra{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ti(){const I=(0,V.z$)();return nt(I)||Lt(I)}()&&function _r(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const X=this.storage.getItem(S),oe=this.localCache[S];X!==oe&&y(S,oe,X)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((Nt,un,zn)=>{this.notifyListeners(Nt,zn)});const X=y.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Nt=this.storage.getItem(X);if(y.newValue!==Nt)null!==y.newValue?this.storage.setItem(X,y.newValue):this.storage.removeItem(X);else if(this.localCache[X]===y.newValue&&!S)return}const oe=()=>{const Nt=this.storage.getItem(X);!S&&this.localCache[X]===Nt||this.notifyListeners(X,Nt)},_t=this.storage.getItem(X);!function En(){return(0,V.w1)()&&10===document.documentMode}()||_t===y.newValue||y.newValue===y.oldValue?oe():setTimeout(oe,10)}notifyListeners(y,S){this.localCache[y]=S;const X=this.listeners[y];if(X)for(const oe of Array.from(X))oe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var X=()=>super._set,oe=this;return(0,l.Z)(function*(){yield X().call(oe,y,S),oe.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,X=this;return(0,l.Z)(function*(){const oe=yield S().call(X,y);return X.localCache[y]=JSON.stringify(oe),oe})()}_remove(y){var S=()=>super._remove,X=this;return(0,l.Z)(function*(){yield S().call(X,y),delete X.localCache[y]})()}}return I.type="LOCAL",I})(),ha=(()=>{class I extends Ra{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return I.type="SESSION",I})();let Qa=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(oe=>oe.isListeningto(y));if(S)return S;const X=new I(y);return this.receivers.push(X),X}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,l.Z)(function*(){const X=y,{eventId:oe,eventType:_t,data:Nt}=X.data,un=S.handlersMap[_t];if(null==un||!un.size)return;X.ports[0].postMessage({status:"ack",eventId:oe,eventType:_t});const zn=Array.from(un).map(function(){var qr=(0,l.Z)(function*(cs){return cs(X.origin,Nt)});return function(cs){return qr.apply(this,arguments)}}()),nr=yield function Sd(I){return Promise.all(I.map(function(){var m=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return m.apply(this,arguments)}}()))}(zn);X.ports[0].postMessage({status:"done",eventId:oe,eventType:_t,response:nr})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function en(I="",m=10){let y="";for(let S=0;S<m;S++)y+=Math.floor(10*Math.random());return I+y}class Ur{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,S=50){var X=this;return(0,l.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let _t,Nt;return new Promise((un,zn)=>{const nr=en("",20);oe.port1.start();const qr=setTimeout(()=>{zn(new Error("unsupported_event"))},S);Nt={messageChannel:oe,onMessage(cs){const Kl=cs;if(Kl.data.eventId===nr)switch(Kl.data.status){case"ack":clearTimeout(qr),_t=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),un(Kl.data.response);break;default:clearTimeout(qr),clearTimeout(_t),zn(new Error("invalid_response"))}}},X.handlers.add(Nt),oe.port1.addEventListener("message",Nt.onMessage),X.target.postMessage({eventType:m,eventId:nr,data:y},[oe.port2])}).finally(()=>{Nt&&X.removeMessageHandler(Nt)})})()}}function uo(){return window}function Qn(){return typeof uo().WorkerGlobalScope<"u"&&"function"==typeof uo().importScripts}function os(){return(os=(0,l.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cl="firebaseLocalStorageDb",Pa="firebaseLocalStorage",ni="fbase_key";class or{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ni(I,m){return I.transaction([Pa],m?"readwrite":"readonly").objectStore(Pa)}function fa(){const I=indexedDB.open(Cl,1);return new Promise((m,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Pa,{keyPath:ni})}catch(X){y(X)}}),I.addEventListener("success",(0,l.Z)(function*(){const S=I.result;S.objectStoreNames.contains(Pa)?m(S):(S.close(),yield function Ma(){const I=indexedDB.deleteDatabase(Cl);return new or(I).toPromise()}(),m(yield fa()))}))})}function Yi(I,m,y){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(I,m,y){const S=Ni(I,!0).put({[ni]:m,value:y});return new or(S).toPromise()})).apply(this,arguments)}function R(){return(R=(0,l.Z)(function*(I,m){const y=Ni(I,!1).get(m),S=yield new or(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function O(I,m){const y=Ni(I,!0).delete(m);return new or(y).toPromise()}const Re=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield fa()),y.db})()}_withRetries(y){var S=this;return(0,l.Z)(function*(){let X=0;for(;;)try{const oe=yield S._openDb();return yield y(oe)}catch(oe){if(X++>3)throw oe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return Qn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Qa._getInstance(function Ss(){return Qn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,l.Z)(function*(X,oe){return{keyProcessed:(yield y._poll()).includes(oe.key)}});return function(X,oe){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,l.Z)(function*(X,oe){return["keyChanged"]});return function(X,oe){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var S,X;if(y.activeServiceWorker=yield function xr(){return os.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ur(y.activeServiceWorker);const oe=yield y.sender._send("ping",{},800);oe&&null!==(S=oe[0])&&void 0!==S&&S.fulfilled&&null!==(X=oe[0])&&void 0!==X&&X.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,l.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Xr(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield fa();return yield Yi(y,Zn,"1"),yield O(y,Zn),!0}catch{}return!1})()}_withPendingWrite(y){var S=this;return(0,l.Z)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var X=this;return(0,l.Z)(function*(){return X._withPendingWrite((0,l.Z)(function*(){return yield X._withRetries(oe=>Yi(oe,y,S)),X.localCache[y]=S,X.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,l.Z)(function*(){const X=yield S._withRetries(oe=>function C(I,m){return R.apply(this,arguments)}(oe,y));return S.localCache[y]=X,X})()}_remove(y){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(X=>O(X,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const S=yield y._withRetries(_t=>{const Nt=Ni(_t,!1).getAll();return new or(Nt).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const X=[],oe=new Set;for(const{fbase_key:_t,value:Nt}of S)oe.add(_t),JSON.stringify(y.localCache[_t])!==JSON.stringify(Nt)&&(y.notifyListeners(_t,Nt),X.push(_t));for(const _t of Object.keys(y.localCache))y.localCache[_t]&&!oe.has(_t)&&(y.notifyListeners(_t,null),X.push(_t));return X})()}notifyListeners(y,S){this.localCache[y]=S;const X=this.listeners[y];if(X)for(const oe of Array.from(X))oe(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Gr=1e12;class sr{constructor(m){this.auth=m,this.counter=Gr,this._widgets=new Map}render(m,y){const S=this.counter;return this._widgets.set(S,new oi(m,this.auth.name,y||{})),this.counter++,S}reset(m){var y;const S=m||Gr;null===(y=this._widgets.get(S))||void 0===y||y.delete(),this._widgets.delete(S)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Gr))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,l.Z)(function*(){var S;return null===(S=y._widgets.get(m||Gr))||void 0===S||S.execute(),""})()}}class oi{constructor(m,y,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof m?document.getElementById(m):m;te(X,"argument-error",{appName:y}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ao(I){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const js=gi("rcb"),Vi=new rn(3e4,6e4);class Jr{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=uo().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return te(function Qu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&Ut(uo().grecaptcha)?Promise.resolve(uo().grecaptcha):new Promise((S,X)=>{const oe=uo().setTimeout(()=>{X(Xe(m,"network-request-failed"))},Vi.get());uo()[js]=()=>{uo().clearTimeout(oe),delete uo()[js];const Nt=uo().grecaptcha;if(!Nt||!Ut(Nt))return void X(Xe(m,"internal-error"));const un=Nt.render;Nt.render=(zn,nr)=>{const qr=un(zn,nr);return this.counter++,qr},this.hostLanguage=y,S(Nt)},yi(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:js,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(oe),X(Xe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=uo().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zo{load(m){return(0,l.Z)(function*(){return new sr(m)})()}clearedOneInstance(){}}const Bh="recaptcha",Rd={theme:"light",type:"image"};class $c{constructor(m,y,S=Object.assign({},Rd)){this.parameters=S,this.type=Bh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(m),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof y?document.getElementById(y):y;te(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zo:new Jr,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(y)||new Promise(oe=>{const _t=Nt=>{Nt&&(m.tokenChangeListeners.delete(_t),oe(Nt))};m.tokenChangeListeners.add(_t),m.isInvisible&&S.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(S=>S(y)),"function"==typeof m)m(y);else if("string"==typeof m){const S=uo()[m];"function"==typeof S&&S(y)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const S=document.createElement("div");y.appendChild(S),y=S}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){te(dt()&&!Qn(),m.auth,"internal-error"),yield function $h(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function Pn(I){return jn.apply(this,arguments)}(m.auth);te(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jl{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=ns._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function Xa(I,m,y){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(I,m,y){const S=Ln(I),X=yield Xu(S,m,(0,V.m9)(y));return new jl(X,oe=>$n(S,oe))})).apply(this,arguments)}function xa(I,m,y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I);yield q(!1,S,"phone");const X=yield Xu(S.auth,m,(0,V.m9)(y));return new jl(X,oe=>ai(S,oe))})).apply(this,arguments)}function cu(I,m,y){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I),X=yield Xu(S.auth,m,(0,V.m9)(y));return new jl(X,oe=>vo(S,oe))})).apply(this,arguments)}function Xu(I,m,y){return hu.apply(this,arguments)}function hu(){return hu=(0,l.Z)(function*(I,m,y){var S;const X=yield y.verify();try{let oe;if(te("string"==typeof X,I,"argument-error"),te(y.type===Bh,I,"argument-error"),oe="string"==typeof m?{phoneNumber:m}:m,"session"in oe){const _t=oe.session;if("phoneNumber"in oe)return te("enroll"===_t.type,I,"internal-error"),(yield function Sa(I,m){return ht(I,"POST","/v2/accounts/mfaEnrollment:start",De(I,m))}(I,{idToken:_t.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{te("signin"===_t.type,I,"internal-error");const Nt=(null===(S=oe.multiFactorHint)||void 0===S?void 0:S.uid)||oe.multiFactorUid;return te(Nt,I,"missing-multi-factor-info"),(yield function yt(I,m){return ht(I,"POST","/v2/accounts/mfaSignIn:start",De(I,m))}(I,{mfaPendingCredential:_t.credential,mfaEnrollmentId:Nt,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_t}=yield function bn(I,m){return qn.apply(this,arguments)}(I,{phoneNumber:oe.phoneNumber,recaptchaToken:X});return _t}}finally{y._reset()}}),hu.apply(this,arguments)}function kr(I,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(I,m){yield ml((0,V.m9)(I),m)})).apply(this,arguments)}let Js=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Ln(y)}verifyPhoneNumber(y,S){return Xu(this.auth,y,(0,V.m9)(S))}static credential(y,S){return ns._fromVerification(y,S)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:S,temporaryProof:X}=y;return S&&X?ns._fromTokenResponse(S,X):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function pa(I,m){return m?et(m):(te(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class zi extends Ft{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ye(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Ye(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Ye(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function ga(I){return be(I.auth,new zi(I),I.bypassAuthState)}function Eo(I){const{auth:m,user:y}=I;return te(y,m,"internal-error"),_e(y,new zi(I),I.bypassAuthState)}function bi(I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(I){const{auth:m,user:y}=I;return te(y,m,"internal-error"),ml(y,new zi(I),I.bypassAuthState)})).apply(this,arguments)}class fu{constructor(m,y,S,X,oe=!1){this.auth=m,this.resolver=S,this.user=X,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,l.Z)(function*(S,X){m.pendingPromise={resolve:S,reject:X};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(oe){m.reject(oe)}});return function(S,X){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,l.Z)(function*(){const{urlResponse:S,sessionId:X,postBody:oe,tenantId:_t,error:Nt,type:un}=m;if(Nt)return void y.reject(Nt);const zn={auth:y.auth,requestUri:S,sessionId:X,tenantId:_t||void 0,postBody:oe||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(un)(zn))}catch(nr){y.reject(nr)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ga;case"linkViaPopup":case"linkViaRedirect":return bi;case"reauthViaPopup":case"reauthViaRedirect":return Eo;default:Se(this.auth,"internal-error")}}resolve(m){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ss=new rn(2e3,1e4);function jc(I,m,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(I,m,y){const S=Ln(I);Oe(I,m,Ei);const X=pa(S,y);return new _s(S,"signInViaPopup",m,X).executeNotNull()})).apply(this,arguments)}function Mo(I,m,y){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I);Oe(S.auth,m,Ei);const X=pa(S.auth,y);return new _s(S.auth,"reauthViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}function ea(I,m,y){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I);Oe(S.auth,m,Ei);const X=pa(S.auth,y);return new _s(S.auth,"linkViaPopup",m,X,S).executeNotNull()})).apply(this,arguments)}let _s=(()=>{class I extends fu{constructor(y,S,X,oe,_t){super(y,S,oe,_t),this.provider=X,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const S=yield y.execute();return te(S,y.auth,"internal-error"),S})()}onExecution(){var y=this;return(0,l.Z)(function*(){Le(1===y.filter.length,"Popup operations only handle one event");const S=en();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],S),y.authWindow.associatedEvent=S,y.resolver._originValidation(y.auth).catch(X=>{y.reject(X)}),y.resolver._isIframeWebStorageSupported(y.auth,X=>{X||y.reject(Xe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var S,X;this.pollId=null!==(X=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,ss.get())};y()}}return I.currentPopupAction=null,I})();const el="pendingRedirect",Hs=new Map;class Ju extends fu{constructor(m,y,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,l.Z)(function*(){let S=Hs.get(y.auth._key());if(!S){try{const oe=(yield function ta(I,m){return Rs.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;S=()=>Promise.resolve(oe)}catch(X){S=()=>Promise.reject(X)}Hs.set(y.auth._key(),S)}return y.bypassAuthState||Hs.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,S=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(S,m);if("unknown"!==m.type){if(m.eventId){const X=yield S.auth._redirectUserForId(m.eventId);if(X)return S.user=X,y().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Rs(){return(Rs=(0,l.Z)(function*(I,m){const y=ma(m),S=Tl(I);if(!(yield S._isAvailable()))return!1;const X="true"===(yield S._get(y));return yield S._remove(y),X})).apply(this,arguments)}function zs(I,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(I,m){return Tl(I)._set(ma(m),"true")})).apply(this,arguments)}function tl(){Hs.clear()}function Ps(I,m){Hs.set(I._key(),m)}function Tl(I){return et(I._redirectPersistence)}function ma(I){return Kt(el,I.config.apiKey,I.name)}function Pd(I,m,y){return function nl(I,m,y){return pu.apply(this,arguments)}(I,m,y)}function pu(){return(pu=(0,l.Z)(function*(I,m,y){const S=Ln(I);Oe(I,m,Ei),yield S._initializationPromise;const X=pa(S,y);return yield zs(X,S),X._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Dl(I,m,y){return function wl(I,m,y){return rl.apply(this,arguments)}(I,m,y)}function rl(){return(rl=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I);Oe(S.auth,m,Ei),yield S.auth._initializationPromise;const X=pa(S.auth,y);yield zs(X,S.auth);const oe=yield jh(S);return X._openRedirect(S.auth,m,"reauthViaRedirect",oe)})).apply(this,arguments)}function Ms(I,m,y){return function Uh(I,m,y){return bl.apply(this,arguments)}(I,m,y)}function bl(){return(bl=(0,l.Z)(function*(I,m,y){const S=(0,V.m9)(I);Oe(S.auth,m,Ei),yield S.auth._initializationPromise;const X=pa(S.auth,y);yield q(!1,S,m.providerId),yield zs(X,S.auth);const oe=yield jh(S);return X._openRedirect(S.auth,m,"linkViaRedirect",oe)})).apply(this,arguments)}function Na(I,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(I,m){return yield Ln(I)._initializationPromise,gu(I,m,!1)})).apply(this,arguments)}function gu(I,m){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(I,m,y=!1){const S=Ln(I),X=pa(S,m),_t=yield new Ju(S,X,y).execute();return _t&&!y&&(delete _t.user._redirectEventId,yield S._persistUserIfCurrent(_t.user),yield S._setRedirectUser(null,m)),_t})).apply(this,arguments)}function jh(I){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(I){const m=en(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Xo{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(y=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function vs(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return si(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var S;if(m.error&&!si(m)){const X=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Xe(this.auth,X))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const S=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zc(m))}saveEventToCache(m){this.cachedEventUids.add(zc(m)),this.lastProcessedEventTime=Date.now()}}function zc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function si({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ka(I){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(I,m={}){return ht(I,"GET","/v1/projects",m)})).apply(this,arguments)}const il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wl=/^https?/;function $r(){return($r=(0,l.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield ka(I);for(const y of m)try{if(ui(y))return}catch{}Se(I,"unauthorized-domain")})).apply(this,arguments)}function ui(I){const m=st(),{protocol:y,hostname:S}=new URL(m);if(I.startsWith("chrome-extension://")){const _t=new URL(I);return""===_t.hostname&&""===S?"chrome-extension:"===y&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&_t.hostname===S}if(!Wl.test(y))return!1;if(il.test(I))return S===I;const X=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(S)}const ec=new rn(3e4,6e4);function Md(){const I=uo().___jsl;if(null!=I&&I.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let Wc=null;const Gc=new rn(5e3,15e3),va="__/auth/iframe",xd="emulator/auth/iframe",qc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},go=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Od(I){const m=I.config;te(m.authDomain,I,"auth-domain-config-required");const y=m.emulator?fe(m,xd):`https://${I.config.authDomain}/${va}`,S={apiKey:m.apiKey,appName:I.name,v:ee.SDK_VERSION},X=go.get(I.config.apiHost);X&&(S.eid=X);const oe=I._getFrameworks();return oe.length&&(S.fw=oe.join(",")),`${y}?${(0,V.xO)(S).slice(1)}`}function Zi(){return Zi=(0,l.Z)(function*(I){const m=yield function Hh(I){return Wc=Wc||function _u(I){return new Promise((m,y)=>{var S,X,oe;function _t(){Md(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Md(),y(Xe(I,"network-request-failed"))},timeout:ec.get()})}if(null!==(X=null===(S=uo().gapi)||void 0===S?void 0:S.iframes)&&void 0!==X&&X.Iframe)m(gapi.iframes.getContext());else{if(null===(oe=uo().gapi)||void 0===oe||!oe.load){const Nt=gi("iframefcb");return uo()[Nt]=()=>{gapi.load?_t():y(Xe(I,"network-request-failed"))},yi(`https://apis.google.com/js/api.js?onload=${Nt}`).catch(un=>y(un))}_t()}}).catch(m=>{throw Wc=null,m})}(I),Wc}(I),y=uo().gapi;return te(y,I,"internal-error"),m.open({where:document.body,url:Od(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qc,dontclear:!0},S=>new Promise(function(){var X=(0,l.Z)(function*(oe,_t){yield S.restyle({setHideOnLeave:!1});const Nt=Xe(I,"network-request-failed"),un=uo().setTimeout(()=>{_t(Nt)},Gc.get());function zn(){uo().clearTimeout(un),oe(S)}S.ping(zn).then(zn,()=>{_t(Nt)})});return function(oe,_t){return X.apply(this,arguments)}}()))}),Zi.apply(this,arguments)}const Do={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xs{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rc="__/auth/handler",Wo="emulator/auth/handler",ic=encodeURIComponent("fac");function Go(I,m,y,S,X,oe){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(I,m,y,S,X,oe){te(I.config.authDomain,I,"auth-domain-config-required"),te(I.config.apiKey,I,"invalid-api-key");const _t={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:S,v:ee.SDK_VERSION,eventId:X};if(m instanceof Ei){m.setDefaultLanguage(I.languageCode),_t.providerId=m.providerId||"",(0,V.xb)(m.getCustomParameters())||(_t.customParameters=JSON.stringify(m.getCustomParameters()));for(const[nr,qr]of Object.entries(oe||{}))_t[nr]=qr}if(m instanceof Ko){const nr=m.getScopes().filter(qr=>""!==qr);nr.length>0&&(_t.scopes=nr.join(","))}I.tenantId&&(_t.tid=I.tenantId);const Nt=_t;for(const nr of Object.keys(Nt))void 0===Nt[nr]&&delete Nt[nr];const un=yield I._getAppCheckToken(),zn=un?`#${ic}=${encodeURIComponent(un)}`:"";return`${function Gl({config:I}){return I.emulator?fe(I,Wo):`https://${I.authDomain}/${rc}`}(I)}?${(0,V.xO)(Nt).slice(1)}${zn}`})).apply(this,arguments)}const Kc="webStorageSupport",ql=class kd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ha,this._completeRedirectFn=gu,this._overrideRedirectResult=Ps}_openPopup(m,y,S,X){var oe=this;return(0,l.Z)(function*(){var _t;Le(null===(_t=oe.eventManagers[m._key()])||void 0===_t?void 0:_t.manager,"_initialize() not called before _openPopup()");const Nt=yield Go(m,y,S,st(),X);return function nc(I,m,y,S=500,X=600){const oe=Math.max((window.screen.availHeight-X)/2,0).toString(),_t=Math.max((window.screen.availWidth-S)/2,0).toString();let Nt="";const un=Object.assign(Object.assign({},Do),{width:S.toString(),height:X.toString(),top:oe,left:_t}),zn=(0,V.z$)().toLowerCase();y&&(Nt=Ge(zn)?"_blank":y),ar(zn)&&(m=m||"http://localhost",un.scrollbars="yes");const nr=Object.entries(un).reduce((cs,[Kl,Zl])=>`${cs}${Kl}=${Zl},`,"");if(function hn(I=(0,V.z$)()){var m;return Lt(I)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(zn)&&"_self"!==Nt)return function ya(I,m){const y=document.createElement("a");y.href=I,y.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(m||"",Nt),new xs(null);const qr=window.open(m||"",Nt,nr);te(qr,I,"popup-blocked");try{qr.focus()}catch{}return new xs(qr)}(m,Nt,en())})()}_openRedirect(m,y,S,X){var oe=this;return(0,l.Z)(function*(){return yield oe._originValidation(m),function _i(I){uo().location.href=I}(yield Go(m,y,S,st(),X)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:X,promise:oe}=this.eventManagers[y];return X?Promise.resolve(X):(Le(oe,"If manager is not set, promise should be"),oe)}const S=this.initAndGetManager(m);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(m){var y=this;return(0,l.Z)(function*(){const S=yield function vu(I){return Zi.apply(this,arguments)}(m),X=new Xo(m);return S.register("authEvent",oe=>(te(null==oe?void 0:oe.authEvent,m,"invalid-auth-event"),{status:X.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:X},y.iframes[m._key()]=S,X})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Kc,{type:Kc},X=>{var oe;const _t=null===(oe=null==X?void 0:X[0])||void 0===oe?void 0:oe[Kc];void 0!==_t&&y(!!_t),Se(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Gs(I){return $r.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return cr()||nt()||Lt()}};class ys{constructor(m){this.factorId=m}_process(m,y,S){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,S);case"signin":return this._finalizeSignIn(m,y.credential);default:return je("unexpected MultiFactorSessionType")}}}class Zc extends ys{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Zc(m)}_finalizeEnroll(m,y,S){return function Vh(I,m){return ht(I,"POST","/v2/accounts/mfaEnrollment:finalize",De(I,m))}(m,{idToken:y,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function gn(I,m){return ht(I,"POST","/v2/accounts/mfaSignIn:finalize",De(I,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qc=(()=>{class I{constructor(){}static assertion(y){return Zc._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var Eu="@firebase/auth";class zh{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(S=>{m((null==S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jo=(0,V.Pz)("authIdTokenMaxAge")||300;let Ld=null;const Yl=I=>function(){var m=(0,l.Z)(function*(y){const S=y&&(yield y.getIdTokenResult()),X=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(X&&X>Jo)return;const oe=null==S?void 0:S.token;Ld!==oe&&(Ld=oe,yield fetch(I,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function Al(I=(0,ee.getApp)()){const m=(0,ee._getProvider)(I,"auth");if(m.isInitialized())return m.getImmediate();const y=function Ue(I,m){const y=(0,ee._getProvider)(I,"auth");if(y.isInitialized()){const X=y.getImmediate(),oe=y.getOptions();if((0,V.vZ)(oe,null!=m?m:{}))return X;Se(X,"already-initialized")}return y.initialize({options:m})}(I,{popupRedirectResolver:ql,persistence:[Re,da,ha]}),S=(0,V.Pz)("authTokenSyncURL");if(S){const oe=Yl(S);(function vn(I,m,y){(0,V.m9)(I).beforeAuthStateChanged(m,y)})(y,oe,()=>oe(y.currentUser)),function qi(I,m,y,S){(0,V.m9)(I).onIdTokenChanged(m,y,S)}(y,_t=>oe(_t))}const X=(0,V.q4)("auth");return X&&At(y,`http://${X}`),y}!function qs(I){(0,ee._registerComponent)(new Ae.wA("auth",(m,{options:y})=>{const S=m.getProvider("app").getImmediate(),X=m.getProvider("heartbeat"),oe=m.getProvider("app-check-internal"),{apiKey:_t,authDomain:Nt}=S.options;te(_t&&!_t.includes(":"),"invalid-api-key",{appName:S.name});const un={apiKey:_t,authDomain:Nt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ir(I)},zn=new br(S,X,oe,un);return function ut(I,m){const y=(null==m?void 0:m.persistence)||[],S=(Array.isArray(y)?y:[y]).map(et);null!=m&&m.errorMap&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(S,null==m?void 0:m.popupRedirectResolver)}(zn,y),zn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,S)=>{m.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new Ae.wA("auth-internal",m=>{const y=Ln(m.getProvider("auth").getImmediate());return new zh(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Eu,"1.4.0",function oc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ee.registerVersion)(Eu,"1.4.0","esm2017")}("Browser")},5776:(cn,ft,N)=>{"use strict";N.d(ft,{u7:()=>r_,Jj:()=>Td,IX:()=>sv,my:()=>ts,xU:()=>kh,Lz:()=>Rc,WA:()=>Qt,F8:()=>Sh,$q:()=>xc,W:()=>Fh,EK:()=>eo,PU:()=>Xg,l7:()=>Rs,Ky:()=>wn,Xb:()=>Hi,Cf:()=>vi,K9:()=>qi,Me:()=>Wi,yq:()=>ji,Wi:()=>fy,ET:()=>Vy,Ab:()=>xv,vr:()=>d_,Fc:()=>my,hJ:()=>py,B$:()=>Ug,at:()=>rv,oe:()=>bv,AK:()=>Gy,TF:()=>vy,JU:()=>Rf,ST:()=>gy,fH:()=>lv,Ix:()=>Up,Wu:()=>Sy,Lx:()=>jE,qY:()=>qo,GL:()=>Lh,QT:()=>Ny,kl:()=>Kg,Xk:()=>Zg,PL:()=>HE,UQ:()=>ky,zN:()=>Fy,ad:()=>av,nP:()=>h_,b9:()=>Ev,vh:()=>Iv,Pb:()=>yy,L$:()=>Ey,cf:()=>By,sc:()=>Av,Xo:()=>yv,IO:()=>kf,iE:()=>Pf,Eo:()=>iv,i3:()=>Wy,Bt:()=>Mv,pl:()=>o_,Ub:()=>$s,qK:()=>Oy,TQ:()=>Ay,e0:()=>t_,r7:()=>Ly,Mx:()=>_y,ar:()=>Ff});var Me,l=N(5861),V=N(534),ee=N(4537),de=N(7879),Pe=N(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},ot=ot||{},ie=Ae||self;function me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Be(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),Ke=0;function Ze(i,e,n){return i.call.apply(i.bind,arguments)}function Qe(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ze(i,e,n){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:Qe).apply(null,arguments)}function rt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function vt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,u,f){for(var _=Array(arguments.length-2),P=2;P<arguments.length;P++)_[P-2]=arguments[P];return e.prototype[u].apply(s,_)}}function Se(){this.s=this.s,this.o=this.o}Se.prototype.s=!1,Se.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fe(i){Object.prototype.hasOwnProperty.call(i,He)&&i[He]||(i[He]=++Ke)}(this)},Se.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ve=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Oe(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function Ce(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(me(s)){const u=i.length||0,f=s.length||0;i.length=u+f;for(let _=0;_<f;_++)i[u+_]=s[_]}else i.push(s)}}function te(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return i}();function Le(i){return/^[\s\xa0]*$/.test(i)}function st(){var i=ie.navigator;return i&&(i=i.userAgent)?i:""}function dt(i){return-1!=st().indexOf(i)}function Et(i){return Et[" "](i),i}Et[" "]=function(){};var ht,i,ln=dt("Opera"),rn=dt("Trident")||dt("MSIE"),fe=dt("Edge"),ge=fe||rn,ae=dt("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),$e=-1!=st().toLowerCase().indexOf("webkit")&&!dt("Edge");function De(){var i=ie.document;return i?i.documentMode:void 0}e:{var mt="",kt=(i=st(),ae?/rv:([^\);]+)(\)|;)/.exec(i):fe?/Edge\/([\d\.]+)/.exec(i):rn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):$e?/WebKit\/(\S+)/.exec(i):ln?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(kt&&(mt=kt?kt[1]:""),rn){var St=De();if(null!=St&&St>parseFloat(mt)){ht=String(St);break e}}ht=mt}var An=ie.document&&rn&&(De()||parseInt(ht,10))||void 0;function Pt(i,e){if(te.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ae){e:{try{Et(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:wt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pt.$.h.call(this)}}vt(Pt,te);var wt={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Zt(i,e,n,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++Ut,this.fa=this.ia=!1}function Rn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Pn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function mn(i){const e={};for(const n in i)e[n]=i[n];return e}const Mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(i,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)i[n]=s[n];for(let f=0;f<Mn.length;f++)n=Mn[f],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Hr(i){this.src=i,this.g={},this.h=0}function Dn(i,e){var n=e.type;if(n in i.g){var f,s=i.g[n],u=Ve(s,e);(f=0<=u)&&Array.prototype.splice.call(s,u,1),f&&(Rn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Kn(i,e,n,s){for(var u=0;u<i.length;++u){var f=i[u];if(!f.fa&&f.listener==e&&f.capture==!!n&&f.la==s)return u}return-1}Hr.prototype.add=function(i,e,n,s,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var _=Kn(i,e,s,u);return-1<_?(e=i[_],n||(e.ia=!1)):((e=new Zt(e,this.src,f,!!s,u)).ia=n,i.push(e)),e};var Vn="closure_lm_"+(1e6*Math.random()|0),fr={};function Pr(i,e,n,s,u){if(s&&s.once)return mr(i,e,n,s,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Pr(i,e[f],n,s,u);return null}return n=Kr(n),i&&i[bt]?i.O(e,n,Be(s)?!!s.capture:!!s,u):ci(i,e,n,!1,s,u)}function ci(i,e,n,s,u,f){if(!e)throw Error("Invalid event type");var _=Be(u)?!!u.capture:!!u,P=gr(i);if(P||(i[Vn]=P=new Hr(i)),(n=P.add(e,n,s,_,f)).proxy)return n;if(s=function Cn(){const e=On;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)je||(u=_),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(ki(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function mr(i,e,n,s,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)mr(i,e[f],n,s,u);return null}return n=Kr(n),i&&i[bt]?i.P(e,n,Be(s)?!!s.capture:!!s,u):ci(i,e,n,!0,s,u)}function Xi(i,e,n,s,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Xi(i,e[f],n,s,u);else s=Be(s)?!!s.capture:!!s,n=Kr(n),i&&i[bt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Kn(f=i.g[e],n,s,u))&&(Rn(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=gr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Kn(e,n,s,u)),(n=-1<i?e[i]:null)&&Jn(n))}function Jn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[bt])Dn(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(ki(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=gr(e))?(Dn(n,i),0==n.h&&(n.src=null,e[Vn]=null)):Rn(i)}}}function ki(i){return i in fr?fr[i]:fr[i]="on"+i}function On(i,e){if(i.fa)i=!0;else{e=new Pt(e,this);var n=i.listener,s=i.la||i.src;i.ia&&Jn(i),i=n.call(s,e)}return i}function gr(i){return(i=i[Vn])instanceof Hr?i:null}var Si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(i){return"function"==typeof i?i:(i[Si]||(i[Si]=function(e){return i.handleEvent(e)}),i[Si])}function Dr(){Se.call(this),this.i=new Hr(this),this.S=this,this.J=null}function er(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new te(e,i);else if(e instanceof te)e.target=e.target||i;else{var u=e;Xn(e=new te(s,i),u)}if(u=!0,n)for(var f=n.length-1;0<=f;f--){var _=e.g=n[f];u=Cr(_,s,!0,e)&&u}if(u=Cr(_=e.g=i,s,!0,e)&&u,u=Cr(_,s,!1,e)&&u,n)for(f=0;f<n.length;f++)u=Cr(_=e.g=n[f],s,!1,e)&&u}function Cr(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var _=e[f];if(_&&!_.fa&&_.capture==n){var P=_.listener,F=_.la||_.src;_.ia&&Dn(i.i,_),u=!1!==P.call(F,s)&&u}}return u&&!s.defaultPrevented}vt(Dr,Se),Dr.prototype[bt]=!0,Dr.prototype.removeEventListener=function(i,e,n,s){Xi(this,i,e,n,s)},Dr.prototype.N=function(){if(Dr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Rn(n[s]);delete i.g[e],i.h--}}this.J=null},Dr.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Dr.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var wr=ie.JSON.stringify;function Lr(){var i=$;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var hi=new class di{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Gi,i=>i.reset());class Gi{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function it(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function le(i){ie.setTimeout(()=>{throw i},0)}let j,Z=!1,$=new class Ri{constructor(){this.h=this.g=null}add(e,n){const s=hi.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},Ee=()=>{const i=ie.Promise.resolve(void 0);j=()=>{i.then(et)}};var et=()=>{for(var i;i=Lr();){try{i.h.call(i.g)}catch(n){le(n)}var e=hi;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Z=!1};function Ct(i,e){Dr.call(this),this.h=i||1,this.g=e||ie,this.j=ze(this.qb,this),this.l=Date.now()}function sn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Kt(i,e,n){if("function"==typeof i)n&&(i=ze(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ze(i.handleEvent,i)}return 2147483647<Number(e)?-1:ie.setTimeout(i,e||0)}function Bn(i){i.g=Kt(()=>{i.g=null,i.i&&(i.i=!1,Bn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}vt(Ct,Dr),(Me=Ct.prototype).ga=!1,Me.T=null,Me.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),er(this,"tick"),this.ga&&(sn(this),this.start()))}},Me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.N=function(){Ct.$.N.call(this),sn(this),delete this.g};class Fn extends Se{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(i){Se.call(this),this.h=i,this.g={}}vt(ar,Se);var nt=[];function Ge(i,e,n,s){Array.isArray(n)||(n&&(nt[0]=n.toString()),n=nt);for(var u=0;u<n.length;u++){var f=Pr(e,n[u],s||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Tt(i){Pn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Jn(e)},i),i.g={}}function xe(){this.g=!0}function Lt(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<u.length;_++)u[_]=""}}}return wr(n)}catch{return e}}(i,n)+(s?" "+s:"")})}ar.prototype.N=function(){ar.$.N.call(this),Tt(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xe.prototype.Ea=function(){this.g=!1},xe.prototype.info=function(){};var En={},cr=null;function _r(){return cr=cr||new Dr}function ir(i){te.call(this,En.Ta,i)}function Or(i){const e=_r();er(e,new ir(e))}function mo(i,e){te.call(this,En.STAT_EVENT,i),this.stat=e}function lr(i){const e=_r();er(e,new mo(e,i))}function Mr(i,e){te.call(this,En.Ua,i),this.size=e}function pr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){i()},e)}En.Ta="serverreachability",vt(ir,te),En.STAT_EVENT="statevent",vt(mo,te),En.Ua="timingevent",vt(Mr,te);var br={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ln={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zr(){}function yi(){}zr.prototype.h=null;var ri,gi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function no(){te.call(this,"d")}function Co(){te.call(this,"c")}function Fi(){}function ro(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new ar(this),this.P=ko,this.V=new Ct(i=ge?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wo}function wo(){this.i=null,this.g="",this.h=!1}vt(no,te),vt(Co,te),vt(Fi,zr),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},ri=new Fi;var ko=45e3,_o={},G={};function re(i,e,n){i.L=1,i.v=ks(Sr(e)),i.s=n,i.S=!0,Ue(i,null)}function Ue(i,e){i.G=Date.now(),Xt(i),i.A=Sr(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Bt(n.i,"t",s),i.C=0,n=i.l.J,i.h=new wo,i.g=jo(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Fn(ze(i.Pa,i,i.g),i.O)),Ge(i.U,i.g,"readystatechange",i.nb),e=i.I?mn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Or(),function qe(i,e,n,s,u,f){i.info(function(){if(i.g)if(f)for(var _="",P=f.split("&"),F=0;F<P.length;F++){var Q=P[F].split("=");if(1<Q.length){var se=Q[0];Q=Q[1];var Ne=se.split("_");_=2<=Ne.length&&"type"==Ne[1]?_+(se+"=")+Q+"&":_+(se+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+_})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ut(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function At(i,e,n){let u,s=!0;for(;!i.J&&i.C<n.length;){if(u=gt(i,n),u==G){4==e&&(i.o=4,lr(14),s=!1),Lt(i.j,i.m,null,"[Incomplete Response]");break}if(u==_o){i.o=4,lr(15),Lt(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Lt(i.j,i.m,u,null),Yn(i,u)}ut(i)&&u!=G&&u!=_o&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,lr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ro(e),e.M=!0,lr(11))):(Lt(i.j,i.m,n,"[Invalid Chunked Response]"),fn(i),Ft(i))}function gt(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?G:(n=Number(e.substring(n,s)),isNaN(n)?_o:(s+=1)+n>e.length?G:(e=e.slice(s,s+n),i.C=s+n,e))}function Xt(i){i.Y=Date.now()+i.P,nn(i,i.P)}function nn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=pr(ze(i.lb,i),e)}function Gt(i){i.B&&(ie.clearTimeout(i.B),i.B=null)}function Ft(i){0==i.l.H||i.J||fo(i.l,i)}function fn(i){Gt(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,sn(i.V),Tt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Yn(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Fo(n.i,i)))if(!i.K&&Fo(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Li(n),q(n)}ai(n),lr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=pr(ze(n.ib,n),6e3));if(1>=Ji(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Di(n,11)}else if((i.K||n.g==i)&&Li(n),!Le(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let Q=u[e];if(n.V=Q[0],Q=Q[1],2==n.H)if("c"==Q[0]){n.K=Q[1],n.pa=Q[2];const se=Q[3];null!=se&&(n.ra=se,n.l.info("VER="+n.ra));const Ne=Q[4];null!=Ne&&(n.Ga=Ne,n.l.info("SVER="+n.Ga));const pt=Q[5];null!=pt&&"number"==typeof pt&&0<pt&&(n.L=s=1.5*pt,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Mt=i.g;if(Mt){const yn=Mt.g?Mt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yn){var f=s.i;f.g||-1==yn.indexOf("spdy")&&-1==yn.indexOf("quic")&&-1==yn.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ho(f,f.h),f.h=null))}if(s.F){const Sn=Mt.g?Mt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sn&&(s.Da=Sn,Wr(s.I,s.F,Sn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var _=i;if((s=n).wa=mi(s,s.J?s.pa:null,s.Y),_.K){xo(s.i,_);var P=_,F=s.L;F&&P.setTimeout(F),P.B&&(Gt(P),Xt(P)),s.g=_}else xi(s);0<n.j.length&&_e(n)}else"stop"!=Q[0]&&"close"!=Q[0]||Di(n,7);else 3==n.H&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Di(n,7):fs(n):"noop"!=Q[0]&&n.h&&n.h.Aa(Q),n.A=0)}Or()}catch{}}function x(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(me(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function ce(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(me(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function D(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(me(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),u=s.length,f=0;f<u;f++)e.call(void 0,s[f],n&&n[f],i)}(Me=ro.prototype).setTimeout=function(i){this.P=i},Me.nb=function(i){i=i.target;const e=this.M;e&&3==Qo(i)?e.l():this.Pa(i)},Me.Pa=function(i){try{if(i==this.g)e:{const se=Qo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||ge||this.g&&(this.h.h||this.g.ja()||Xs(this.g)))){this.J||4!=se||7==e||Or(),Gt(this);var n=this.g.da();this.ca=n;t:if(ut(this)){var s=Xs(this.g);i="";var u=s.length,f=4==Qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Ft(this);var _="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:f&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==n,function ct(i,e,n,s,u,f,_){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.W,se,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var P,F=this.g;if((P=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(P)){var Q=P;break t}}Q=null}if(!(n=Q)){this.i=!1,this.o=3,lr(12),fn(this),Ft(this);break e}Lt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,n)}this.S?(At(this,se,_),ge&&this.i&&3==se&&(Ge(this.U,this.V,"tick",this.mb),this.V.start())):(Lt(this.j,this.m,_,null),Yn(this,_)),4==se&&fn(this),this.i&&!this.J&&(4==se?fo(this.l,this):(this.i=!1,Xt(this)))}else(function qa(i){const e={};i=(i.g&&2<=Qo(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Le(i[s]))continue;var n=it(i[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const f=e[u]||[];e[u]=f,f.push(n)}!function jn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<_.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),fn(this),Ft(this)}}}catch{}},Me.mb=function(){if(this.g){var i=Qo(this.g),e=this.g.ja();this.C<e.length&&(Gt(this),At(this,i,e),this.i&&4!=i&&Xt(this))}},Me.cancel=function(){this.J=!0,fn(this)},Me.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ot(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Or(),lr(17)),fn(this),this.o=2,Ft(this)):nn(this,this.Y-i)};var he=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Un(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Un){this.h=i.h,ei(this,i.j),this.s=i.s,this.g=i.g,io(this,i.m),this.l=i.l;var e=i.i,n=new pe;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oo(this,n),this.o=i.o}else i&&(e=String(i).match(he))?(this.h=!1,ei(this,e[1]||"",!0),this.s=Zr(e[2]||""),this.g=Zr(e[3]||"",!0),io(this,e[4]),this.l=Zr(e[5]||"",!0),oo(this,e[6]||"",!0),this.o=Zr(e[7]||"")):(this.h=!1,this.i=new pe(null,this.h))}function Sr(i){return new Un(i)}function ei(i,e,n){i.j=n?Zr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function io(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function oo(i,e,n){e instanceof pe?(i.i=e,function an(i,e){e&&!i.j&&(Y(i),i.i=null,i.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(ve(this,s),Bt(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Tn(e,co)),i.i=new pe(e,i.h))}function Wr(i,e,n){i.i.set(e,n)}function ks(i){return Wr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Tn(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,tr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function tr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Un.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Tn(e,fi,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Tn(e,fi,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Tn(n,"/"==n.charAt(0)?Yo:so,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Tn(n,ue)),i.join("")};var fi=/[#\/\?@]/g,so=/[#\?:]/g,Yo=/[#\?]/g,co=/[#\?@]/g,ue=/#/g;function pe(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Y(i){i.g||(i.g=new Map,i.h=0,i.i&&function at(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),u=null;if(0<=s){var f=i[n].substring(0,s);u=i[n].substring(s+1)}else f=i[n];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ve(i,e){Y(i),e=_n(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ye(i,e){return Y(i),e=_n(i,e),i.g.has(e)}function Bt(i,e,n){ve(i,e),0<n.length&&(i.i=null,i.g.set(_n(i,e),Oe(n)),i.h+=n.length)}function _n(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function qn(i){this.l=i||Mi,i=ie.PerformanceNavigationTiming?0<(i=ie.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Me=pe.prototype).add=function(i,e){Y(this),this.i=null,i=_n(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Me.forEach=function(i,e){Y(this),this.g.forEach(function(n,s){n.forEach(function(u){i.call(e,u,s,this)},this)},this)},Me.ta=function(){Y(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=i[s];for(let f=0;f<u.length;f++)n.push(e[s])}return n},Me.Z=function(i){Y(this);let e=[];if("string"==typeof i)Ye(this,i)&&(e=e.concat(this.g.get(_n(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Me.set=function(i,e){return Y(this),this.i=null,Ye(this,i=_n(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Me.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const f=encodeURIComponent(String(s)),_=this.Z(s);for(s=0;s<_.length;s++){var u=f;""!==_[s]&&(u+="="+encodeURIComponent(String(_[s]))),i.push(u)}}return this.i=i.join("&")};var Mi=10;function Ui(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ji(i){return i.h?1:i.g?i.g.size:0}function Fo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ho(i,e){i.g?i.g.add(e):i.h=e}function xo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Lo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Oe(i.i)}qn.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ns=class{stringify(i){return ie.JSON.stringify(i,void 0)}parse(i){return ie.JSON.parse(i,void 0)}};function Nr(){this.g=new ns}function kc(i,e,n){const s=n||"";try{x(i,function(u,f){let _=u;Be(u)&&(_=wr(u)),e.push(s+f+"="+encodeURIComponent(_))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function Ga(i,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function ao(i){this.l=i.ec||null,this.j=i.ob||!1}function Ei(i,e){Dr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ko,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(ao,zr),ao.prototype.g=function(){return new Ei(this.l,this.j)},ao.prototype.i=function(i){return function(){return i}}({}),vt(Ei,Dr);var Ko=0;function Vo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function lo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,pl(i)}function pl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Me=Ei.prototype).open=function(i,e){if(this.readyState!=Ko)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,pl(this)},Me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=Ko},Me.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Me.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?lo(this):pl(this),3==this.readyState&&Vo(this)}},Me.Za=function(i){this.g&&(this.response=this.responseText=i,lo(this))},Me.Ya=function(i){this.g&&(this.response=i,lo(this))},Me.ka=function(){this.g&&lo(this)},Me.setRequestHeader=function(i,e){this.v.append(i,e)},Me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Bo=ie.JSON.parse;function Vr(i){Dr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zo,this.L=this.M=!1}vt(Vr,Dr);var Zo="",Zs=/^https?$/i,Qs=["POST","PUT"];function Fs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,gl(i),Ls(i)}function gl(i){i.F||(i.F=!0,er(i,"complete"),er(i,"error"))}function Uo(i){if(i.h&&typeof ot<"u"&&(!i.C[1]||4!=Qo(i)||2!=i.da()))if(i.v&&4==Qo(i))Kt(i.La,0,i);else if(er(i,"readystatechange"),4==Qo(i)){i.h=!1;try{const _=i.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===_){var u=String(i.I).match(he)[1]||null;!u&&ie.self&&ie.self.location&&(u=ie.self.location.protocol.slice(0,-1)),s=!Zs.test(u?u.toLowerCase():"")}n=s}if(n)er(i,"complete"),er(i,"success");else{i.m=6;try{var f=2<Qo(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.da()+"]",gl(i)}}finally{Ls(i)}}}function Ls(i,e){if(i.g){Aa(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||er(i,"ready");try{n.onreadystatechange=s}catch{}}}function Aa(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ie.clearTimeout(i.A),i.A=null)}function Qo(i){return i.g?i.g.readyState:0}function Xs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Zo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function kl(i){let e="";return Pn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function uu(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=kl(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Wr(i,e,n))}function Ti(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ml(i){this.Ga=0,this.j=[],this.l=new xe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ti("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ti("baseRetryDelayMs",5e3,i),this.hb=Ti("retryDelaySeedMs",1e4,i),this.eb=Ti("forwardChannelMaxRetries",2,i),this.xa=Ti("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new qn(i&&i.concurrentRequestLimit),this.Ja=new Nr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fs(i){if(k(i),3==i.H){var e=i.W++,n=Sr(i.I);if(Wr(n,"SID",i.K),Wr(n,"RID",e),Wr(n,"TYPE","terminate"),zt(i,n),(e=new ro(i,i.l,e)).L=2,e.v=ks(Sr(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=jo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xt(e)}aa(i)}function q(i){i.g&&(Ro(i),i.g.cancel(),i.g=null)}function k(i){q(i),i.u&&(ie.clearTimeout(i.u),i.u=null),Li(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ie.clearTimeout(i.m),i.m=null)}function _e(i){if(!Ui(i.i)&&!i.m){i.m=!0;var e=i.Na;j||Ee(),Z||(j(),Z=!0),$.add(e,i),i.C=0}}function be(i,e){var n;n=e?e.m:i.W++;const s=Sr(i.I);Wr(s,"SID",i.K),Wr(s,"RID",n),Wr(s,"AID",i.V),zt(i,s),i.o&&i.s&&uu(s,i.o,i.s),n=new ro(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=$n(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ho(i.i,n),re(n,s,e)}function zt(i,e){i.na&&Pn(i.na,function(n,s){Wr(e,s,n)}),i.h&&x({},function(n,s){Wr(e,s,n)})}function $n(i,e,n){n=Math.min(i.j.length,n);var s=i.h?ze(i.h.Va,i.h,i):null;e:{var u=i.j;let f=-1;for(;;){const _=["count="+n];-1==f?0<n?(f=u[0].g,_.push("ofs="+f)):f=0:_.push("ofs="+f);let P=!0;for(let F=0;F<n;F++){let Q=u[F].g;const se=u[F].map;if(Q-=f,0>Q)f=Math.max(0,u[F].g-100),P=!1;else try{kc(se,_,"req"+Q+"_")}catch{s&&s(se)}}if(P){s=_.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function xi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;j||Ee(),Z||(j(),Z=!0),$.add(e,i),i.A=0}}function ai(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=pr(ze(i.Ma,i),sa(i,i.A)),i.A++,0))}function Ro(i){null!=i.B&&(ie.clearTimeout(i.B),i.B=null)}function vo(i){i.g=new ro(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Sr(i.wa);Wr(e,"RID","rpc"),Wr(e,"SID",i.K),Wr(e,"AID",i.V),Wr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Wr(e,"TO",i.qa),Wr(e,"TYPE","xmlhttp"),zt(i,e),i.o&&i.s&&uu(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=ks(Sr(e)),n.s=null,n.S=!0,Ue(n,i)}function Li(i){null!=i.v&&(ie.clearTimeout(i.v),i.v=null)}function fo(i,e){var n=null;if(i.g==e){Li(i),Ro(i),i.g=null;var s=2}else{if(!Fo(i.i,e))return;n=e.F,xo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;er(s=_r(),new Mr(s,n)),_e(i)}else xi(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function H(i,e){return!(Ji(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=pr(ze(i.Na,i,e),sa(i,i.C)),i.C++,0)))}(i,e)||2==s&&ai(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Di(i,5);break;case 4:Di(i,10);break;case 3:Di(i,6);break;default:Di(i,2)}}function sa(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Di(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=ze(i.pb,i);n||(n=new Un("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||ei(n,"https"),ks(n)),function ws(i,e){const n=new xe;if(ie.Image){const s=new Image;s.onload=rt(Ga,n,s,"TestLoadImage: loaded",!0,e),s.onerror=rt(Ga,n,s,"TestLoadImage: error",!1,e),s.onabort=rt(Ga,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=rt(Ga,n,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else lr(2);i.H=0,i.h&&i.h.za(e),aa(i),k(i)}function aa(i){if(i.H=0,i.ma=[],i.h){const e=Lo(i.i);(0!=e.length||0!=i.j.length)&&(Ce(i.ma,e),Ce(i.ma,i.j),i.i.i.length=0,Oe(i.j),i.j.length=0),i.h.ya()}}function mi(i,e,n){var s=n instanceof Un?Sr(n):new Un(n);if(""!=s.g)e&&(s.g=e+"."+s.g),io(s,s.m);else{var u=ie.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var f=new Un(null);s&&ei(f,s),e&&(f.g=e),u&&io(f,u),n&&(f.l=n),s=f}return e=i.Da,(n=i.F)&&e&&Wr(s,n,e),Wr(s,"VER",i.ra),zt(i,s),s}function jo(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(n&&i.Ha&&!i.va?new ao({ob:!0}):i.va)).Oa(i.J),e}function bs(){}function la(){if(rn&&!(10<=Number(An)))throw Error("Environmental error: no available transport.")}function yo(i,e){Dr.call(this),this.g=new ml(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Le(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Le(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new wi(this)}function ps(i){no.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Fl(){Co.call(this),this.status=1}function wi(i){this.g=i}function rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ll(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var f=i.g[3],_=(e=i.g[0])+(f^(n=i.g[1])&((u=i.g[2])^f))+s[0]+3614090360&4294967295;_=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=n+(_<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(u^f&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(n^u^f)+s[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(u^(n|~f))+s[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+s[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+s[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((f=(e=n+((_=e+(u^(n|~f))+s[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((u=f+((_=u+(e^(f|~n))+s[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(_<<21&4294967295|_>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+f&4294967295}function pi(i,e){this.h=e;for(var n=[],s=!0,u=i.length-1;0<=u;u--){var f=0|i[u];s&&f==e||(n[u]=f,s=!1)}this.g=n}(Me=Vr.prototype).Oa=function(i){this.M=i},Me.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ri.g(),this.C=function Pi(i){return i.h||(i.h=i.i())}(this.u?this.u:ri),this.g.onreadystatechange=ze(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(f){return void Fs(this,f)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const f of s.keys())n.set(f,s.get(f))}s=Array.from(n.keys()).find(f=>"content-type"==f.toLowerCase()),u=ie.FormData&&i instanceof ie.FormData,!(0<=Ve(Qs,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,_]of n)this.g.setRequestHeader(f,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Aa(this),0<this.B&&((this.L=function $o(i){return rn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.ua,this)):this.A=Kt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){Fs(this,f)}},Me.ua=function(){typeof ot<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},Me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,er(this,"complete"),er(this,"abort"),Ls(this))},Me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ls(this,!0)),Vr.$.N.call(this)},Me.La=function(){this.s||(this.G||this.v||this.l?Uo(this):this.kb())},Me.kb=function(){Uo(this)},Me.isActive=function(){return!!this.g},Me.da=function(){try{return 2<Qo(this)?this.g.status:-1}catch{return-1}},Me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Me.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Bo(e)}},Me.Ia=function(){return this.m},Me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=ml.prototype).ra=8,Me.H=1,Me.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ro(this,this.l,i);let f=this.s;if(this.U&&(f?(f=mn(f),Xn(f,this.U)):f=this.U),null!==this.o||this.O||(u.I=f,f=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$n(this,u,e),Wr(n=Sr(this.I),"RID",i),Wr(n,"CVER",22),this.F&&Wr(n,"X-HTTP-Session-Id",this.F),zt(this,n),f&&(this.O?e="headers="+encodeURIComponent(String(kl(f)))+"&"+e:this.o&&uu(n,this.o,f)),ho(this.i,u),this.bb&&Wr(n,"TYPE","init"),this.P?(Wr(n,"$req",e),Wr(n,"SID","null"),u.aa=!0,re(u,n,null)):re(u,n,e),this.H=2}}else 3==this.H&&(i?be(this,i):0==this.j.length||Ui(this.i)||be(this))},Me.Ma=function(){if(this.u=null,vo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=pr(ze(this.jb,this),i)}},Me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lr(10),q(this),vo(this))},Me.ib=function(){null!=this.v&&(this.v=null,q(this),ai(this),lr(19))},Me.pb=function(i){i?(this.l.info("Successfully pinged google.com"),lr(2)):(this.l.info("Failed to ping google.com"),lr(1))},Me.isActive=function(){return!!this.h&&this.h.isActive(this)},(Me=bs.prototype).Ba=function(){},Me.Aa=function(){},Me.za=function(){},Me.ya=function(){},Me.isActive=function(){return!0},Me.Va=function(){},la.prototype.g=function(i,e){return new yo(i,e)},vt(yo,Dr),yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;lr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=mi(i,null,i.Y),_e(i)},yo.prototype.close=function(){fs(this.g)},yo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=wr(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&_e(e)},yo.prototype.N=function(){this.g.h=null,delete this.j,fs(this.g),delete this.g,yo.$.N.call(this)},vt(ps,no),vt(Fl,Co),vt(wi,bs),wi.prototype.Ba=function(){er(this.g,"a")},wi.prototype.Aa=function(i){er(this.g,new ps(i))},wi.prototype.za=function(i){er(this.g,new Fl)},wi.prototype.ya=function(){er(this.g,"b")},vt(rs,function _l(){this.blockSize=-1}),rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rs.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,u=this.h,f=0;f<e;){if(0==u)for(;f<=n;)Ll(this,i,f),f+=this.blockSize;if("string"==typeof i){for(;f<e;)if(s[u++]=i.charCodeAt(f++),u==this.blockSize){Ll(this,s),u=0;break}}else for(;f<e;)if(s[u++]=i[f++],u==this.blockSize){Ll(this,s),u=0;break}}this.h=u,this.i+=e},rs.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var vl={};function gs(i){return-128<=i&&128>i?function Yt(i,e){var n=vl;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new pi([0|e],0>e?-1:0)}):new pi([0|i],0>i?-1:0)}function Ho(i){if(isNaN(i)||!isFinite(i))return ca;if(0>i)return po(Ho(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=ua;return new pi(e,0)}var ua=4294967296,ca=gs(0),Ka=gs(1),Yu=gs(16777216);function ms(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function is(i){return-1==i.h}function po(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new pi(n,~i.h).add(Ka)}function Vs(i,e){return i.add(po(e))}function yl(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Bs(i,e){this.g=i,this.h=e}function Vl(i,e){if(ms(e))throw Error("division by zero");if(ms(i))return new Bs(ca,ca);if(is(i))return e=Vl(po(i),e),new Bs(po(e.g),po(e.h));if(is(e))return e=Vl(i,po(e)),new Bs(po(e.g),e.h);if(30<i.g.length){if(is(i)||is(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ka,s=e;0>=s.X(i);)n=Bl(n),s=Bl(s);var u=As(n,1),f=As(s,1);for(s=As(s,2),n=As(n,2);!ms(s);){var _=f.add(s);0>=_.X(i)&&(u=u.add(n),f=_),s=As(s,1),n=As(n,1)}return e=Vs(i,u.R(e)),new Bs(u,e)}for(u=ca;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),_=(f=Ho(n)).R(e);is(_)||0<_.X(i);)_=(f=Ho(n-=s)).R(e);ms(f)&&(f=Ka),u=u.add(f),i=Vs(i,_)}return new Bs(u,i)}function Bl(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new pi(n,i.h)}function As(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,u=[],f=0;f<s;f++)u[f]=0<e?i.D(f+n)>>>e|i.D(f+n+1)<<32-e:i.D(f+n);return new pi(u,i.h)}(Me=pi.prototype).ea=function(){if(is(this))return-po(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:ua+s)*e,e*=ua}return i},Me.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ms(this))return"0";if(is(this))return"-"+po(this).toString(i);for(var e=Ho(Math.pow(i,6)),n=this,s="";;){var u=Vl(n,e).g,f=((0<(n=Vs(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(ms(n=u))return f+s;for(;6>f.length;)f="0"+f;s=f+s}},Me.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Me.X=function(i){return is(i=Vs(this,i))?-1:ms(i)?0:1},Me.abs=function(){return is(this)?po(this):this},Me.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,u=0;u<=e;u++){var f=s+(65535&this.D(u))+(65535&i.D(u)),_=(f>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=_>>>16,n[u]=(_&=65535)<<16|(f&=65535)}return new pi(n,-2147483648&n[n.length-1]?-1:0)},Me.R=function(i){if(ms(this)||ms(i))return ca;if(is(this))return is(i)?po(this).R(po(i)):po(po(this).R(i));if(is(i))return po(this.R(po(i)));if(0>this.X(Yu)&&0>i.X(Yu))return Ho(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var f=this.D(s)>>>16,_=65535&this.D(s),P=i.D(u)>>>16,F=65535&i.D(u);n[2*s+2*u]+=_*F,yl(n,2*s+2*u),n[2*s+2*u+1]+=f*F,yl(n,2*s+2*u+1),n[2*s+2*u+1]+=_*P,yl(n,2*s+2*u+1),n[2*s+2*u+2]+=f*P,yl(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new pi(n,0)},Me.gb=function(i){return Vl(this,i).h},Me.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new pi(n,this.h&i.h)},Me.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new pi(n,this.h|i.h)},Me.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new pi(n,this.h^i.h)},la.prototype.createWebChannel=la.prototype.g,yo.prototype.send=yo.prototype.u,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Ln.COMPLETE="complete",yi.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Dr.prototype.listen=Dr.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,rs.prototype.digest=rs.prototype.l,rs.prototype.reset=rs.prototype.reset,rs.prototype.update=rs.prototype.j,pi.prototype.add=pi.prototype.add,pi.prototype.multiply=pi.prototype.R,pi.prototype.modulo=pi.prototype.gb,pi.prototype.compare=pi.prototype.X,pi.prototype.toNumber=pi.prototype.ea,pi.prototype.toString=pi.prototype.toString,pi.prototype.getBits=pi.prototype.D,pi.fromNumber=Ho,pi.fromString=function Ya(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return po(Ya(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ho(Math.pow(e,8)),s=ca,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),_=parseInt(i.substring(u,u+f),e);8>f?(f=Ho(Math.pow(e,f)),s=s.R(f).add(Ho(_))):s=(s=s.R(n)).add(Ho(_))}return s};var El=Te.createWebChannelTransport=function(){return new la},A=Te.getStatEventTarget=function(){return _r()},z=Te.ErrorCode=br,ke=Te.EventType=Ln,U=Te.Event=En,Ie=Te.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Je=Te.FetchXmlHttpFactory=ao,Vt=Te.WebChannel=yi,dn=Te.XhrIo=Vr,Tr=Te.Md5=rs,vr=Te.Integer=pi;const Br="@firebase/firestore";class Gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let li="10.5.2";const Qr=new de.Yd("@firebase/firestore");function Oi(){return Qr.logLevel}function $s(i){Qr.setLogLevel(i)}function Jt(i,...e){if(Qr.logLevel<=de.in.DEBUG){const n=e.map(Po);Qr.debug(`Firestore (${li}): ${i}`,...n)}}function ii(i,...e){if(Qr.logLevel<=de.in.ERROR){const n=e.map(Po);Qr.error(`Firestore (${li}): ${i}`,...n)}}function ji(i,...e){if(Qr.logLevel<=de.in.WARN){const n=e.map(Po);Qr.warn(`Firestore (${li}): ${i}`,...n)}}function Po(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Nn(i="Unexpected state"){const e=`FIRESTORE (${li}) INTERNAL ASSERTION FAILED: `+i;throw ii(e),new Error(e)}function Hn(i,e){i||Nn()}function qi(i,e){i||Nn()}function vn(i,e){return i}const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends Pe.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class To{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Fc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $l{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class bo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ul{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const f=Q=>this.i!==u?(u=this.i,n(Q)):Promise.resolve();let _=new To;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new To,e.enqueueRetryable(()=>f(this.currentUser))};const P=()=>{const Q=_;e.enqueueRetryable((0,l.Z)(function*(){yield Q.promise,yield f(s.currentUser)}))},F=Q=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(Q=>F(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?F(Q):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new To)}},0),P()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Hn("string"==typeof s.accessToken),new Fc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hn(null===e||"string"==typeof e),new Gn(e)}}class Il{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ku{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Il(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ls{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sa{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=f=>{null!=f.error&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,Jt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hn("string"==typeof n.token),this.R=n.token,new ls(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Lc(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Us{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Lc(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function yr(i,e){return i<e?-1:i>e?1:0}function Za(i,e,n){return i.length===e.length&&i.every((s,u)=>n(s,e[u]))}function dr(i){return i+"\0"}class eo{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Qt(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qt(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Qt(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qt(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return eo.fromMillis(Date.now())}static fromDate(e){return eo.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new eo(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yr(this.nanoseconds,e.nanoseconds):yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zn(e)}static min(){return new Zn(new eo(0,0))}static max(){return new Zn(new eo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ra{constructor(e,n,s){void 0===n?n=0:n>e.length&&Nn(),void 0===s?s=e.length-n:s>e.length-n&&Nn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Ra.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ra?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const f=e.get(u),_=n.get(u);if(f<_)return-1;if(f>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ti extends Ra{construct(e,n,s){return new ti(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Qt(xt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new ti(n)}static emptyPath(){return new ti([])}}const Vc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends Ra{construct(e,n,s){return new Hi(e,n,s)}static isValidIdentifier(e){return Vc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const n=[];let s="",u=0;const f=()=>{if(0===s.length)throw new Qt(xt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let _=!1;for(;u<e.length;){const P=e[u];if("\\"===P){if(u+1===e.length)throw new Qt(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const F=e[u+1];if("\\"!==F&&"."!==F&&"`"!==F)throw new Qt(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=F,u+=2}else"`"===P?(_=!_,u++):"."!==P||_?(s+=P,u++):(f(),u++)}if(f(),_)throw new Qt(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(n)}static emptyPath(){return new Hi([])}}class wn{constructor(e){this.path=e}static fromPath(e){return new wn(ti.fromString(e))}static fromName(e){return new wn(ti.fromString(e).popFirst(5))}static empty(){return new wn(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ti.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wn(new ti(e.slice()))}}class da{constructor(e,n,s,u){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=u}}function Bc(i){return i.fields.find(e=>2===e.kind)}function ha(i){return i.fields.filter(e=>2!==e.kind)}da.UNKNOWN_ID=-1;class Qa{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ur{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ur(0,Qn.min())}}function uo(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=Zn.fromTimestamp(1e9===s?new eo(n+1,0):new eo(n,s));return new Qn(u,wn.empty(),e)}function _i(i){return new Qn(i.readTime,i.key,-1)}class Qn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qn(Zn.min(),wn.empty(),-1)}static max(){return new Qn(Zn.max(),wn.empty(),-1)}}function xr(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=wn.comparator(i.documentKey,e.documentKey),0!==n?n:yr(i.largestBatchId,e.largestBatchId))}const os="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ss(i){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,l.Z)(function*(i){if(i.code!==xt.FAILED_PRECONDITION||i.message!==os)throw i;Jt("LocalStore","Unexpectedly lost primary lease")}),Cl.apply(this,arguments)}class Dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Dt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(n,f).next(s,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Dt?n:Dt.resolve(n)}catch(n){return Dt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Dt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Dt.reject(n)}static resolve(e){return new Dt((n,s)=>{n(e)})}static reject(e){return new Dt((n,s)=>{s(e)})}static waitFor(e){return new Dt((n,s)=>{let u=0,f=0,_=!1;e.forEach(P=>{++u,P.next(()=>{++f,_&&f===u&&n()},F=>s(F))}),_=!0,f===u&&n()})}static or(e){let n=Dt.resolve(!1);for(const s of e)n=n.next(u=>u?Dt.resolve(u):s());return n}static forEach(e,n){const s=[];return e.forEach((u,f)=>{s.push(n.call(this,u,f))}),this.waitFor(s)}static mapArray(e,n){return new Dt((s,u)=>{const f=e.length,_=new Array(f);let P=0;for(let F=0;F<f;F++){const Q=F;n(e[Q]).next(se=>{_[Q]=se,++P,P===f&&s(_)},se=>u(se))}})}static doWhile(e,n){return new Dt((s,u)=>{const f=()=>{!0===e()?n().next(()=>{f()},u):s()};f()})}}class Pa{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new To,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ni(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=C(s.target.error);this.V.reject(new Ni(e,u))}}static open(e,n,s,u){try{return new Pa(n,e.transaction(u,s))}catch(f){throw new Ni(n,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Jt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fa(n)}}class ni{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===ni.S((0,Pe.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Jt("SimpleDb","Removing database:",e),Yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Pe.hl)())return!1;if(ni.C())return!0;const e=(0,Pe.z$)(),n=ni.S(e),s=0<n&&n<10,u=ni.v(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||f)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,l.Z)(function*(){return n.db||(Jt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,u)=>{const f=indexedDB.open(n.name,n.version);f.onsuccess=_=>{s(_.target.result)},f.onblocked=()=>{u(new Ni(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const P=_.target.error;u("VersionError"===P.name?new Qt(xt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new Qt(xt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Ni(e,P))},f.onupgradeneeded=_=>{Jt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',_.oldVersion),n.p.N(_.target.result,f.transaction,_.oldVersion,n.version).next(()=>{Jt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,u){var f=this;return(0,l.Z)(function*(){const _="readonly"===n;let P=0;for(;;){++P;try{f.db=yield f.O(e);const F=Pa.open(f.db,e,_?"readonly":"readwrite",s),Q=u(F).next(se=>(F.g(),se)).catch(se=>(F.abort(se),Dt.reject(se))).toPromise();return Q.catch(()=>{}),yield F.m,Q}catch(F){const Q=F,se="FirebaseError"!==Q.name&&P<3;if(Jt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",se),f.close(),!se)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class or{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Yi(this.k.delete())}}class Ni extends Qt{constructor(e,n){super(xt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ma(i){return"IndexedDbTransactionError"===i.name}class fa{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(Jt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(Jt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Yi(s)}add(e){return Jt("SimpleDb","ADD",this.store.name,e,e),Yi(this.store.add(e))}get(e){return Yi(this.store.get(e)).next(n=>(void 0===n&&(n=null),Jt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Jt("SimpleDb","DELETE",this.store.name,e),Yi(this.store.delete(e))}count(){return Jt("SimpleDb","COUNT",this.store.name),Yi(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),f=[];return this.G(u,(_,P)=>{f.push(P)}).next(()=>f)}{const u=this.store.getAll(s.range);return new Dt((f,_)=>{u.onerror=P=>{_(P.target.error)},u.onsuccess=P=>{f(P.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Dt((u,f)=>{s.onerror=_=>{f(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}H(e,n){Jt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const u=this.cursor(s);return this.G(u,(f,_,P)=>P.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const u=this.cursor(s);return this.G(u,n)}Z(e){const n=this.cursor({});return new Dt((s,u)=>{n.onerror=f=>{const _=C(f.target.error);u(_)},n.onsuccess=f=>{const _=f.target.result;_?e(_.primaryKey,_.value).next(P=>{P?_.continue():s()}):s()}})}G(e,n){const s=[];return new Dt((u,f)=>{e.onerror=_=>{f(_.target.error)},e.onsuccess=_=>{const P=_.target.result;if(!P)return void u();const F=new or(P),Q=n(P.primaryKey,P.value,F);if(Q instanceof Dt){const se=Q.catch(Ne=>(F.done(),Dt.reject(Ne)));s.push(se)}F.isDone?u():null===F.$?P.continue():P.continue(F.$)}}).next(()=>Dt.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yi(i){return new Dt((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=C(s.target.error);n(u)}})}let Zu=!1;function C(i){const e=ni.S((0,Pe.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new Qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zu||(Zu=!0,setTimeout(()=>{throw s},0)),s}}return i}class R{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Jt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){n.task=null;try{Jt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){Ma(s)?Jt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ss(s)}yield n.ee(6e4)}))}}class O{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,l.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let u=n,f=!0;return Dt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!s.has(_))return Jt("IndexBackiller",`Processing collection: ${_}`),this.re(e,_,u).next(P=>{u-=P,s.add(_)});f=!1})).next(()=>n-u)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,s).next(f=>{const _=f.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ie(u,f)).next(P=>(Jt("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,n,P))).next(()=>_.size)}))}ie(e,n){let s=e;return n.changes.forEach((u,f)=>{const _=_i(f);xr(_,s)>0&&(s=_)}),new Qn(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let T=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function L(i){return null==i}function ne(i){return 0===i&&1/i==-1/0}function Re(i){return"number"==typeof i&&Number.isInteger(i)&&!ne(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function yt(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Rt(e)),e=gn(i.get(n),e);return Rt(e)}function gn(i,e){let n=e;const s=i.length;for(let u=0;u<s;u++){const f=i.charAt(u);switch(f){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=f}}return n}function Rt(i){return i+"\x01\x01"}function In(i){const e=i.length;if(Hn(e>=2),2===e)return Hn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ti.emptyPath();const n=e-2,s=[];let u="";for(let f=0;f<e;){const _=i.indexOf("\x01",f);switch((_<0||_>n)&&Nn(),i.charAt(_+1)){case"\x01":const P=i.substring(f,_);let F;0===u.length?F=P:(u+=P,F=u,u=""),s.push(F);break;case"\x10":u+=i.substring(f,_),u+="\0";break;case"\x11":u+=i.substring(f,_+1);break;default:Nn()}f=_+2}return new ti(s)}const ur=["userId","batchId"];function Gr(i,e){return[i,yt(e)]}function sr(i,e,n){return[i,yt(e),n]}const oi={},Ao=["prefixPath","collectionGroup","readTime","documentId"],js=["prefixPath","collectionGroup","documentId"],Vi=["collectionGroup","readTime","prefixPath","documentId"],us=["canonicalId","targetId"],Jr=["targetId","path"],Qu=["path","targetId"],zo=["collectionId","parent"],Bh=["indexId","uid"],Rd=["uid","sequenceNumber"],$c=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$h=["indexId","uid","orderedDocumentKey"],jl=["userId","collectionPath","documentId"],Xa=["userId","collectionPath","largestBatchId"],Uc=["userId","collectionGroup","largestBatchId"],xa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hl=[...xa,"documentOverlays"],cu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],du=cu,Xu=[...du,"indexConfiguration","indexState","indexEntries"];class hu extends Xr{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function kr(i,e){const n=vn(i);return ni.M(n.ae,e)}function Ja(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Js(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function pa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class zi{constructor(e,n){this.comparator=e,this.root=n||Eo.EMPTY}insert(e,n){return new zi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ga(this.root,e,this.comparator,!0)}}class ga{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?s(e.key,n):1,n&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eo{constructor(e,n,s,u,f){this.key=e,this.value=n,this.color=null!=s?s:Eo.RED,this.left=null!=u?u:Eo.EMPTY,this.right=null!=f?f:Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,f){return new Eo(null!=e?e:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===f?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Eo.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const e=this.left.check();if(e!==this.right.check())throw Nn();return e+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(e,n,s,u,f){return this}insert(e,n,s){return new Eo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ar(this.data.getIterator())}getIteratorFrom(e){return new Ar(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bi(this.comparator);return n.data=e,n}}class Ar{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fu(i){return i.hasNext()?i.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new ss([])}unionWith(e){let n=new bi(Hi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class jc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Wi(){return typeof atob<"u"}class Mo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new jc("Invalid base64 string: "+f):f}}(e);return new Mo(n)}static fromUint8Array(e){const n=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(e);return new Mo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mo.EMPTY_BYTE_STRING=new Mo("");const zl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(i){if(Hn(!!i),"string"==typeof i){let e=0;const n=zl.exec(i);if(Hn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ki(i.seconds),nanos:Ki(i.nanos)}}function Ki(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function _s(i){return"string"==typeof i?Mo.fromBase64String(i):Mo.fromUint8Array(i)}function el(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hs(i){const e=i.mapValue.fields.__previous_value__;return el(e)?Hs(e):e}function Ju(i){const e=ea(i.mapValue.fields.__local_write_time__.timestampValue);return new eo(e.seconds,e.nanos)}class ta{constructor(e,n,s,u,f,_,P,F,Q){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=P,this.longPollingOptions=F,this.useFetchStreams=Q}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Oa={nullValue:"NULL_VALUE"};function tl(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?el(i)?4:gu(i)?9007199254740991:10:Nn()}function Ps(i,e){if(i===e)return!0;const n=tl(i);if(n!==tl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ju(i).isEqual(Ju(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=ea(u.timestampValue),P=ea(f.timestampValue);return _.seconds===P.seconds&&_.nanos===P.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,_s(i.bytesValue).isEqual(_s(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,f){return Ki(u.geoPointValue.latitude)===Ki(f.geoPointValue.latitude)&&Ki(u.geoPointValue.longitude)===Ki(f.geoPointValue.longitude)}(i,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Ki(u.integerValue)===Ki(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=Ki(u.doubleValue),P=Ki(f.doubleValue);return _===P?ne(_)===ne(P):isNaN(_)&&isNaN(P)}return!1}(i,e);case 9:return Za(i.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(u,f){const _=u.mapValue.fields||{},P=f.mapValue.fields||{};if(Ja(_)!==Ja(P))return!1;for(const F in _)if(_.hasOwnProperty(F)&&(void 0===P[F]||!Ps(_[F],P[F])))return!1;return!0}(i,e);default:return Nn()}var f}function Tl(i,e){return void 0!==(i.values||[]).find(n=>Ps(n,e))}function ma(i,e){if(i===e)return 0;const n=tl(i),s=tl(e);if(n!==s)return yr(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return yr(i.booleanValue,e.booleanValue);case 2:return function(f,_){const P=Ki(f.integerValue||f.doubleValue),F=Ki(_.integerValue||_.doubleValue);return P<F?-1:P>F?1:P===F?0:isNaN(P)?isNaN(F)?0:-1:1}(i,e);case 3:return Pd(i.timestampValue,e.timestampValue);case 4:return Pd(Ju(i),Ju(e));case 5:return yr(i.stringValue,e.stringValue);case 6:return function(f,_){const P=_s(f),F=_s(_);return P.compareTo(F)}(i.bytesValue,e.bytesValue);case 7:return function(f,_){const P=f.split("/"),F=_.split("/");for(let Q=0;Q<P.length&&Q<F.length;Q++){const se=yr(P[Q],F[Q]);if(0!==se)return se}return yr(P.length,F.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,_){const P=yr(Ki(f.latitude),Ki(_.latitude));return 0!==P?P:yr(Ki(f.longitude),Ki(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,_){const P=f.values||[],F=_.values||[];for(let Q=0;Q<P.length&&Q<F.length;++Q){const se=ma(P[Q],F[Q]);if(se)return se}return yr(P.length,F.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,_){if(f===zs.mapValue&&_===zs.mapValue)return 0;if(f===zs.mapValue)return 1;if(_===zs.mapValue)return-1;const P=f.fields||{},F=Object.keys(P),Q=_.fields||{},se=Object.keys(Q);F.sort(),se.sort();for(let Ne=0;Ne<F.length&&Ne<se.length;++Ne){const pt=yr(F[Ne],se[Ne]);if(0!==pt)return pt;const Mt=ma(P[F[Ne]],Q[se[Ne]]);if(0!==Mt)return Mt}return yr(F.length,se.length)}(i.mapValue,e.mapValue);default:throw Nn()}}function Pd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return yr(i,e);const n=ea(i),s=ea(e),u=yr(n.seconds,s.seconds);return 0!==u?u:yr(n.nanos,s.nanos)}function nl(i){return pu(i)}function pu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ea(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?_s(i.bytesValue).toBase64():"referenceValue"in i?wn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",u=!0;for(const f of n.values||[])u?u=!1:s+=",",s+=pu(f);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let u="{",f=!0;for(const _ of s)f?f=!1:u+=",",u+=`${_}:${pu(n.fields[_])}`;return u+"}"}(i.mapValue):Nn()}function wl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rl(i){return!!i&&"integerValue"in i}function Ms(i){return!!i&&"arrayValue"in i}function Uh(i){return!!i&&"nullValue"in i}function bl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Na(i){return!!i&&"mapValue"in i}function Ws(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Js(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ws(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ws(i.arrayValue.values[n]);return e}return Object.assign({},i)}function gu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function as(i){return"nullValue"in i?Oa:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?wl(Rs.empty(),wn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Nn()}function jh(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?wl(Rs.empty(),wn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?zs:Nn()}function mu(i,e){const n=ma(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Hc(i,e){const n=ma(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Xo{constructor(e){this.value=e}static empty(){return new Xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Na(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ws(n)}setAll(e){let n=Hi.emptyPath(),s={},u=[];e.forEach((_,P)=>{if(!n.isImmediateParentOf(P)){const F=this.getFieldsMap(n);this.applyChanges(F,s,u),s={},u=[],n=P.popLast()}_?s[P.lastSegment()]=Ws(_):u.push(P.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,s,u)}delete(e){const n=this.field(e.popLast());Na(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];Na(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new Xo(Ws(this.value))}}function zc(i){const e=[];return Js(i.fields,(n,s)=>{const u=new Hi([n]);if(Na(s)){const f=zc(s.mapValue).fields;if(0===f.length)e.push(u);else for(const _ of f)e.push(u.child(_))}else e.push(u)}),new ss(e)}class si{constructor(e,n,s,u,f,_,P){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=f,this.data=_,this.documentState=P}static newInvalidDocument(e){return new si(e,0,Zn.min(),Zn.min(),Zn.min(),Xo.empty(),0)}static newFoundDocument(e,n,s,u){return new si(e,1,n,Zn.min(),s,u,0)}static newNoDocument(e,n){return new si(e,2,n,Zn.min(),Zn.min(),Xo.empty(),0)}static newUnknownDocument(e,n){return new si(e,3,n,Zn.min(),Zn.min(),Xo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Zn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vs{constructor(e,n){this.position=e,this.inclusive=n}}function ka(i,e,n){let s=0;for(let u=0;u<i.position.length;u++){const f=e[u],_=i.position[u];if(s=f.field.isKeyField()?wn.comparator(wn.fromName(_.referenceValue),n.key):ma(_,n.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function _a(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ps(i.position[n],e.position[n]))return!1;return!0}class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Gs{}class $r extends Gs{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new qc(e,n,s):"array-contains"===n?new Zi(e,s):"in"===n?new Do(e,s):"not-in"===n?new Fa(e,s):"array-contains-any"===n?new Yc(e,s):new $r(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new go(e,s):new Od(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ma(n,this.value)):null!==n&&tl(this.value)===tl(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends Gs{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ui(e,n)}matches(e){return ec(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ec(i){return"and"===i.op}function Md(i){return"or"===i.op}function _u(i){return Wc(i)&&ec(i)}function Wc(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function Hh(i){if(i instanceof $r)return i.field.canonicalString()+i.op.toString()+nl(i.value);if(_u(i))return i.filters.map(e=>Hh(e)).join(",");{const e=i.filters.map(n=>Hh(n)).join(",");return`${i.op}(${e})`}}function Gc(i,e){return i instanceof $r?(s=i,(u=e)instanceof $r&&s.op===u.op&&s.field.isEqual(u.field)&&Ps(s.value,u.value)):i instanceof ui?function(s,u){return u instanceof ui&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,_,P)=>f&&Gc(_,u.filters[P]),!0)}(i,e):void Nn();var s,u}function va(i,e){const n=i.filters.concat(e);return ui.create(n,i.op)}function xd(i){return i instanceof $r?`${(n=i).field.canonicalString()} ${n.op} ${nl(n.value)}`:i instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(xd).join(" ,")+"}"}(i):"Filter";var n}class qc extends $r{constructor(e,n,s){super(e,n,s),this.key=wn.fromName(s.referenceValue)}matches(e){const n=wn.comparator(e.key,this.key);return this.matchesComparison(n)}}class go extends $r{constructor(e,n){super(e,"in",n),this.keys=vu(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Od extends $r{constructor(e,n){super(e,"not-in",n),this.keys=vu(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vu(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>wn.fromName(s.referenceValue))}class Zi extends $r{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ms(n)&&Tl(n.arrayValue,this.value)}}class Do extends $r{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Tl(this.value.arrayValue,n)}}class Fa extends $r{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Tl(this.value.arrayValue,n)}}class Yc extends $r{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ms(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Tl(this.value.arrayValue,s))}}class tc{constructor(e,n=null,s=[],u=[],f=null,_=null,P=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=_,this.endAt=P,this.ce=null}}function ol(i,e=null,n=[],s=[],u=null,f=null,_=null){return new tc(i,e,n,s,u,f,_)}function xs(i){const e=vn(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Hh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),L(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>nl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>nl(s)).join(",")),e.ce=n}return e.ce}function nc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Wl(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Gc(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_a(i.startAt,e.startAt)&&_a(i.endAt,e.endAt)}function ya(i){return wn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function rc(i,e){return i.filters.filter(n=>n instanceof $r&&n.field.isEqual(e))}function Wo(i,e,n){let s=Oa,u=!0;for(const f of rc(i,e)){let _=Oa,P=!0;switch(f.op){case"<":case"<=":_=as(f.value);break;case"==":case"in":case">=":_=f.value;break;case">":_=f.value,P=!1;break;case"!=":case"not-in":_=Oa}mu({value:s,inclusive:u},{value:_,inclusive:P})<0&&(s=_,u=P)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const _=n.position[f];mu({value:s,inclusive:u},{value:_,inclusive:n.inclusive})<0&&(s=_,u=n.inclusive);break}return{value:s,inclusive:u}}function ic(i,e,n){let s=zs,u=!0;for(const f of rc(i,e)){let _=zs,P=!0;switch(f.op){case">=":case">":_=jh(f.value),P=!1;break;case"==":case"in":case"<=":_=f.value;break;case"<":_=f.value,P=!1;break;case"!=":case"not-in":_=zs}Hc({value:s,inclusive:u},{value:_,inclusive:P})>0&&(s=_,u=P)}if(null!==n)for(let f=0;f<i.orderBy.length;++f)if(i.orderBy[f].field.isEqual(e)){const _=n.position[f];Hc({value:s,inclusive:u},{value:_,inclusive:n.inclusive})>0&&(s=_,u=n.inclusive);break}return{value:s,inclusive:u}}class Go{constructor(e,n=null,s=[],u=[],f=null,_="F",P=null,F=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=_,this.startAt=P,this.endAt=F,this.le=null,this.he=null,this.Pe=null}}function Nd(i,e,n,s,u,f,_,P){return new Go(i,e,n,s,u,f,_,P)}function Gl(i){return new Go(i)}function Kc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function kd(i){return null!==i.collectionGroup}function ql(i){const e=vn(i);if(null===e.le){e.le=[];const n=new Set;for(const f of e.explicitOrderBy)e.le.push(f),n.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(_){let P=new bi(Hi.comparator);return _.filters.forEach(F=>{F.getFlattenedFilters().forEach(Q=>{Q.isInequality()&&(P=P.add(Q.field))})}),P})(e).forEach(f=>{n.has(f.canonicalString())||f.isKeyField()||e.le.push(new il(f,s))}),n.has(Hi.keyField().canonicalString())||e.le.push(new il(Hi.keyField(),s))}return e.le}function ys(i){const e=vn(i);return e.he||(e.he=function Zc(i,e){if("F"===i.limitType)return ol(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new il(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new vs(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vs(i.startAt.position,i.startAt.inclusive):null;return ol(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,ql(i))),e.he}function Qc(i,e){const n=i.filters.concat([e]);return new Go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yu(i,e,n){return new Go(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function La(i,e){return nc(ys(i),ys(e))&&i.limitType===e.limitType}function Fd(i){return`${xs(ys(i))}|lt:${i.limitType}`}function na(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(u=>xd(u)).join(", ")}]`),L(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(u=>nl(u)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(u=>nl(u)).join(",")),`Target(${s})`}(ys(i))}; limitType=${i.limitType})`}function Eu(i,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):wn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(i,e)&&function(s,u){for(const f of ql(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(i,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(_,P,F){const Q=ka(_,P,F);return _.inclusive?Q<=0:Q<0}(s.startAt,ql(s),u)||s.endAt&&!function(_,P,F){const Q=ka(_,P,F);return _.inclusive?Q>=0:Q>0}(s.endAt,ql(s),u)));var s,u}function Iu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zh(i){return(e,n)=>{let s=!1;for(const u of ql(i)){const f=oc(u,e,n);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function oc(i,e,n){const s=i.field.isKeyField()?wn.comparator(e.key,n.key):function(f,_,P){const F=_.data.field(f),Q=P.data.field(f);return null!==F&&null!==Q?ma(F,Q):Nn()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Nn()}}class qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,n]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return pa(this.inner)}size(){return this.innerSize}}const sc=new zi(wn.comparator);function Jo(){return sc}const Ld=new zi(wn.comparator);function Yl(...i){let e=Ld;for(const n of i)e=e.insert(n.key,n);return e}function Al(i){let e=Ld;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function I(){return y()}function m(){return y()}function y(){return new qs(i=>i.toString(),(i,e)=>i.isEqual(e))}const S=new zi(wn.comparator),X=new bi(wn.comparator);function oe(...i){let e=X;for(const n of i)e=e.add(n);return e}const _t=new bi(yr);function Nt(){return _t}function un(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ne(e)?"-0":e}}function zn(i){return{integerValue:""+i}}function nr(i,e){return Re(e)?zn(e):un(i,e)}class qr{constructor(){this._=void 0}}function cs(i,e,n){return i instanceof Sl?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&el(f)&&(f=Hs(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(n,e):i instanceof sl?Vd(i,e):i instanceof Va?Bd(i,e):function(u,f){const _=Zl(u,f),P=ac(_)+ac(u.Ie);return rl(_)&&rl(u.Ie)?zn(P):un(u.serializer,P)}(i,e)}function Kl(i,e,n){return i instanceof sl?Vd(i,e):i instanceof Va?Bd(i,e):n}function Zl(i,e){return i instanceof Cu?rl(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class Sl extends qr{}class sl extends qr{constructor(e){super(),this.elements=e}}function Vd(i,e){const n=$d(e);for(const s of i.elements)n.some(u=>Ps(u,s))||n.push(s);return{arrayValue:{values:n}}}class Va extends qr{constructor(e){super(),this.elements=e}}function Bd(i,e){let n=$d(e);for(const s of i.elements)n=n.filter(u=>!Ps(u,s));return{arrayValue:{values:n}}}class Cu extends qr{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ac(i){return Ki(i.integerValue||i.doubleValue)}function $d(i){return Ms(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Tu{constructor(e,n){this.field=e,this.transform=n}}class Ud{constructor(e,n){this.version=e,this.transformResults=n}}class Io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Du{}function wu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ea(i.key,Io.none()):new Ql(i.key,i.data,Io.none());{const n=i.data,s=Xo.empty();let u=new bi(Hi.comparator);for(let f of e.fields)if(!u.has(f)){let _=n.field(f);null===_&&f.length>1&&(f=f.popLast(),_=n.field(f)),null===_?s.delete(f):s.set(f,_),u=u.add(f)}return new al(i.key,s,new ss(u.toArray()),Io.none())}}function Bf(i,e,n){i instanceof Ql?function(u,f,_){const P=u.value.clone(),F=Hd(u.fieldTransforms,f,_.transformResults);P.setAll(F),f.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(i,e,n):i instanceof al?function(u,f,_){if(!Wh(u.precondition,f))return void f.convertToUnknownDocument(_.version);const P=Hd(u.fieldTransforms,f,_.transformResults),F=f.data;F.setAll(jd(u)),F.setAll(P),f.convertToFoundDocument(_.version,F).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Xc(i,e,n,s){return i instanceof Ql?function(f,_,P,F){if(!Wh(f.precondition,_))return P;const Q=f.value.clone(),se=Jc(f.fieldTransforms,F,_);return Q.setAll(se),_.convertToFoundDocument(_.version,Q).setHasLocalMutations(),null}(i,e,n,s):i instanceof al?function(f,_,P,F){if(!Wh(f.precondition,_))return P;const Q=Jc(f.fieldTransforms,F,_),se=_.data;return se.setAll(jd(f)),se.setAll(Q),_.convertToFoundDocument(_.version,se).setHasLocalMutations(),null===P?null:P.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ne=>Ne.field))}(i,e,n,s):(P=n,Wh(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):P);var _,P}function Qp(i,e){let n=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),f=Zl(s.transform,u||null);null!=f&&(null===n&&(n=Xo.empty()),n.set(s.field,f))}return n||null}function lc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&Za(s,u,(f,_)=>function Zp(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof sl&&u instanceof sl||s instanceof Va&&u instanceof Va?Za(s.elements,u.elements,Ps):s instanceof Cu&&u instanceof Cu?Ps(s.Ie,u.Ie):s instanceof Sl&&u instanceof Sl);var s,u}(f,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class Ql extends Du{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class al extends Du{constructor(e,n,s,u,f=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function jd(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Hd(i,e,n){const s=new Map;Hn(i.length===n.length);for(let u=0;u<n.length;u++){const f=i[u],_=f.transform,P=e.data.field(f.field);s.set(f.field,Kl(_,P,n[u]))}return s}function Jc(i,e,n){const s=new Map;for(const u of i){const f=u.transform,_=n.data.field(u.field);s.set(u.field,cs(f,_,e))}return s}class Ea extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gh extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qh{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Bf(f,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=m();return this.mutations.forEach(u=>{const f=e.get(u.key),_=f.overlayedDocument;let P=this.applyToLocalView(_,f.mutatedFields);P=n.has(u.key)?null:P;const F=wu(_,P);null!==F&&s.set(u.key,F),_.isValidDocument()||_.convertToNoDocument(Zn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,s)=>lc(n,s))&&Za(this.baseMutations,e.baseMutations,(n,s)=>lc(n,s))}}class ll{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){Hn(e.mutations.length===s.length);let u=S;const f=e.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,s[_].version);return new ll(e,n,s,u)}}class bu{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lm{constructor(e,n){this.count=e,this.unchangedNames=n}}var es,Ii;function $f(i){switch(i){default:return Nn();case xt.CANCELLED:case xt.UNKNOWN:case xt.DEADLINE_EXCEEDED:case xt.RESOURCE_EXHAUSTED:case xt.INTERNAL:case xt.UNAVAILABLE:case xt.UNAUTHENTICATED:return!1;case xt.INVALID_ARGUMENT:case xt.NOT_FOUND:case xt.ALREADY_EXISTS:case xt.PERMISSION_DENIED:case xt.FAILED_PRECONDITION:case xt.ABORTED:case xt.OUT_OF_RANGE:case xt.UNIMPLEMENTED:case xt.DATA_LOSS:return!0}}function Kh(i){if(void 0===i)return ii("GRPC error has no .code"),xt.UNKNOWN;switch(i){case es.OK:return xt.OK;case es.CANCELLED:return xt.CANCELLED;case es.UNKNOWN:return xt.UNKNOWN;case es.DEADLINE_EXCEEDED:return xt.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return xt.RESOURCE_EXHAUSTED;case es.INTERNAL:return xt.INTERNAL;case es.UNAVAILABLE:return xt.UNAVAILABLE;case es.UNAUTHENTICATED:return xt.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return xt.INVALID_ARGUMENT;case es.NOT_FOUND:return xt.NOT_FOUND;case es.ALREADY_EXISTS:return xt.ALREADY_EXISTS;case es.PERMISSION_DENIED:return xt.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return xt.FAILED_PRECONDITION;case es.ABORTED:return xt.ABORTED;case es.OUT_OF_RANGE:return xt.OUT_OF_RANGE;case es.UNIMPLEMENTED:return xt.UNIMPLEMENTED;case es.DATA_LOSS:return xt.DATA_LOSS;default:return Nn()}}(Ii=es||(es={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS";function ul(){return new TextEncoder}const ed=new vr([4294967295,4294967295],0);function Zh(i){const e=ul().encode(i),n=new Tr;return n.update(e),new Uint8Array(n.digest())}function Is(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new vr([n,s],0),new vr([u,f],0)]}class uc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Xl(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=vr.fromNumber(this.Te)}de(e,n,s){let u=e.add(n.multiply(vr.fromNumber(s)));return 1===u.compare(ed)&&(u=new vr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Zh(e),[s,u]=Is(n);for(let f=0;f<this.hashCount;f++){const _=this.de(s,u,f);if(!this.Ae(_))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),_=new uc(f,u,n);return s.forEach(P=>_.insert(P)),_}insert(e){if(0===this.Te)return;const n=Zh(e),[s,u]=Is(n);for(let f=0;f<this.hashCount;f++){const _=this.de(s,u,f);this.Re(_)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cc{constructor(e,n,s,u,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cc(Zn.min(),u,new zi(yr),Jo(),oe())}}class zd{constructor(e,n,s,u,f){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new zd(s,n,oe(),oe(),oe())}}class dc{constructor(e,n,s,u){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=u}}class Wd{constructor(e,n){this.targetId=e,this.fe=n}}class Uf{constructor(e,n,s=Mo.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class hc{constructor(){this.ge=0,this.pe=zf(),this.ye=Mo.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=oe(),n=oe(),s=oe();return this.pe.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:Nn()}}),new zd(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=zf()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class jf{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jo(),this.Qe=Hf(),this.Ke=new zi(yr)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Nn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,s=e.fe.count,u=this.Ye(n);if(u){const f=u.target;if(ya(f))if(0===s){const _=new wn(f.path);this.We(n,_,si.newNoDocument(_,Zn.min()))}else Hn(1===s);else{const _=this.Ze(n);if(_!==s){const P=this.Xe(e),F=P?this.et(P,e,_):1;0!==F&&(this.He(n),this.Ke=this.Ke.insert(n,2===F?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=n;let _,P;try{_=_s(s).toUint8Array()}catch(F){if(F instanceof jc)return ji("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw F}try{P=new uc(_,u,f)}catch(F){return ji(F instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",F),null}return 0===P.Te?null:P}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let u=0;return s.forEach(f=>{const _=this.Le.nt(),P=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;e.mightContain(P)||(this.We(n,f,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((f,_)=>{const P=this.Ye(_);if(P){if(f.current&&ya(P.target)){const F=new wn(P.target.path);null!==this.qe.get(F)||this.st(_,F)||this.We(_,F,si.newNoDocument(F,e))}f.De&&(n.set(_,f.ve()),f.Fe())}});let s=oe();this.Qe.forEach((f,_)=>{let P=!0;_.forEachWhile(F=>{const Q=this.Ye(F);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(P=!1,!1)}),P&&(s=s.add(f))}),this.qe.forEach((f,_)=>_.setReadTime(e));const u=new cc(e,n,this.Ke,this.qe,s);return this.qe=Jo(),this.Qe=Hf(),this.Ke=new zi(yr),u}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hc,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bi(yr),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Jt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hc),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hf(){return new zi(wn.comparator)}function zf(){return new zi(wn.comparator)}const fc={asc:"ASCENDING",desc:"DESCENDING"},td={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wf={and:"AND",or:"OR"};class pc{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gd(i,e){return i.useProto3Json||L(e)?e:{value:e}}function nd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gc(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Xp(i,e){return nd(i,e.toTimestamp())}function Oo(i){return Hn(!!i),Zn.fromTimestamp(function(n){const s=ea(n);return new eo(s.seconds,s.nanos)}(i))}function Au(i,e){return(s=i,new ti(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function mc(i){const e=ti.fromString(i);return Hn(Kf(e)),e}function Su(i,e){return Au(i.databaseId,e.path)}function Ba(i,e){const n=mc(e);if(n.get(1)!==i.databaseId.projectId)throw new Qt(xt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Qt(xt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new wn(Gf(n))}function _c(i,e){return Au(i.databaseId,e)}function Jp(i){const e=mc(i);return 4===e.length?ti.emptyPath():Gf(e)}function qd(i){return new ti(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gf(i){return Hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Qh(i,e,n){return{name:Su(i,e),fields:n.value.mapValue.fields}}function Xh(i,e,n){const s=Ba(i,e.name),u=Oo(e.updateTime),f=e.createTime?Oo(e.createTime):Zn.min(),_=new Xo({mapValue:{fields:e.fields}}),P=si.newFoundDocument(s,u,f,_);return n&&P.setHasCommittedMutations(),n?P.setHasCommittedMutations():P}function ra(i,e){let n;if(e instanceof Ql)n={update:Qh(i,e.key,e.value)};else if(e instanceof Ea)n={delete:Su(i,e.key)};else if(e instanceof al)n={update:Qh(i,e.key,e.data),updateMask:Yf(e.fieldMask)};else{if(!(e instanceof Gh))return Nn();n={verify:Su(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(f,_){const P=_.transform;if(P instanceof Sl)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof sl)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof Va)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof Cu)return{fieldPath:_.field.canonicalString(),increment:P.Ie};throw Nn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Xp(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Nn()),n;var f}function vc(i,e){const n=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?Io.updateTime(Oo(f.updateTime)):void 0!==f.exists?Io.exists(f.exists):Io.none():Io.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(_,P){let F=null;"setToServerValue"in P?(Hn("REQUEST_TIME"===P.setToServerValue),F=new Sl):"appendMissingElements"in P?F=new sl(P.appendMissingElements.values||[]):"removeAllFromArray"in P?F=new Va(P.removeAllFromArray.values||[]):"increment"in P?F=new Cu(_,P.increment):Nn();const Q=Hi.fromServerFormat(P.fieldPath);return new Tu(Q,F)}(i,u)):[];var f;if(e.update){const u=Ba(i,e.update.name),f=new Xo({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new ss((e.updateMask.fieldPaths||[]).map(se=>Hi.fromServerFormat(se)));return new al(u,f,_,n,s)}return new Ql(u,f,n,s)}if(e.delete){const u=Ba(i,e.delete);return new Ea(u,n)}if(e.verify){const u=Ba(i,e.verify);return new Gh(u,n)}return Nn()}function eg(i,e){return{documents:[_c(i,e.path)]}}function rd(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=_c(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_c(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(F){if(0!==F.length)return Zd(ui.create(F,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(F){if(0!==F.length)return F.map(Q=>{return{field:yc((Ne=Q).field),direction:ef(Ne.dir)};var Ne})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const _=Gd(i,e.limit);return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt={before:(F=e.startAt).inclusive,values:F.position}),e.endAt&&(n.structuredQuery.endAt=function(F){return{before:!F.inclusive,values:F.position}}(e.endAt)),n;var F}function Kd(i){let e=Jp(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){Hn(1===s);const se=n.from[0];se.allDescendants?u=se.collectionId:e=e.child(se.collectionId)}let f=[];n.where&&(f=function(Ne){const pt=$a(Ne);return pt instanceof ui&&_u(pt)?pt.getFilters():[pt]}(n.where));let _=[];n.orderBy&&(_=n.orderBy.map(pt=>{return new il(cl((yn=pt).field),function(xn){switch(xn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yn.direction));var yn}));let P=null;n.limit&&(P=function(Ne){let pt;return pt="object"==typeof Ne?Ne.value:Ne,L(pt)?null:pt}(n.limit));let F=null;var Ne;n.startAt&&(F=new vs((Ne=n.startAt).values||[],!!Ne.before));let Q=null;return n.endAt&&(Q=function(Ne){return new vs(Ne.values||[],!Ne.before)}(n.endAt)),Nd(e,u,_,f,P,"F",F,Q)}function $a(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cl(n.unaryFilter.field);return $r.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=cl(n.unaryFilter.field);return $r.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=cl(n.unaryFilter.field);return $r.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=cl(n.unaryFilter.field);return $r.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}(i):void 0!==i.fieldFilter?$r.create(cl((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return ui.create(n.compositeFilter.filters.map(s=>$a(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Nn()}}(n.compositeFilter.op))}(i):Nn();var n}function ef(i){return fc[i]}function ng(i){return td[i]}function um(i){return Wf[i]}function yc(i){return{fieldPath:i.canonicalString()}}function cl(i){return Hi.fromServerFormat(i.fieldPath)}function Zd(i){return i instanceof $r?function(n){if("=="===n.op){if(bl(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NAN"}};if(Uh(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(bl(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NAN"}};if(Uh(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(n.field),op:ng(n.op),value:n.value}}}(i):i instanceof ui?function(n){const s=n.getFilters().map(u=>Zd(u));return 1===s.length?s[0]:{compositeFilter:{op:um(n.op),filters:s}}}(i):Nn()}function Yf(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kf(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ia{constructor(e,n,s,u,f=Zn.min(),_=Zn.min(),P=Mo.EMPTY_BYTE_STRING,F=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=P,this.expectedCount=F}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ia{constructor(e){this.ut=e}}function Qd(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Su(f=i.ut,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:nd(f,_.version.toTimestamp()),createTime:nd(f,_.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return Nn();s.unknownDocument={path:n.path.toArray(),version:Rl(e.version)}}var f,_;return s}function Jl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ca(i){const e=new eo(i.seconds,i.nanoseconds);return Zn.fromTimestamp(e)}function Ua(i,e){const n=(e.baseMutations||[]).map(f=>vc(i.ut,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const s=e.mutations.map(f=>vc(i.ut,f)),u=eo.fromMillis(e.localWriteTimeMs);return new qh(e.batchId,u,n,s)}function od(i){const e=Ca(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ca(i.lastLimboFreeSnapshotVersion):Zn.min();let s;return s=void 0!==i.query.documents?(Hn(1===(f=i.query).documents.length),ys(Gl(Jp(f.documents[0])))):function(f){return ys(Kd(f))}(i.query),new ia(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,Mo.fromBase64String(i.resumeToken));var f}function Ta(i,e){const n=Rl(e.snapshotVersion),s=Rl(e.lastLimboFreeSnapshotVersion);let u;u=ya(e.target)?eg(i.ut,e.target):rd(i.ut,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xs(e.target),readTime:n,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Ru(i){const e=Kd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yu(e,e.limit,"L"):e}function Zf(i,e){return new bu(e.largestBatchId,vc(i.ut,e.overlayMutation))}function sd(i,e){const n=e.path.lastSegment();return[i,yt(e.path.popLast()),n]}function Qf(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Rl(s.readTime),documentKey:yt(s.documentKey.path),largestBatchId:s.largestBatchId}}class Da{getBundleMetadata(e,n){return Xf(e).get(n).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Ca(f.createTime),version:f.version};var f})}saveBundleMetadata(e,n){return Xf(e).put({bundleId:(u=n).id,createTime:Rl(Oo(u.createTime)),version:u.version});var u}getNamedQuery(e,n){return Jf(e).get(n).next(s=>{if(s)return{name:(f=s).name,query:Ru(f.bundledQuery),readTime:Ca(f.readTime)};var f})}saveNamedQuery(e,n){return Jf(e).put({name:(u=n).name,readTime:Rl(Oo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Xf(i){return kr(i,"bundles")}function Jf(i){return kr(i,"namedQueries")}class ad{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new ad(e,n.uid||"")}getOverlay(e,n){return Pu(e).get(sd(this.userId,n)).next(s=>s?Zf(this.serializer,s):null)}getOverlays(e,n){const s=I();return Dt.forEach(n,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,n,s){const u=[];return s.forEach((f,_)=>{const P=new bu(n,_);u.push(this.lt(e,P))}),Dt.waitFor(u)}removeOverlaysForBatchId(e,n,s){const u=new Set;n.forEach(_=>u.add(yt(_.getCollectionPath())));const f=[];return u.forEach(_=>{const P=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);f.push(Pu(e).H("collectionPathOverlayIndex",P))}),Dt.waitFor(f)}getOverlaysForCollection(e,n,s){const u=I(),f=yt(n),_=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Pu(e).W("collectionPathOverlayIndex",_).next(P=>{for(const F of P){const Q=Zf(this.serializer,F);u.set(Q.getKey(),Q)}return u})}getOverlaysForCollectionGroup(e,n,s,u){const f=I();let _;const P=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pu(e).Y({index:"collectionGroupOverlayIndex",range:P},(F,Q,se)=>{const Ne=Zf(this.serializer,Q);f.size()<u||Ne.largestBatchId===_?(f.set(Ne.getKey(),Ne),_=Ne.largestBatchId):se.done()}).next(()=>f)}lt(e,n){return Pu(e).put(function(u,f,_){const[P,F,Q]=sd(f,_.mutation.key);return{userId:f,collectionPath:F,documentId:Q,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:ra(u.ut,_.mutation)}}(this.serializer,this.userId,n))}}function Pu(i){return kr(i,"documentOverlays")}class eu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ki(e.integerValue));else if("doubleValue"in e){const s=Ki(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),ne(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(_s(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?gu(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Nn()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const u of Object.keys(s))this.At(u,n),this.Pt(s[u],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const u of s)this.Pt(u,n)}ft(e,n){this.Tt(n,37),wn.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function ld(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function ep(i){const e=64-function(s){let u=0;for(let f=0;f<8;++f){const _=ld(255&s[f]);if(u+=_,8!==_)break}return u}(i);return Math.ceil(e/8)}eu.St=new eu;class Xd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const u=n.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=n.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const n=this.Bt(e),s=ep(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=255&n[u]}kt(e){const n=this.Bt(e),s=ep(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let u=1;u<n.length;++u)n[u]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class cm{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class rg{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Ec{constructor(){this.Wt=new Xd,this.Gt=new cm(this.Wt),this.zt=new rg(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class tu{constructor(e,n,s,u){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=u}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new tu(this.indexId,this.documentKey,this.arrayValue,s)}}function Os(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Jd(i.arrayValue,e.arrayValue),0!==n?n:(n=Jd(i.directionalValue,e.directionalValue),0!==n?n:wn.comparator(i.documentKey,e.documentKey)))}function Jd(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class ud{constructor(e){this.Jt=new bi((n,s)=>Hi.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Hn(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Bc(e);if(void 0!==n&&!this.tn(n))return!1;const s=ha(e);let u=new Set,f=0,_=0;for(;f<s.length&&this.tn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Jt.size>0){const P=this.Jt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const F=s[f];if(!this.nn(P,F)||!this.rn(this.Yt[_++],F))return!1}++f}for(;f<s.length;++f)if(_>=this.Yt.length||!this.rn(this.Yt[_++],s[f]))return!1;return!0}sn(){if(this.Xt)return null;let e=new bi(Hi.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new Qa(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new Qa(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new Qa(s.field,"asc"===s.dir?0:1)));return new da(da.UNKNOWN_ID,this.collectionId,n,Ur.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function tp(i){var e,n;if(Hn(i instanceof $r||i instanceof ui),i instanceof $r){if(i instanceof Do){const u=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(f=>$r.create(i.field,"==",f)))||[];return ui.create(u,"or")}return i}const s=i.filters.map(u=>tp(u));return ui.create(s,i.op)}function ig(i){if(0===i.getFilters().length)return[];const e=np(tp(i));return Hn(og(e)),tf(e)||eh(e)?[e]:e.getFilters()}function tf(i){return i instanceof $r}function eh(i){return i instanceof ui&&_u(i)}function og(i){return tf(i)||eh(i)||function(n){if(n instanceof ui&&Md(n)){for(const s of n.getFilters())if(!tf(s)&&!eh(s))return!1;return!0}return!1}(i)}function np(i){if(Hn(i instanceof $r||i instanceof ui),i instanceof $r)return i;if(1===i.filters.length)return np(i.filters[0]);const e=i.filters.map(s=>np(s));let n=ui.create(e,i.op);return n=th(n),og(n)?n:(Hn(n instanceof ui),Hn(ec(n)),Hn(n.filters.length>1),n.filters.reduce((s,u)=>rp(s,u)))}function rp(i,e){let n;return Hn(i instanceof $r||i instanceof ui),Hn(e instanceof $r||e instanceof ui),n=i instanceof $r?e instanceof $r?ui.create([i,e],"and"):nf(i,e):e instanceof $r?nf(e,i):function(u,f){if(Hn(u.filters.length>0&&f.filters.length>0),ec(u)&&ec(f))return va(u,f.getFilters());const _=Md(u)?u:f,P=Md(u)?f:u,F=_.filters.map(Q=>rp(Q,P));return ui.create(F,"or")}(i,e),th(n)}function nf(i,e){if(ec(e))return va(e,i.getFilters());{const n=e.filters.map(s=>rp(i,s));return ui.create(n,"or")}}function th(i){if(Hn(i instanceof $r||i instanceof ui),i instanceof $r)return i;const e=i.getFilters();if(1===e.length)return th(e[0]);if(Wc(i))return i;const n=e.map(u=>th(u)),s=[];return n.forEach(u=>{u instanceof $r?s.push(u):u instanceof ui&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ui.create(s,i.op)}class Mu{constructor(){this.on=new ja}addToCollectionParentIndex(e,n){return this.on.add(n),Dt.resolve()}getCollectionParents(e,n){return Dt.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Dt.resolve()}deleteFieldIndex(e,n){return Dt.resolve()}deleteAllFieldIndexes(e){return Dt.resolve()}createTargetIndexes(e,n){return Dt.resolve()}getDocumentsMatchingTarget(e,n){return Dt.resolve(null)}getIndexType(e,n){return Dt.resolve(0)}getFieldIndexes(e,n){return Dt.resolve([])}getNextCollectionGroupToUpdate(e){return Dt.resolve(null)}getMinOffset(e,n){return Dt.resolve(Qn.min())}getMinOffsetFromCollectionGroup(e,n){return Dt.resolve(Qn.min())}updateCollectionGroup(e,n,s){return Dt.resolve()}updateIndexEntries(e,n){return Dt.resolve()}}class ja{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new bi(ti.comparator),f=!u.has(s);return this.index[n]=u.add(s),f}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new bi(ti.comparator)).toArray()}}const dl=new Uint8Array(0);class S_{constructor(e,n){this.user=e,this.databaseId=n,this._n=new ja,this.an=new qs(s=>xs(s),(s,u)=>nc(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const f={collectionId:s,parent:yt(u)};return ip(e).put(f)}return Dt.resolve()}getCollectionParents(e,n){const s=[],u=IDBKeyRange.bound([n,""],[dr(n),""],!1,!0);return ip(e).W(u).next(f=>{for(const _ of f){if(_.collectionId!==n)break;s.push(In(_.parent))}return s})}addFieldIndex(e,n){const s=rf(e),u={indexId:(P=n).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var P;delete u.indexId;const f=s.add(u);if(n.indexState){const _=Pl(e);return f.next(P=>{_.put(Qf(P,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return f.next()}deleteFieldIndex(e,n){const s=rf(e),u=Pl(e),f=xu(e);return s.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=rf(e),s=xu(e),u=Pl(e);return n.H().next(()=>s.H()).next(()=>u.H())}createTargetIndexes(e,n){return Dt.forEach(this.un(n),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const f=new ud(s).sn();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,n){const s=xu(e);let u=!0;const f=new Map;return Dt.forEach(this.un(n),_=>this.cn(e,_).next(P=>{u&&(u=!!P),f.set(_,P)})).next(()=>{if(u){let _=oe();const P=[];return Dt.forEach(f,(F,Q)=>{var Ir;Jt("IndexedDbIndexManager",`Using index ${Ir=F,`id=${Ir.indexId}|cg=${Ir.collectionGroup}|f=${Ir.fields.map(Ai=>`${Ai.fieldPath}:${Ai.kind}`).join(",")}`} to execute ${xs(n)}`);const se=function(Ir,Ai){const jr=Bc(Ai);if(void 0===jr)return null;for(const to of rc(Ir,jr.fieldPath))switch(to.op){case"array-contains-any":return to.value.arrayValue.values||[];case"array-contains":return[to.value]}return null}(Q,F),Ne=function(Ir,Ai){const jr=new Map;for(const to of ha(Ai))for(const Ns of rc(Ir,to.fieldPath))switch(Ns.op){case"==":case"in":jr.set(to.fieldPath.canonicalString(),Ns.value);break;case"not-in":case"!=":return jr.set(to.fieldPath.canonicalString(),Ns.value),Array.from(jr.values())}return null}(Q,F),pt=function(Ir,Ai){const jr=[];let to=!0;for(const Ns of ha(Ai)){const Gu=0===Ns.kind?Wo(Ir,Ns.fieldPath,Ir.startAt):ic(Ir,Ns.fieldPath,Ir.startAt);jr.push(Gu.value),to&&(to=Gu.inclusive)}return new vs(jr,to)}(Q,F),Mt=function(Ir,Ai){const jr=[];let to=!0;for(const Ns of ha(Ai)){const Gu=0===Ns.kind?ic(Ir,Ns.fieldPath,Ir.endAt):Wo(Ir,Ns.fieldPath,Ir.endAt);jr.push(Gu.value),to&&(to=Gu.inclusive)}return new vs(jr,to)}(Q,F),yn=this.ln(F,Q,pt),Sn=this.ln(F,Q,Mt),xn=this.hn(F,Q,Ne),Er=this.Pn(F.indexId,se,yn,pt.inclusive,Sn,Mt.inclusive,xn);return Dt.forEach(Er,Rr=>s.j(Rr,n.limit).next(Ir=>{Ir.forEach(Ai=>{const jr=wn.fromSegments(Ai.documentKey);_.has(jr)||(_=_.add(jr),P.push(jr))})}))}).next(()=>P)}return Dt.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:ig(ui.create(e.filters,"and")).map(s=>ol(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,u,f,_,P){const F=(null!=n?n.length:1)*Math.max(s.length,f.length),Q=F/(null!=n?n.length:1),se=[];for(let Ne=0;Ne<F;++Ne){const pt=n?this.In(n[Ne/Q]):dl,Mt=this.Tn(e,pt,s[Ne%Q],u),yn=this.En(e,pt,f[Ne%Q],_),Sn=P.map(xn=>this.Tn(e,pt,xn,!0));se.push(...this.createRange(Mt,yn,Sn))}return se}Tn(e,n,s,u){const f=new tu(e,wn.empty(),n,s);return u?f:f.Ht()}En(e,n,s,u){const f=new tu(e,wn.empty(),n,s);return u?f.Ht():f}cn(e,n){const s=new ud(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let _=null;for(const P of f)s.en(P)&&(!_||P.fields.length>_.fields.length)&&(_=P);return _})}getIndexType(e,n){let s=2;const u=this.un(n);return Dt.forEach(u,f=>this.cn(e,f).next(_=>{_?0!==s&&_.fields.length<function(F){let Q=new bi(Hi.comparator),se=!1;for(const Ne of F.filters)for(const pt of Ne.getFlattenedFilters())pt.field.isKeyField()||("array-contains"===pt.op||"array-contains-any"===pt.op?se=!0:Q=Q.add(pt.field));for(const Ne of F.orderBy)Ne.field.isKeyField()||(Q=Q.add(Ne.field));return Q.size+(se?1:0)}(f)&&(s=1):s=0})).next(()=>null!==n.limit&&u.length>1&&2===s?1:s)}dn(e,n){const s=new Ec;for(const u of ha(e)){const f=n.data.field(u.fieldPath);if(null==f)return null;const _=s.jt(u.kind);eu.St.ht(f,_)}return s.Ut()}In(e){const n=new Ec;return eu.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new Ec;return eu.St.ht(wl(this.databaseId,n),s.jt(function(f){const _=ha(f);return 0===_.length?0:_[_.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let u=[];u.push(new Ec);let f=0;for(const _ of ha(e)){const P=s[f++];for(const F of u)if(this.Rn(n,_.fieldPath)&&Ms(P))u=this.Vn(u,_,P);else{const Q=F.jt(_.kind);eu.St.ht(P,Q)}}return this.mn(u)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const u=[...e],f=[];for(const _ of s.arrayValue.values||[])for(const P of u){const F=new Ec;F.seed(P.Ut()),eu.St.ht(_,F.jt(n.kind)),f.push(F)}return f}Rn(e,n){return!!e.filters.find(s=>s instanceof $r&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=rf(e),u=Pl(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(f=>{const _=[];return Dt.forEach(f,P=>u.get([P.indexId,this.uid]).next(F=>{_.push(function(se,Ne){const pt=Ne?new Ur(Ne.sequenceNumber,new Qn(Ca(Ne.readTime),new wn(In(Ne.documentKey)),Ne.largestBatchId)):Ur.empty(),Mt=se.fields.map(([yn,Sn])=>new Qa(Hi.fromServerFormat(yn),Sn));return new da(se.indexId,se.collectionGroup,Mt,pt)}(P,F))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:yr(s.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const u=rf(e),f=Pl(e);return this.fn(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(P=>Dt.forEach(P,F=>f.put(Qf(F.indexId,this.user,_,s)))))}updateIndexEntries(e,n){const s=new Map;return Dt.forEach(n,(u,f)=>{const _=s.get(u.collectionGroup);return(_?Dt.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(P=>(s.set(u.collectionGroup,P),Dt.forEach(P,F=>this.gn(e,u,F).next(Q=>{const se=this.pn(f,F);return Q.isEqual(se)?Dt.resolve():this.yn(e,f,F,Q,se)}))))})}wn(e,n,s,u){return xu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,u){return xu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const u=xu(e);let f=new bi(Os);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(_,P)=>{f=f.add(new tu(s.indexId,n,P.arrayValue,P.directionalValue))}).next(()=>f)}pn(e,n){let s=new bi(Os);const u=this.dn(n,e);if(null==u)return s;const f=Bc(n);if(null!=f){const _=e.data.field(f.fieldPath);if(Ms(_))for(const P of _.arrayValue.values||[])s=s.add(new tu(n.indexId,e.key,this.In(P),u))}else s=s.add(new tu(n.indexId,e.key,dl,u));return s}yn(e,n,s,u,f){Jt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const _=[];return function(F,Q,se,Ne,pt){const Mt=F.getIterator(),yn=Q.getIterator();let Sn=fu(Mt),xn=fu(yn);for(;Sn||xn;){let Er=!1,Rr=!1;if(Sn&&xn){const Ir=se(Sn,xn);Ir<0?Rr=!0:Ir>0&&(Er=!0)}else null!=Sn?Rr=!0:Er=!0;Er?(Ne(xn),xn=fu(yn)):Rr?(pt(Sn),Sn=fu(Mt)):(Sn=fu(Mt),xn=fu(yn))}}(u,f,Os,P=>{_.push(this.wn(e,n,s,P))},P=>{_.push(this.Sn(e,n,s,P))}),Dt.waitFor(_)}fn(e){let n=1;return Pl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((_,P)=>Os(_,P)).filter((_,P,F)=>!P||0!==Os(_,F[P-1]));const u=[];u.push(e);for(const _ of s){const P=Os(_,e),F=Os(_,n);if(0===P)u[0]=e.Ht();else if(P>0&&F<0)u.push(_),u.push(_.Ht());else if(F>0)break}u.push(n);const f=[];for(let _=0;_<u.length;_+=2){if(this.bn(u[_],u[_+1]))return[];f.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,dl,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,dl,[]]))}return f}bn(e,n){return Os(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(op)}getMinOffset(e,n){return Dt.mapArray(this.un(n),s=>this.cn(e,s).next(u=>u||Nn())).next(op)}}function ip(i){return kr(i,"collectionParents")}function xu(i){return kr(i,"indexEntries")}function rf(i){return kr(i,"indexConfiguration")}function Pl(i){return kr(i,"indexState")}function op(i){Hn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;xr(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new Qn(e.readTime,e.documentKey,n)}const sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ap(i,e,n){const s=i.store("mutations"),u=i.store("documentMutations"),f=[],_=IDBKeyRange.only(n.batchId);let P=0;const F=s.Y({range:_},(se,Ne,pt)=>(P++,pt.delete()));f.push(F.next(()=>{Hn(1===P)}));const Q=[];for(const se of n.mutations){const Ne=sr(e,se.key.path,n.batchId);f.push(u.delete(Ne)),Q.push(se.key)}return Dt.waitFor(f).next(()=>Q)}function Ic(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Nn();e=i.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class Ou{constructor(e,n,s,u){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=u,this.Dn={}}static ct(e,n,s,u){Hn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Ou(f,n,s,u)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return za(e).Y({index:"userMutationsIndex",range:s},(u,f,_)=>{n=!1,_.done()}).next(()=>n)}addMutationBatch(e,n,s,u){const f=Cc(e),_=za(e);return _.add({}).next(P=>{Hn("number"==typeof P);const F=new qh(P,n,s,u),Q=function(Mt,yn,Sn){const xn=Sn.baseMutations.map(Rr=>ra(Mt.ut,Rr)),Er=Sn.mutations.map(Rr=>ra(Mt.ut,Rr));return{userId:yn,batchId:Sn.batchId,localWriteTimeMs:Sn.localWriteTime.toMillis(),baseMutations:xn,mutations:Er}}(this.serializer,this.userId,F),se=[];let Ne=new bi((pt,Mt)=>yr(pt.canonicalString(),Mt.canonicalString()));for(const pt of u){const Mt=sr(this.userId,pt.key.path,P);Ne=Ne.add(pt.key.path.popLast()),se.push(_.put(Q)),se.push(f.put(Mt,oi))}return Ne.forEach(pt=>{se.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.Dn[P]=F.keys()}),Dt.waitFor(se).next(()=>F)})}lookupMutationBatch(e,n){return za(e).get(n).next(s=>s?(Hn(s.userId===this.userId),Ua(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?Dt.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const u=s.keys();return this.Dn[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return za(e).Y({index:"userMutationsIndex",range:u},(_,P,F)=>{P.userId===this.userId&&(Hn(P.batchId>=s),f=Ua(this.serializer,P)),F.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return za(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(u,f,_)=>{s=f.batchId,_.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return za(e).W("userMutationsIndex",n).next(s=>s.map(u=>Ua(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=Gr(this.userId,n.path),u=IDBKeyRange.lowerBound(s),f=[];return Cc(e).Y({range:u},(_,P,F)=>{const[Q,se,Ne]=_,pt=In(se);if(Q===this.userId&&n.path.isEqual(pt))return za(e).get(Ne).next(Mt=>{if(!Mt)throw Nn();Hn(Mt.userId===this.userId),f.push(Ua(this.serializer,Mt))});F.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new bi(yr);const u=[];return n.forEach(f=>{const _=Gr(this.userId,f.path),P=IDBKeyRange.lowerBound(_),F=Cc(e).Y({range:P},(Q,se,Ne)=>{const[pt,Mt,yn]=Q,Sn=In(Mt);pt===this.userId&&f.path.isEqual(Sn)?s=s.add(yn):Ne.done()});u.push(F)}),Dt.waitFor(u).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1,f=Gr(this.userId,s),_=IDBKeyRange.lowerBound(f);let P=new bi(yr);return Cc(e).Y({range:_},(F,Q,se)=>{const[Ne,pt,Mt]=F,yn=In(pt);Ne===this.userId&&s.isPrefixOf(yn)?yn.length===u&&(P=P.add(Mt)):se.done()}).next(()=>this.vn(e,P))}vn(e,n){const s=[],u=[];return n.forEach(f=>{u.push(za(e).get(f).next(_=>{if(null===_)throw Nn();Hn(_.userId===this.userId),s.push(Ua(this.serializer,_))}))}),Dt.waitFor(u).next(()=>s)}removeMutationBatch(e,n){return ap(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Dt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Dt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Cc(e).Y({range:s},(f,_,P)=>{if(f[0]===this.userId){const F=In(f[1]);u.push(F)}else P.done()}).next(()=>{Hn(0===u.length)})})}containsKey(e,n){return Ha(e,this.userId,n)}Mn(e){return nh(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ha(i,e,n){const s=Gr(e,n.path),u=s[1],f=IDBKeyRange.lowerBound(s);let _=!1;return Cc(i).Y({range:f,J:!0},(P,F,Q)=>{const[se,Ne,pt]=P;se===e&&Ne===u&&(_=!0),Q.done()}).next(()=>_)}function za(i){return kr(i,"mutations")}function Cc(i){return kr(i,"documentMutations")}function nh(i){return kr(i,"mutationQueues")}class Nu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Nu(0)}static Nn(){return new Nu(-1)}}class dm{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new Nu(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Zn.fromTimestamp(new eo(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=n,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Ln(e,u)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rh(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(Hn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let u=0;const f=[];return rh(e).Y((_,P)=>{const F=od(P);F.sequenceNumber<=n&&null===s.get(F.targetId)&&(u++,f.push(this.removeTargetData(e,F)))}).next(()=>Dt.waitFor(f)).next(()=>u)}forEachTarget(e,n){return rh(e).Y((s,u)=>{const f=od(u);n(f)})}Bn(e){return sg(e).get("targetGlobalKey").next(n=>(Hn(null!==n),n))}Ln(e,n){return sg(e).put("targetGlobalKey",n)}kn(e,n){return rh(e).put(Ta(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=xs(n),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return rh(e).Y({range:u,index:"queryTargetsIndex"},(_,P,F)=>{const Q=od(P);nc(n,Q.target)&&(f=Q,F.done())}).next(()=>f)}addMatchingKeys(e,n,s){const u=[],f=hl(e);return n.forEach(_=>{const P=yt(_.path);u.push(f.put({targetId:s,path:P})),u.push(this.referenceDelegate.addReference(e,s,_))}),Dt.waitFor(u)}removeMatchingKeys(e,n,s){const u=hl(e);return Dt.forEach(n,f=>{const _=yt(f.path);return Dt.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(e,s,f)])})}removeMatchingKeysForTargetId(e,n){const s=hl(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),u=hl(e);let f=oe();return u.Y({range:s,J:!0},(_,P,F)=>{const Q=In(_[1]),se=new wn(Q);f=f.add(se)}).next(()=>f)}containsKey(e,n){const s=yt(n.path),u=IDBKeyRange.bound([s],[dr(s)],!1,!0);let f=0;return hl(e).Y({index:"documentTargetsIndex",J:!0,range:u},([_,P],F,Q)=>{0!==_&&(f++,Q.done())}).next(()=>f>0)}_t(e,n){return rh(e).get(n).next(s=>s?od(s):null)}}function rh(i){return kr(i,"targets")}function sg(i){return kr(i,"targetGlobal")}function hl(i){return kr(i,"targetDocuments")}function cd([i,e],[n,s]){const u=yr(i,n);return 0===u?yr(e,s):u}class R_{constructor(e){this.Qn=e,this.buffer=new bi(cd),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cd(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wa{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;Jt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Ma(s)?Jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ss(s)}yield n.Gn(3e5)}))}}class ih{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Dt.resolve(T._e);const s=new R_(n);return this.zn.forEachTarget(e,u=>s.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>s.Un(u))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(sp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sp):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,u,f,_,P,F,Q;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ne=>(Ne>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ne}`),u=this.params.maximumSequenceNumbersToCollect):u=Ne,_=Date.now(),this.nthSequenceNumber(e,u))).next(Ne=>(s=Ne,P=Date.now(),this.removeTargets(e,s,n))).next(Ne=>(f=Ne,F=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ne=>(Q=Date.now(),Oi()<=de.in.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-se}ms\n\tDetermined least recently used ${u} in `+(P-_)+`ms\n\tRemoved ${f} targets in `+(F-P)+`ms\n\tRemoved ${Ne} documents in `+(Q-F)+`ms\nTotal Duration: ${Q-se}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ne})))}}class sf{constructor(e,n){this.db=e,this.garbageCollector=function nu(i,e){return new ih(i,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(u=>s+u))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,u)=>n(u))}addReference(e,n,s){return oa(e,s)}removeReference(e,n,s){return oa(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return oa(e,n)}Xn(e,n){return function(u,f){let _=!1;return nh(u).Z(P=>Ha(u,P,f).next(F=>(F&&(_=!0),Dt.resolve(!F)))).next(()=>_)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Zn(e,(_,P)=>{if(P<=n){const F=this.Xn(e,_).next(Q=>{if(!Q)return f++,s.getEntry(e,_).next(()=>(s.removeEntry(_,Zn.min()),hl(e).delete([0,yt(_.path)])))});u.push(F)}}).next(()=>Dt.waitFor(u)).next(()=>s.apply(e)).next(()=>f)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return oa(e,n)}Zn(e,n){const s=hl(e);let u,f=T._e;return s.Y({index:"documentTargetsIndex"},([_,P],{path:F,sequenceNumber:Q})=>{0===_?(f!==T._e&&n(new wn(In(u)),f),f=Q,u=F):f=T._e}).next(()=>{f!==T._e&&n(new wn(In(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function oa(i,e){return hl(i).put((u=i.currentSequenceNumber,{targetId:0,path:yt(e.path),sequenceNumber:u}));var u}class ku{constructor(){this.changes=new qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Dt.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ag{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return hd(e).put(s)}removeEntry(e,n,s){return hd(e).delete(function(f,_){const P=f.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Jl(_),P[P.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=si.newInvalidDocument(n);return hd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(u,f)=>{s=this.tr(n,f)}).next(()=>s)}nr(e,n){let s={size:0,document:si.newInvalidDocument(n)};return hd(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ru(n))},(u,f)=>{s={document:this.tr(n,f),size:Ic(f)}}).next(()=>s)}getEntries(e,n){let s=Jo();return this.rr(e,n,(u,f)=>{const _=this.tr(u,f);s=s.insert(u,_)}).next(()=>s)}ir(e,n){let s=Jo(),u=new zi(wn.comparator);return this.rr(e,n,(f,_)=>{const P=this.tr(f,_);s=s.insert(f,P),u=u.insert(f,Ic(_))}).next(()=>({documents:s,sr:u}))}rr(e,n,s){if(n.isEmpty())return Dt.resolve();let u=new bi(hm);n.forEach(F=>u=u.add(F));const f=IDBKeyRange.bound(ru(u.first()),ru(u.last())),_=u.getIterator();let P=_.getNext();return hd(e).Y({index:"documentKeyIndex",range:f},(F,Q,se)=>{const Ne=wn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;P&&hm(P,Ne)<0;)s(P,null),P=_.getNext();P&&P.isEqual(Ne)&&(s(P,Q),P=_.hasNext()?_.getNext():null),P?se.U(ru(P)):se.done()}).next(()=>{for(;P;)s(P,null),P=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(e,n,s,u,f){const _=n.path,P=[_.popLast().toArray(),_.lastSegment(),Jl(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],F=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hd(e).W(IDBKeyRange.bound(P,F,!0)).next(Q=>{null==f||f.incrementDocumentReadCount(Q.length);let se=Jo();for(const Ne of Q){const pt=this.tr(wn.fromSegments(Ne.prefixPath.concat(Ne.collectionGroup,Ne.documentId)),Ne);pt.isFoundDocument()&&(Eu(n,pt)||u.has(pt.key))&&(se=se.insert(pt.key,pt))}return se})}getAllFromCollectionGroup(e,n,s,u){let f=Jo();const _=up(n,s),P=up(n,Qn.max());return hd(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,P,!0)},(F,Q,se)=>{const Ne=this.tr(wn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(Ne.key,Ne),f.size===u&&se.done()}).next(()=>f)}newChangeBuffer(e){return new dd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return lp(e).get("remoteDocumentGlobalKey").next(n=>(Hn(!!n),n))}er(e,n){return lp(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function id(i,e){let n;if(e.document)n=Xh(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=wn.fromSegments(e.noDocument.path),u=Ca(e.noDocument.readTime);n=si.newNoDocument(s,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nn();{const s=wn.fromSegments(e.unknownDocument.path),u=Ca(e.unknownDocument.version);n=si.newUnknownDocument(s,u)}}return e.readTime&&n.setReadTime(function(u){const f=new eo(u[0],u[1]);return Zn.fromTimestamp(f)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Zn.min()))return s}return si.newInvalidDocument(e)}}function af(i){return new ag(i)}class dd extends ku{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new qs(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const n=[];let s=0,u=new bi((f,_)=>yr(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const P=this.ar.get(f);if(n.push(this._r.removeEntry(e,f,P.readTime)),_.isValidDocument()){const F=Qd(this._r.serializer,_);u=u.add(f.path.popLast());const Q=Ic(F);s+=Q-P.size,n.push(this._r.addEntry(e,f,F))}else if(s-=P.size,this.trackRemovals){const F=Qd(this._r.serializer,_.convertToNoDocument(Zn.min()));n.push(this._r.addEntry(e,f,F))}}),u.forEach(f=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,f))}),n.push(this._r.updateMetadata(e,s)),Dt.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:u})=>(u.forEach((f,_)=>{this.ar.set(f,{size:_,readTime:s.get(f).readTime})}),s))}}function lp(i){return kr(i,"remoteDocumentGlobal")}function hd(i){return kr(i,"remoteDocumentsV14")}function ru(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function up(i,e){const n=e.documentKey.path.toArray();return[i,Jl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hm(i,e){const n=i.path.toArray(),s=e.path.toArray();let u=0;for(let f=0;f<n.length-2&&f<s.length-2;++f)if(u=yr(n[f],s[f]),u)return u;return u=yr(n.length,s.length),u||(u=yr(n[n.length-2],s[s.length-2]),u||yr(n[n.length-1],s[s.length-1]))}class fm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lg{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==s&&Xc(s.mutation,u,ss.empty(),eo.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=oe()){const u=I();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,s).next(f=>{let _=Yl();return f.forEach((P,F)=>{_=_.insert(P,F.overlayedDocument)}),_}))}getOverlayedDocuments(e,n){const s=I();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,oe()))}populateOverlays(e,n,s){const u=[];return s.forEach(f=>{n.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((_,P)=>{n.set(_,P)})})}computeViews(e,n,s,u){let f=Jo();const _=y(),P=y();return n.forEach((F,Q)=>{const se=s.get(Q.key);u.has(Q.key)&&(void 0===se||se.mutation instanceof al)?f=f.insert(Q.key,Q):void 0!==se?(_.set(Q.key,se.mutation.getFieldMask()),Xc(se.mutation,Q,se.mutation.getFieldMask(),eo.now())):_.set(Q.key,ss.empty())}),this.recalculateAndSaveOverlays(e,f).next(F=>(F.forEach((Q,se)=>_.set(Q,se)),n.forEach((Q,se)=>{var Ne;return P.set(Q,new fm(se,null!==(Ne=_.get(Q))&&void 0!==Ne?Ne:null))}),P))}recalculateAndSaveOverlays(e,n){const s=y();let u=new zi((_,P)=>_-P),f=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(_=>{for(const P of _)P.keys().forEach(F=>{const Q=n.get(F);if(null===Q)return;let se=s.get(F)||ss.empty();se=P.applyToLocalView(Q,se),s.set(F,se);const Ne=(u.get(P.batchId)||oe()).add(F);u=u.insert(P.batchId,Ne)})}).next(()=>{const _=[],P=u.getReverseIterator();for(;P.hasNext();){const F=P.getNext(),Q=F.key,se=F.value,Ne=m();se.forEach(pt=>{if(!f.has(pt)){const Mt=wu(n.get(pt),s.get(pt));null!==Mt&&Ne.set(pt,Mt),f=f.add(pt)}}),_.push(this.documentOverlayCache.saveOverlays(e,Q,Ne))}return Dt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,u){return wn.isDocumentKey((_=n).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):kd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u);var _}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-f.size):Dt.resolve(I());let P=-1,F=f;return _.next(Q=>Dt.forEach(Q,(se,Ne)=>(P<Ne.largestBatchId&&(P=Ne.largestBatchId),f.get(se)?Dt.resolve():this.remoteDocumentCache.getEntry(e,se).next(pt=>{F=F.insert(se,pt)}))).next(()=>this.populateOverlays(e,Q,f)).next(()=>this.computeViews(e,F,Q,oe())).next(se=>({batchId:P,changes:Al(se)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wn(n)).next(s=>{let u=Yl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const f=n.collectionGroup;let _=Yl();return this.indexManager.getCollectionParents(e,f).next(P=>Dt.forEach(P,F=>{const Q=(Ne=n,pt=F.child(f),new Go(pt,null,Ne.explicitOrderBy.slice(),Ne.filters.slice(),Ne.limit,Ne.limitType,Ne.startAt,Ne.endAt));var Ne,pt;return this.getDocumentsMatchingCollectionQuery(e,Q,s,u).next(se=>{se.forEach((Ne,pt)=>{_=_.insert(Ne,pt)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,n,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,f,u))).next(_=>{f.forEach((F,Q)=>{const se=Q.getKey();null===_.get(se)&&(_=_.insert(se,si.newInvalidDocument(se)))});let P=Yl();return _.forEach((F,Q)=>{const se=f.get(F);void 0!==se&&Xc(se.mutation,Q,ss.empty(),eo.now()),Eu(n,Q)&&(P=P.insert(F,Q))}),P})}}class P_{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Dt.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Oo(u.createTime)}),Dt.resolve();var u}getNamedQuery(e,n){return Dt.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Ru(u.bundledQuery),readTime:Oo(u.readTime)}),Dt.resolve();var u}}class oh{constructor(){this.overlays=new zi(wn.comparator),this.lr=new Map}getOverlay(e,n){return Dt.resolve(this.overlays.get(n))}getOverlays(e,n){const s=I();return Dt.forEach(n,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((u,f)=>{this.lt(e,n,f)}),Dt.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.lr.delete(s)),Dt.resolve()}getOverlaysForCollection(e,n,s){const u=I(),f=n.length+1,_=new wn(n.child("")),P=this.overlays.getIteratorFrom(_);for(;P.hasNext();){const F=P.getNext().value,Q=F.getKey();if(!n.isPrefixOf(Q.path))break;Q.path.length===f&&F.largestBatchId>s&&u.set(F.getKey(),F)}return Dt.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let f=new zi((Q,se)=>Q-se);const _=this.overlays.getIterator();for(;_.hasNext();){const Q=_.getNext().value;if(Q.getKey().getCollectionGroup()===n&&Q.largestBatchId>s){let se=f.get(Q.largestBatchId);null===se&&(se=I(),f=f.insert(Q.largestBatchId,se)),se.set(Q.getKey(),Q)}}const P=I(),F=f.getIterator();for(;F.hasNext()&&(F.getNext().value.forEach((Q,se)=>P.set(Q,se)),!(P.size()>=u)););return Dt.resolve(P)}lt(e,n,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new bu(n,s));let f=this.lr.get(n);void 0===f&&(f=oe(),this.lr.set(n,f)),this.lr.set(n,f.add(s.key))}}class fd{constructor(){this.hr=new bi(No.Pr),this.Ir=new bi(No.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new No(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new No(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new wn(new ti([])),s=new No(n,e),u=new No(n,e+1),f=[];return this.Ir.forEachInRange([s,u],_=>{this.dr(_),f.push(_.key)}),f}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new wn(new ti([])),s=new No(n,e),u=new No(n,e+1);let f=oe();return this.Ir.forEachInRange([s,u],_=>{f=f.add(_.key)}),f}containsKey(e){const n=new No(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class No{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return wn.comparator(e.key,n.key)||yr(e.gr,n.gr)}static Tr(e,n){return yr(e.gr,n.gr)||wn.comparator(e.key,n.key)}}class ug{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bi(No.Pr)}checkEmpty(e){return Dt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,u){const f=this.pr;this.pr++;const _=new qh(f,n,s,u);this.mutationQueue.push(_);for(const P of u)this.yr=this.yr.add(new No(P.key,f)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Dt.resolve(_)}lookupMutationBatch(e,n){return Dt.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),f=u<0?0:u;return Dt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new No(n,0),u=new No(n,Number.POSITIVE_INFINITY),f=[];return this.yr.forEachInRange([s,u],_=>{const P=this.wr(_.gr);f.push(P)}),Dt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new bi(yr);return n.forEach(u=>{const f=new No(u,0),_=new No(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([f,_],P=>{s=s.add(P.gr)})}),Dt.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let f=s;wn.isDocumentKey(f)||(f=f.child(""));const _=new No(new wn(f),0);let P=new bi(yr);return this.yr.forEachWhile(F=>{const Q=F.key.path;return!!s.isPrefixOf(Q)&&(Q.length===u&&(P=P.add(F.gr)),!0)},_),Dt.resolve(this.br(P))}br(e){const n=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Hn(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Dt.forEach(n.mutations,u=>{const f=new No(u.key,n.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new No(n,0),u=this.yr.firstAfterOrEqual(s);return Dt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Dt.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Jv{constructor(e){this.Cr=e,this.docs=new zi(wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),f=u?u.size:0,_=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Dt.resolve(s?s.document.mutableCopy():si.newInvalidDocument(n))}getEntries(e,n){let s=Jo();return n.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():si.newInvalidDocument(u))}),Dt.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let f=Jo();const _=n.path,P=new wn(_.child("")),F=this.docs.getIteratorFrom(P);for(;F.hasNext();){const{key:Q,value:{document:se}}=F.getNext();if(!_.isPrefixOf(Q.path))break;Q.path.length>_.length+1||xr(_i(se),s)<=0||(u.has(se.key)||Eu(n,se))&&(f=f.insert(se.key,se.mutableCopy()))}return Dt.resolve(f)}getAllFromCollectionGroup(e,n,s,u){Nn()}vr(e,n){return Dt.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ey(this)}getSize(e){return Dt.resolve(this.size)}}class ey extends ku{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),Dt.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class lf{constructor(e){this.persistence=e,this.Fr=new qs(n=>xs(n),nc),this.lastRemoteSnapshotVersion=Zn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new fd,this.targetCount=0,this.Nr=Nu.On()}forEachTarget(e,n){return this.Fr.forEach((s,u)=>n(u)),Dt.resolve()}getLastRemoteSnapshotVersion(e){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Dt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Dt.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Nu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Dt.resolve()}updateTargetData(e,n){return this.kn(n),Dt.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(e,n,s){let u=0;const f=[];return this.Fr.forEach((_,P)=>{P.sequenceNumber<=n&&null===s.get(P.targetId)&&(this.Fr.delete(_),f.push(this.removeMatchingKeysForTargetId(e,P.targetId)),u++)}),Dt.waitFor(f).next(()=>u)}getTargetCount(e){return Dt.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Dt.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Dt.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const u=this.persistence.referenceDelegate,f=[];return u&&n.forEach(_=>{f.push(u.markPotentiallyOrphaned(e,_))}),Dt.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Dt.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Dt.resolve(s)}containsKey(e,n){return Dt.resolve(this.Or.containsKey(n))}}class Bi{constructor(e,n){this.Br={},this.overlays={},this.Lr=new T(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lf(this),this.indexManager=new Mu,this.remoteDocumentCache=new Jv(s=>this.referenceDelegate.Qr(s)),this.serializer=new Ia(n),this.Kr=new P_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new ug(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){Jt("MemoryPersistence","Starting transaction:",e);const u=new uf(this.Lr.next());return this.referenceDelegate.$r(),s(u).next(f=>this.referenceDelegate.Ur(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Wr(e,n){return Dt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class uf extends Xr{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Gr=new fd,this.zr=null}static jr(e){return new cf(e)}get Hr(){if(this.zr)return this.zr;throw Nn()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Dt.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Dt.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Dt.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(f=>this.Hr.add(f.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.Hr,s=>{const u=wn.fromPath(s);return this.Jr(e,u).next(f=>{f||n.removeEntry(u,Zn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Dt.or([()=>Dt.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class cg{constructor(e){this.serializer=e}N(e,n,s,u){const f=new Pa("createOrUpgrade",n);var F;s<1&&u>=1&&(e.createObjectStore("owner"),(F=e).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ur,{unique:!0}),F.createObjectStore("documentMutations"),df(e),function(F){F.createObjectStore("remoteDocuments")}(e));let _=Dt.resolve();return s<3&&u>=3&&(0!==s&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(e),df(e)),_=_.next(()=>function(F){const Q=F.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zn.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",se)}(f))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(F,Q){return Q.store("mutations").W().next(se=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ur,{unique:!0});const Ne=Q.store("mutations"),pt=se.map(Mt=>Ne.put(Mt));return Dt.waitFor(pt)})}(e,f))),_=_.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(_=_.next(()=>this.Zr(f))),s<6&&u>=6&&(_=_.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(f)))),s<7&&u>=7&&(_=_.next(()=>this.ei(f))),s<8&&u>=8&&(_=_.next(()=>this.ti(e,f))),s<9&&u>=9&&(_=_.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(_=_.next(()=>this.ni(f))),s<11&&u>=11&&(_=_.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(_=_.next(()=>{!function(F){const Q=F.createObjectStore("documentOverlays",{keyPath:jl});Q.createIndex("collectionPathOverlayIndex",Xa,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",Uc,{unique:!1})}(e)})),s<13&&u>=13&&(_=_.next(()=>function(F){const Q=F.createObjectStore("remoteDocumentsV14",{keyPath:Ao});Q.createIndex("documentKeyIndex",js),Q.createIndex("collectionGroupIndex",Vi)}(e)).next(()=>this.ri(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ii(e,f))),s<15&&u>=15&&(_=_.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:Bh}).createIndex("sequenceNumberIndex",Rd,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:$c}).createIndex("documentKeyIndex",$h,{unique:!1})}(e))),_}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,u)=>{n+=Ic(u)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(u=>Dt.forEach(u,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",_).next(P=>Dt.forEach(P,F=>{Hn(F.userId===f.userId);const Q=Ua(this.serializer,F);return ap(e,f.userId,Q).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.Y((_,P)=>{const F=new ti(_),Q=[0,yt(F)];f.push(n.get(Q).next(se=>se?Dt.resolve():n.put({targetId:0,path:yt(F),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Dt.waitFor(f))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:zo});const s=n.store("collectionParents"),u=new ja,f=_=>{if(u.add(_)){const P=_.lastSegment(),F=_.popLast();return s.put({collectionId:P,parent:yt(F)})}};return n.store("remoteDocuments").Y({J:!0},(_,P)=>{const F=new ti(_);return f(F.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([_,P,F],Q)=>{const se=In(P);return f(se.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,u)=>{const f=od(u),_=Ta(this.serializer,f);return n.put(_)})}ri(e,n){const s=n.store("remoteDocuments"),u=[];return s.Y((f,_)=>{const P=n.store("remoteDocumentsV14"),F=(Ne=_,Ne.document?new wn(ti.fromString(Ne.document.name).popFirst(5)):Ne.noDocument?wn.fromSegments(Ne.noDocument.path):Ne.unknownDocument?wn.fromSegments(Ne.unknownDocument.path):Nn()).path.toArray(),Q={prefixPath:F.slice(0,F.length-2),collectionGroup:F[F.length-2],documentId:F[F.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Ne;u.push(P.put(Q))}).next(()=>Dt.waitFor(u))}ii(e,n){const s=n.store("mutations"),u=af(this.serializer),f=new Bi(cf.jr,this.serializer.ut);return s.W().next(_=>{const P=new Map;return _.forEach(F=>{var Q;let se=null!==(Q=P.get(F.userId))&&void 0!==Q?Q:oe();Ua(this.serializer,F).keys().forEach(Ne=>se=se.add(Ne)),P.set(F.userId,se)}),Dt.forEach(P,(F,Q)=>{const se=new Gn(Q),Ne=ad.ct(this.serializer,se),pt=f.getIndexManager(se),Mt=Ou.ct(se,this.serializer,pt,f.referenceDelegate);return new lg(u,Mt,Ne,pt).recalculateAndSaveOverlaysForDocumentKeys(new hu(n,T._e),F).next()})})}}function df(i){i.createObjectStore("targetDocuments",{keyPath:Jr}).createIndex("documentTargetsIndex",Qu,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",us,{unique:!0}),i.createObjectStore("targetGlobal")}const dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sh{constructor(e,n,s,u,f,_,P,F,Q,se,Ne=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=f,this.window=_,this.document=P,this.oi=Q,this._i=se,this.ai=Ne,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=pt=>Promise.resolve(),!sh.D())throw new Qt(xt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sf(this,u),this.Ii=n+"main",this.serializer=new Ia(F),this.Ti=new ni(this.Ii,this.ai,new cg(this.serializer)),this.qr=new dm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=af(this.serializer),this.Kr=new Da,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===se&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qt(xt.FAILED_PRECONDITION,dg);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new T(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,l.Z)(function*(u){if(n.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,l.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,l.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Ma(e))return Jt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return ah(e).get("owner").next(n=>Dt.resolve(this.wi(n)))}Si(e){return Tc(e).delete(this.clientId)}bi(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=kr(s,"clientMetadata");return u.W().next(f=>{const _=e.Ci(f,18e5),P=f.filter(F=>-1===_.indexOf(F));return Dt.forEach(P,F=>u.delete(F.clientId)).next(()=>P)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Dt.resolve(!0):ah(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new Qt(xt.FAILED_PRECONDITION,dg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tc(e).W().next(s=>void 0===this.Ci(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Jt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,l.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new hu(n,T._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Tc(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Ou.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new S_(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return ad.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){Jt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",f=15===(F=this.ai)?Xu:14===F?du:13===F?cu:12===F?Hl:11===F?xa:void Nn();var F;let _;return this.Ti.runTransaction(e,u,f,P=>(_=new hu(P,this.Lr?this.Lr.next():T._e),"readwrite-primary"===n?this.fi(_).next(F=>!!F||this.gi(_)).next(F=>{if(!F)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Qt(xt.FAILED_PRECONDITION,os);return s(_)}).next(F=>this.yi(_).next(()=>F)):this.Li(_).next(()=>s(_)))).then(P=>(_.raiseOnCommittedEvent(),P))}Li(e){return ah(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Qt(xt.FAILED_PRECONDITION,dg)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ah(e).put("owner",n)}static D(){return ni.D()}pi(e){const n=ah(e);return n.get("owner").next(s=>this.wi(s)?(Jt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dt.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(ii(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,Pe.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return Jt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ii("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ah(i){return kr(i,"owner")}function Tc(i){return kr(i,"clientMetadata")}function pm(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class lh{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=u}static Qi(e,n){let s=oe(),u=oe();for(const f of n.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new lh(e,n.fromCache,s,u)}}class M_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,u){const f={result:null};return this.zi(e,n).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.ji(e,n,u,s).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new M_;return this.Hi(e,n,_).next(P=>{if(f.result=P,this.$i)return this.Ji(e,n,_,P.size)})}).next(()=>f.result)}Ji(e,n,s,u){return s.documentReadCount<this.Ui?(Oi()<=de.in.DEBUG&&Jt("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Dt.resolve()):(Oi()<=de.in.DEBUG&&Jt("QueryEngine","Query:",na(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(Oi()<=de.in.DEBUG&&Jt("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):Dt.resolve())}zi(e,n){if(Kc(n))return Dt.resolve(null);let s=ys(n);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=yu(n,null,"F"),s=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const _=oe(...f);return this.Gi.getDocuments(e,_).next(P=>this.indexManager.getMinOffset(e,s).next(F=>{const Q=this.Yi(n,P);return this.Zi(n,Q,_,F.readTime)?this.zi(e,yu(n,null,"F")):this.Xi(e,Q,n,F)}))})))}ji(e,n,s,u){return Kc(n)||u.isEqual(Zn.min())?Dt.resolve(null):this.Gi.getDocuments(e,s).next(f=>{const _=this.Yi(n,f);return this.Zi(n,_,s,u)?Dt.resolve(null):(Oi()<=de.in.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),na(n)),this.Xi(e,_,n,uo(u,-1)).next(P=>P))})}Yi(e,n){let s=new bi(zh(e));return n.forEach((u,f)=>{Eu(e,f)&&(s=s.add(f))}),s}Zi(e,n,s,u){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Hi(e,n,s){return Oi()<=de.in.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",na(n)),this.Gi.getDocumentsMatchingQuery(e,n,Qn.min(),s)}Xi(e,n,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(f=>(n.forEach(_=>{f=f.insert(_.key,_)}),f))}}class gm{constructor(e,n,s,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new zi(yr),this.ns=new qs(f=>xs(f),nc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lg(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function cp(i,e,n,s){return new gm(i,e,n,s)}function Dc(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,l.Z)(function*(i,e){const n=vn(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(f=>{const _=[],P=[];let F=oe();for(const Q of u){_.push(Q.batchId);for(const se of Q.mutations)F=F.add(se.key)}for(const Q of f){P.push(Q.batchId);for(const se of Q.mutations)F=F.add(se.key)}return n.localDocuments.getDocuments(s,F).next(Q=>({_s:Q,removedBatchIds:_,addedBatchIds:P}))})})}),dp.apply(this,arguments)}function uh(i){const e=vn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ff(i,e,n){let s=oe(),u=oe();return n.forEach(f=>s=s.add(f)),e.getEntries(i,s).next(f=>{let _=Jo();return n.forEach((P,F)=>{const Q=f.get(P);F.isFoundDocument()!==Q.isFoundDocument()&&(u=u.add(P)),F.isNoDocument()&&F.version.isEqual(Zn.min())?(e.removeEntry(P,F.readTime),_=_.insert(P,F)):!Q.isValidDocument()||F.version.compareTo(Q.version)>0||0===F.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(F),_=_.insert(P,F)):Jt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",Q.version," Watch version:",F.version)}),{us:_,cs:u}})}function hp(i,e){const n=vn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ys(i,e){const n=vn(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return n.qr.getTargetData(s,e).next(f=>f?(u=f,Dt.resolve(u)):n.qr.allocateTargetId(s).next(_=>(u=new ia(e,_,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=n.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function Fu(i,e,n){return pf.apply(this,arguments)}function pf(){return pf=(0,l.Z)(function*(i,e,n){const s=vn(i),u=s.ts.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",f,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!Ma(_))throw _;Jt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),pf.apply(this,arguments)}function gf(i,e,n){const s=vn(i);let u=Zn.min(),f=oe();return s.persistence.runTransaction("Execute query","readwrite",_=>function(F,Q,se){const Ne=vn(F),pt=Ne.ns.get(se);return void 0!==pt?Dt.resolve(Ne.ts.get(pt)):Ne.qr.getTargetData(Q,se)}(s,_,ys(e)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(_,P.targetId).next(F=>{f=F})}).next(()=>s.es.getDocumentsMatchingQuery(_,e,n?u:Zn.min(),n?f:oe())).next(P=>(wc(s,Iu(e),P),{documents:P,ls:f})))}function mf(i,e){const n=vn(i),s=vn(n.qr),u=n.ts.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",f=>s._t(f,e).next(_=>_?_.target:null))}function _f(i,e){const n=vn(i),s=n.rs.get(e)||Zn.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.ss.getAllFromCollectionGroup(u,e,uo(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(wc(n,e,u),u))}function wc(i,e,n){let s=i.rs.get(e)||Zn.min();n.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),i.rs.set(e,s)}function fp(){return fp=(0,l.Z)(function*(i,e,n,s){const u=vn(i);let f=oe(),_=Jo();for(const Q of n){const se=e.hs(Q.metadata.name);Q.document&&(f=f.add(se));const Ne=e.Ps(Q);Ne.setReadTime(e.Is(Q.metadata.readTime)),_=_.insert(se,Ne)}const P=u.ss.newChangeBuffer({trackRemovals:!0}),F=yield Ys(u,(se=s,ys(Gl(ti.fromString(`__bundle__/docs/${se}`)))));var se;return u.persistence.runTransaction("Apply bundle documents","readwrite",Q=>ff(Q,P,_).next(se=>(P.apply(Q),se)).next(se=>u.qr.removeMatchingKeysForTargetId(Q,F.targetId).next(()=>u.qr.addMatchingKeys(Q,f,F.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Q,se.us,se.cs)).next(()=>se.us)))}),fp.apply(this,arguments)}function mm(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,l.Z)(function*(i,e,n=oe()){const s=yield Ys(i,ys(Ru(e.bundledQuery))),u=vn(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const _=Oo(e.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Kr.saveNamedQuery(f,e);const P=s.withResumeToken(Mo.EMPTY_BYTE_STRING,_);return u.ts=u.ts.insert(P.targetId,P),u.qr.updateTargetData(f,P).next(()=>u.qr.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.qr.addMatchingKeys(f,n,s.targetId)).next(()=>u.Kr.saveNamedQuery(f,e))})}),ch.apply(this,arguments)}function pp(i,e){return`firestore_clients_${i}_${e}`}function gp(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function mp(i,e){return`firestore_targets_${i}_${e}`}class dh{constructor(e,n,s,u){this.user=e,this.batchId=n,this.state=s,this.error=u}static Ts(e,n,s){const u=JSON.parse(s);let f,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(f=new Qt(u.error.code,u.error.message))),_?new dh(e,n,u.state,f):(ii("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vf{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new Qt(s.error.code,s.error.message))),f?new vf(e,s.state,u):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _p{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Nt();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=Re(s.activeTargetIds[_]),f=f.add(s.activeTargetIds[_]);return u?new _p(e,f):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class pg{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new pg(n.clientId,n.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gg{constructor(){this.activeTargetIds=Nt()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _m{constructor(e,n,s,u,f){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new zi(yr),this.started=!1,this.ps=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ys=pp(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new gg),this.Ss=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const n=yield e.syncEngine.Bi();for(const u of n){if(u===e.Rs)continue;const f=e.getItem(pp(e.persistenceKey,u));if(f){const _=_p.Ts(u,f);_&&(e.gs=e.gs.insert(_.clientId,_))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const u=e.Ms(s);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(mp(this.persistenceKey,e));if(s){const u=vf.Ts(e,s);u&&(n=u.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mp(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Jt("SharedClientState","READ",e,n),n}setItem(e,n){Jt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Jt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(Jt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,l.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const u=n.Ks(s.key);return n.$s(u,null)}{const u=n.Us(s.key,s.newValue);if(u)return n.$s(u.clientId,u)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const u=n.Ws(s.key,s.newValue);if(u)return n.Gs(u)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const u=n.zs(s.key,s.newValue);if(u)return n.js(u)}}else if(s.key===n.Cs){if(null!==s.newValue){const u=n.Ms(s.newValue);if(u)return n.xs(u)}}else if(s.key===n.ws){const u=function(_){let P=T._e;if(null!=_)try{const F=JSON.parse(_);Hn("number"==typeof F),P=F}catch(F){ii("SharedClientState","Failed to read sequence number from WebStorage",F)}return P}(s.newValue);u!==T._e&&n.sequenceNumberHandler(u)}else if(s.key===n.vs){const u=n.Hs(s.newValue);yield Promise.all(u.map(f=>n.syncEngine.Js(f)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const u=new dh(this.currentUser,e,n,s),f=gp(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Es())}Bs(e){const n=gp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const u=mp(this.persistenceKey,e),f=new vf(e,n,s);this.setItem(u,f.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return _p.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),u=Number(s[1]);return dh.Ts(new Gn(void 0!==s[2]?s[2]:null),u,n)}zs(e,n){const s=this.Ds.exec(e),u=Number(s[1]);return vf.Ts(u,n)}Ms(e){return pg.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,l.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);Jt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),u=this.Os(this.gs),f=this.Os(s),_=[],P=[];return f.forEach(F=>{u.has(F)||_.push(F)}),u.forEach(F=>{f.has(F)||P.push(F)}),this.syncEngine.Xs(_,P).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Nt();return e.forEach((s,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class vm{constructor(){this.eo=new gg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new gg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yf{ro(e){}shutdown(){}}class ym{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hh=null;function fh(){return null===hh?hh=268435456+Math.round(2147483648*Math.random()):hh++,"0x"+hh.toString(16)}const ph={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vp{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ds="WebChannelConnection";class gh extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${u}/databases/${f}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get yo(){return!1}wo(n,s,u,f,_){const P=fh(),F=this.So(n,s);Jt("RestConnection",`Sending RPC '${n}' ${P}:`,F,u);const Q={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(Q,f,_),this.Do(n,F,Q,u).then(se=>(Jt("RestConnection",`Received RPC '${n}' ${P}: `,se),se),se=>{throw ji("RestConnection",`RPC '${n}' ${P} failed with error: `,se,"url: ",F,"request:",u),se})}Co(n,s,u,f,_,P){return this.wo(n,s,u,f,_)}bo(n,s,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+li,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,_)=>n[_]=f),u&&u.headers.forEach((f,_)=>n[_]=f)}So(n,s){return`${this.mo}/v1/${s}:${ph[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,u){const f=fh();return new Promise((_,P)=>{const F=new dn;F.setWithCredentials(!0),F.listenOnce(ke.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case z.NO_ERROR:const se=F.getResponseJson();Jt(ds,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(se)),_(se);break;case z.TIMEOUT:Jt(ds,`RPC '${e}' ${f} timed out`),P(new Qt(xt.DEADLINE_EXCEEDED,"Request time out"));break;case z.HTTP_ERROR:const Ne=F.getStatus();if(Jt(ds,`RPC '${e}' ${f} failed with status:`,Ne,"response text:",F.getResponseText()),Ne>0){let pt=F.getResponseJson();Array.isArray(pt)&&(pt=pt[0]);const Mt=null==pt?void 0:pt.error;if(Mt&&Mt.status&&Mt.message){const yn=function(xn){const Er=xn.toLowerCase().replace(/_/g,"-");return Object.values(xt).indexOf(Er)>=0?Er:xt.UNKNOWN}(Mt.status);P(new Qt(yn,Mt.message))}else P(new Qt(xt.UNKNOWN,"Server responded with status "+F.getStatus()))}else P(new Qt(xt.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{Jt(ds,`RPC '${e}' ${f} completed.`)}});const Q=JSON.stringify(u);Jt(ds,`RPC '${e}' ${f} sending request:`,u),F.send(n,"POST",Q,s,15)})}vo(e,n,s){const u=fh(),f=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=El(),P=A(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Q=this.longPollingOptions.timeoutSeconds;void 0!==Q&&(F.longPollingTimeout=Math.round(1e3*Q)),this.useFetchStreams&&(F.xmlHttpFactory=new Je({})),this.bo(F.initMessageHeaders,n,s),F.encodeInitMessageHeaders=!0;const se=f.join("");Jt(ds,`Creating RPC '${e}' stream ${u}: ${se}`,F);const Ne=_.createWebChannel(se,F);let pt=!1,Mt=!1;const yn=new vp({co:xn=>{Mt?Jt(ds,`Not sending because RPC '${e}' stream ${u} is closed:`,xn):(pt||(Jt(ds,`Opening RPC '${e}' stream ${u} transport.`),Ne.open(),pt=!0),Jt(ds,`RPC '${e}' stream ${u} sending:`,xn),Ne.send(xn))},lo:()=>Ne.close()}),Sn=(xn,Er,Rr)=>{xn.listen(Er,Ir=>{try{Rr(Ir)}catch(Ai){setTimeout(()=>{throw Ai},0)}})};return Sn(Ne,Vt.EventType.OPEN,()=>{Mt||Jt(ds,`RPC '${e}' stream ${u} transport opened.`)}),Sn(Ne,Vt.EventType.CLOSE,()=>{Mt||(Mt=!0,Jt(ds,`RPC '${e}' stream ${u} transport closed`),yn.Ro())}),Sn(Ne,Vt.EventType.ERROR,xn=>{Mt||(Mt=!0,ji(ds,`RPC '${e}' stream ${u} transport errored:`,xn),yn.Ro(new Qt(xt.UNAVAILABLE,"The operation could not be completed")))}),Sn(Ne,Vt.EventType.MESSAGE,xn=>{var Er;if(!Mt){const Rr=xn.data[0];Hn(!!Rr);const Ai=Rr.error||(null===(Er=Rr[0])||void 0===Er?void 0:Er.error);if(Ai){Jt(ds,`RPC '${e}' stream ${u} received error:`,Ai);const jr=Ai.status;let to=function(kv){const Fv=es[kv];if(void 0!==Fv)return Kh(Fv)}(jr),Ns=Ai.message;void 0===to&&(to=xt.INTERNAL,Ns="Unknown error status: "+jr+" with message "+Ai.message),Mt=!0,yn.Ro(new Qt(to,Ns)),Ne.close()}else Jt(ds,`RPC '${e}' stream ${u} received:`,Rr),yn.Vo(Rr)}}),Sn(P,U.STAT_EVENT,xn=>{xn.stat===Ie.PROXY?Jt(ds,`RPC '${e}' stream ${u} detected buffering proxy`):xn.stat===Ie.NOPROXY&&Jt(ds,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{yn.Ao()},0),yn}}function Lu(){return typeof window<"u"?window:null}function Ml(){return typeof document<"u"?document:null}function bc(i){return new pc(i,!0)}class mh{constructor(e,n,s=1e3,u=1.5,f=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=u,this.xo=f,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-s);u>0&&Jt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Vu{constructor(e,n,s,u,f,_,P,F){this.si=e,this.Ko=s,this.$o=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=P,this.listener=F,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new mh(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,l.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,l.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,l.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===xt.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===xt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Uo===n&&this.s_(s,u)},s=>{e(()=>{const u=new Qt(xt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(u)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{s(()=>this.o_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,l.Z)(function*(){e.state=0,e.start()}))}o_(e){return Jt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O_ extends Vu{constructor(e,n,s,u,f,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,_),this.serializer=f}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Yd(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(Q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Nn(),u=e.targetChange.targetIds||[],f=function(Q,se){return Q.useProto3Json?(Hn(void 0===se||"string"==typeof se),Mo.fromBase64String(se||"")):(Hn(void 0===se||se instanceof Uint8Array),Mo.fromUint8Array(se||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,P=_&&function(Q){const se=void 0===Q.code?xt.UNKNOWN:Kh(Q.code);return new Qt(se,Q.message||"")}(_);n=new Uf(s,u,f,P||null)}else if("documentChange"in e){const s=e.documentChange,u=Ba(i,s.document.name),f=Oo(s.document.updateTime),_=s.document.createTime?Oo(s.document.createTime):Zn.min(),P=new Xo({mapValue:{fields:s.document.fields}}),F=si.newFoundDocument(u,f,_,P);n=new dc(s.targetIds||[],s.removedTargetIds||[],F.key,F)}else if("documentDelete"in e){const s=e.documentDelete,u=Ba(i,s.document),f=s.readTime?Oo(s.readTime):Zn.min(),_=si.newNoDocument(u,f);n=new dc([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const s=e.documentRemove,u=Ba(i,s.document);n=new dc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Nn();{const s=e.filter,{count:u=0,unchangedNames:f}=s,_=new lm(u,f);n=new Wd(s.targetId,_)}}var Q;return n}(this.serializer,e),s=function(f){if(!("targetChange"in f))return Zn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?Zn.min():_.readTime?Oo(_.readTime):Zn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=qd(this.serializer),n.addTarget=function(f,_){let P;const F=_.target;if(P=ya(F)?{documents:eg(f,F)}:{query:rd(f,F)},P.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){P.resumeToken=gc(f,_.resumeToken);const Q=Gd(f,_.expectedCount);null!==Q&&(P.expectedCount=Q)}else if(_.snapshotVersion.compareTo(Zn.min())>0){P.readTime=nd(f,_.snapshotVersion.toTimestamp());const Q=Gd(f,_.expectedCount);null!==Q&&(P.expectedCount=Q)}return P}(this.serializer,e);const s=function tg(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=qd(this.serializer),n.removeTarget=e,this.e_(n)}}class yp extends Vu{constructor(e,n,s,u,f,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,_),this.serializer=f,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Jh(i,e){return i&&i.length>0?(Hn(void 0!==e),i.map(n=>function(u,f){let _=Oo(u.updateTime?u.updateTime:f);return _.isEqual(Zn.min())&&(_=Oo(f)),new Ud(_,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Oo(e.commitTime);return this.listener.I_(s,n)}return Hn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=qd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ra(this.serializer,s))};this.e_(n)}}class _h extends class{}{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Qt(xt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.wo(e,n,s,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Qt(xt.UNKNOWN,u.toString())})}Co(e,n,s,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Co(e,n,s,f,_,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===xt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Qt(xt.UNKNOWN,f.toString())})}terminate(){this.d_=!0}}class Im{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ii(n),this.f_=!1):Jt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class N_{constructor(e,n,s,u,f){var _=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=f,this.F_.ro(P=>{s.enqueueAndForget((0,l.Z)(function*(){var F;iu(_)&&(Jt("RemoteStore","Restarting streams for network reachability change."),yield(F=(0,l.Z)(function*(se){const Ne=vn(se);Ne.C_.add(4),yield vh(Ne),Ne.M_.set("Unknown"),Ne.C_.delete(4),yield gd(Ne)}),function Q(se){return F.apply(this,arguments)})(_))}))}),this.M_=new Im(s,u)}}function gd(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,l.Z)(function*(i){if(iu(i))for(const e of i.v_)yield e(!0)}),Ep.apply(this,arguments)}function vh(i){return mg.apply(this,arguments)}function mg(){return mg=(0,l.Z)(function*(i){for(const e of i.v_)yield e(!1)}),mg.apply(this,arguments)}function _g(i,e){const n=vn(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Cp(n)?vg(n):Eh(n).Ho()&&yh(n,e))}function If(i,e){const n=vn(i),s=Eh(n);n.D_.delete(e),s.Ho()&&Ip(n,e),0===n.D_.size&&(s.Ho()?s.Zo():iu(n)&&n.M_.set("Unknown"))}function yh(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eh(i).u_(e)}function Ip(i,e){i.x_.Oe(e),Eh(i).c_(e)}function vg(i){i.x_=new jf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Eh(i).start(),i.M_.g_()}function Cp(i){return iu(i)&&!Eh(i).jo()&&i.D_.size>0}function iu(i){return 0===vn(i).C_.size}function Cf(i){i.x_=void 0}function k_(i){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,l.Z)(function*(i){i.D_.forEach((e,n)=>{yh(i,e)})}),Tp.apply(this,arguments)}function F_(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,l.Z)(function*(i,e){Cf(i),Cp(i)?(i.M_.w_(e),vg(i)):i.M_.set("Unknown")}),Dp.apply(this,arguments)}function L_(i,e,n){return yg.apply(this,arguments)}function yg(){return yg=(0,l.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Uf&&2===e.state&&e.cause)try{yield(s=(0,l.Z)(function*(f,_){const P=_.cause;for(const F of _.targetIds)f.D_.has(F)&&(yield f.remoteSyncer.rejectListen(F,P),f.D_.delete(F),f.x_.removeTarget(F))}),function u(f,_){return s.apply(this,arguments)})(i,e)}catch(s){Jt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield md(i,s)}else if(e instanceof dc?i.x_.$e(e):e instanceof Wd?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Zn.min()))try{const s=yield uh(i.localStore);n.compareTo(s)>=0&&(yield function(f,_){const P=f.x_.it(_);return P.targetChanges.forEach((F,Q)=>{if(F.resumeToken.approximateByteSize()>0){const se=f.D_.get(Q);se&&f.D_.set(Q,se.withResumeToken(F.resumeToken,_))}}),P.targetMismatches.forEach((F,Q)=>{const se=f.D_.get(F);if(!se)return;f.D_.set(F,se.withResumeToken(Mo.EMPTY_BYTE_STRING,se.snapshotVersion)),Ip(f,F);const Ne=new ia(se.target,F,Q,se.sequenceNumber);yh(f,Ne)}),f.remoteSyncer.applyRemoteEvent(P)}(i,n))}catch(s){Jt("RemoteStore","Failed to raise snapshot:",s),yield md(i,s)}var s}),yg.apply(this,arguments)}function md(i,e,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,l.Z)(function*(i,e,n){if(!Ma(e))throw e;i.C_.add(1),yield vh(i),i.M_.set("Offline"),n||(n=()=>uh(i.localStore)),i.asyncQueue.enqueueRetryable((0,l.Z)(function*(){Jt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield gd(i)}))}),Eg.apply(this,arguments)}function _d(i,e){return e().catch(n=>md(i,n,e))}function ou(i){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,l.Z)(function*(i){const e=vn(i),n=vd(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Cm(e);)try{const u=yield hp(e.localStore,s);if(null===u){0===e.b_.length&&n.Zo();break}s=u.batchId,V_(e,u)}catch(u){yield md(e,u)}Tm(e)&&Dm(e)}),Ig.apply(this,arguments)}function Cm(i){return iu(i)&&i.b_.length<10}function V_(i,e){i.b_.push(e);const n=vd(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Tm(i){return iu(i)&&!vd(i).jo()&&i.b_.length>0}function Dm(i){vd(i).start()}function wm(i){return wp.apply(this,arguments)}function wp(){return wp=(0,l.Z)(function*(i){vd(i).E_()}),wp.apply(this,arguments)}function Cg(i){return bm.apply(this,arguments)}function bm(){return bm=(0,l.Z)(function*(i){const e=vd(i);for(const n of i.b_)e.P_(n.mutations)}),bm.apply(this,arguments)}function Tg(i,e,n){return bp.apply(this,arguments)}function bp(){return bp=(0,l.Z)(function*(i,e,n){const s=i.b_.shift(),u=ll.from(s,e,n);yield _d(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield ou(i)}),bp.apply(this,arguments)}function B_(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,l.Z)(function*(i,e){var n;e&&vd(i).h_&&(yield(n=(0,l.Z)(function*(u,f){if($f(P=f.code)&&P!==xt.ABORTED){const _=u.b_.shift();vd(u).Yo(),yield _d(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield ou(u)}var P}),function s(u,f){return n.apply(this,arguments)})(i,e)),Tm(i)&&Dm(i)}),Dg.apply(this,arguments)}function wg(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,l.Z)(function*(i,e){const n=vn(i);n.asyncQueue.verifyOperationInProgress(),Jt("RemoteStore","RemoteStore received new credentials");const s=iu(n);n.C_.add(3),yield vh(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield gd(n)}),bg.apply(this,arguments)}function Ap(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,l.Z)(function*(i,e){const n=vn(i);e?(n.C_.delete(2),yield gd(n)):e||(n.C_.add(2),yield vh(n),n.M_.set("Unknown"))}),Ag.apply(this,arguments)}function Eh(i){return i.O_||(i.O_=function(n,s,u){const f=vn(n);return f.A_(),new O_(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:k_.bind(null,i),Io:F_.bind(null,i),a_:L_.bind(null,i)}),i.v_.push(function(){var e=(0,l.Z)(function*(n){n?(i.O_.Yo(),Cp(i)?vg(i):i.M_.set("Unknown")):(yield i.O_.stop(),Cf(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function vd(i){return i.N_||(i.N_=function(n,s,u){const f=vn(n);return f.A_(),new yp(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:wm.bind(null,i),Io:B_.bind(null,i),T_:Cg.bind(null,i),I_:Tg.bind(null,i)}),i.v_.push(function(){var e=(0,l.Z)(function*(n){n?(i.N_.Yo(),yield ou(i)):(yield i.N_.stop(),i.b_.length>0&&(Jt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Sp{constructor(e,n,s,u,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,f){const _=Date.now()+s,P=new Sp(e,n,_,u,f);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qt(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(i,e){if(ii("AsyncQueue",`${e}: ${i}`),Ma(i))return new Qt(xt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ks{constructor(e){this.comparator=e?(n,s)=>e(n,s)||wn.comparator(n.key,s.key):(n,s)=>wn.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new zi(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Ks;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Sg{constructor(){this.B_=new zi(wn.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Nn():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Tf{constructor(e,n,s,u,f,_,P,F,Q){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=P,this.excludesMetadataChanges=F,this.hasCachedResults=Q}static fromInitialDocuments(e,n,s,u,f){const _=[];return n.forEach(P=>{_.push({type:0,doc:P})}),new Tf(e,n,Ks.emptySet(n),_,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&La(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class Rp{constructor(){this.k_=void 0,this.listeners=[]}}class xl{constructor(){this.queries=new qs(e=>Fd(e),La),this.onlineState="Unknown",this.q_=new Set}}function Ih(i,e){return p.apply(this,arguments)}function p(){return p=(0,l.Z)(function*(i,e){const n=vn(i),s=e.query;let u=!1,f=n.queries.get(s);if(f||(u=!0,f=new Rp),u)try{f.k_=yield n.onListen(s)}catch(_){const P=yd(_,`Initialization of query '${na(e.query)}' failed`);return void e.onError(P)}n.queries.set(s,f),f.listeners.push(e),e.Q_(n.onlineState),f.k_&&e.K_(f.k_)&&B(n)}),p.apply(this,arguments)}function d(i,e){return h.apply(this,arguments)}function h(){return h=(0,l.Z)(function*(i,e){const n=vn(i),s=e.query;let u=!1;const f=n.queries.get(s);if(f){const _=f.listeners.indexOf(e);_>=0&&(f.listeners.splice(_,1),u=0===f.listeners.length)}if(u)return n.queries.delete(s),n.onUnlisten(s)}),h.apply(this,arguments)}function v(i,e){const n=vn(i);let s=!1;for(const u of e){const _=n.queries.get(u.query);if(_){for(const P of _.listeners)P.K_(u)&&(s=!0);_.k_=u}}s&&B(n)}function b(i,e,n){const s=vn(i),u=s.queries.get(e);if(u)for(const f of u.listeners)f.onError(n);s.queries.delete(e)}function B(i){i.q_.forEach(e=>{e.next()})}class K{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Tf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Tf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class we{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class We{constructor(e){this.serializer=e}hs(e){return Ba(this.serializer,e)}Ps(e){return e.metadata.exists?Xh(this.serializer,e.document,!1):si.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Oo(e)}}class lt{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$t(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=ti.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new We(this.serializer);for(const u of e)if(u.metadata.queries){const f=s.hs(u.metadata.name);for(const _ of u.metadata.queries){const P=(n.get(_)||oe()).add(f);n.set(_,P)}}return n}complete(){var e=this;return(0,l.Z)(function*(){const n=yield function fg(i,e,n,s){return fp.apply(this,arguments)}(e.localStore,new We(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const u of e.queries)yield mm(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function $t(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class qt{constructor(e){this.key=e}}class tn{constructor(e){this.key=e}}class Wn{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=oe(),this.mutatedKeys=oe(),this._a=zh(e),this.aa=new Ks(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new Sg,u=n?n.aa:this.aa;let f=n?n.mutatedKeys:this.mutatedKeys,_=u,P=!1;const F="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((se,Ne)=>{const pt=u.get(se),Mt=Eu(this.query,Ne)?Ne:null,yn=!!pt&&this.mutatedKeys.has(pt.key),Sn=!!Mt&&(Mt.hasLocalMutations||this.mutatedKeys.has(Mt.key)&&Mt.hasCommittedMutations);let xn=!1;pt&&Mt?pt.data.isEqual(Mt.data)?yn!==Sn&&(s.track({type:3,doc:Mt}),xn=!0):this.ha(pt,Mt)||(s.track({type:2,doc:Mt}),xn=!0,(F&&this._a(Mt,F)>0||Q&&this._a(Mt,Q)<0)&&(P=!0)):!pt&&Mt?(s.track({type:0,doc:Mt}),xn=!0):pt&&!Mt&&(s.track({type:1,doc:pt}),xn=!0,(F||Q)&&(P=!0)),xn&&(Mt?(_=_.add(Mt),f=Sn?f.add(se):f.delete(se)):(_=_.delete(se),f=f.delete(se)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const se="F"===this.query.limitType?_.last():_.first();_=_.delete(se.key),f=f.delete(se.key),s.track({type:1,doc:se})}return{aa:_,la:s,Zi:P,mutatedKeys:f}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const f=e.la.L_();f.sort((Q,se)=>function(pt,Mt){const yn=Sn=>{switch(Sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return yn(pt)-yn(Mt)}(Q.type,se.type)||this._a(Q.doc,se.doc)),this.Pa(s);const _=n?this.Ia():[],P=0===this.oa.size&&this.current?1:0,F=P!==this.sa;return this.sa=P,0!==f.length||F?{snapshot:new Tf(this.query,e.aa,u,f,e.mutatedKeys,0===P,F,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:_}:{Ta:_}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Sg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=oe(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new tn(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new qt(s))}),n}da(e){this.ia=e.ls,this.oa=oe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Tf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hr{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $i{constructor(e){this.key=e,this.Ra=!1}}class Ts{constructor(e,n,s,u,f,_){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Va={},this.ma=new qs(P=>Fd(P),La),this.fa=new Map,this.ga=new Set,this.pa=new zi(wn.comparator),this.ya=new Map,this.wa=new fd,this.Sa={},this.ba=new Map,this.Da=Nu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Ac(i,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,l.Z)(function*(i,e){const n=Vg(i);let s,u;const f=n.ma.get(e);if(f)s=f.targetId,n.sharedClientState.addLocalQueryTarget(s),u=f.view.Aa();else{const _=yield Ys(n.localStore,ys(e)),P=n.sharedClientState.addLocalQueryTarget(_.targetId);s=_.targetId,u=yield Ch(n,e,s,"current"===P,_.resumeToken),n.isPrimaryClient&&_g(n.remoteStore,_)}return u}),Sc.apply(this,arguments)}function Ch(i,e,n,s,u){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,l.Z)(function*(i,e,n,s,u){i.va=(Ne,pt,Mt)=>{return(yn=(0,l.Z)(function*(xn,Er,Rr,Ir){let Ai=Er.view.ca(Rr);Ai.Zi&&(Ai=yield gf(xn.localStore,Er.query,!1).then(({documents:Ns})=>Er.view.ca(Ns,Ai)));const jr=Ir&&Ir.targetChanges.get(Er.targetId),to=Er.view.applyChanges(Ai,xn.isPrimaryClient,jr);return H_(xn,Er.targetId,to.Ta),to.snapshot}),function Sn(xn,Er,Rr,Ir){return yn.apply(this,arguments)})(i,Ne,pt,Mt);var yn};const f=yield gf(i.localStore,e,!0),_=new Wn(e,f.ls),P=_.ca(f.documents),F=zd.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,u),Q=_.applyChanges(P,i.isPrimaryClient,F);H_(i,n,Q.Ta);const se=new hr(e,n,_);return i.ma.set(e,se),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),Q.snapshot}),Pp.apply(this,arguments)}function ty(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,l.Z)(function*(i,e){const n=vn(i),s=n.ma.get(e),u=n.fa.get(s.targetId);if(u.length>1)return n.fa.set(s.targetId,u.filter(f=>!La(f,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Fu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),If(n.remoteStore,s.targetId),wf(n,s.targetId)}).catch(Ss))):(wf(n,s.targetId),yield Fu(n.localStore,s.targetId,!0))}),Rg.apply(this,arguments)}function su(){return su=(0,l.Z)(function*(i,e,n){const s=xp(i);try{const u=yield function(_,P){const F=vn(_),Q=eo.now(),se=P.reduce((Mt,yn)=>Mt.add(yn.key),oe());let Ne,pt;return F.persistence.runTransaction("Locally write mutations","readwrite",Mt=>{let yn=Jo(),Sn=oe();return F.ss.getEntries(Mt,se).next(xn=>{yn=xn,yn.forEach((Er,Rr)=>{Rr.isValidDocument()||(Sn=Sn.add(Er))})}).next(()=>F.localDocuments.getOverlayedDocuments(Mt,yn)).next(xn=>{Ne=xn;const Er=[];for(const Rr of P){const Ir=Qp(Rr,Ne.get(Rr.key).overlayedDocument);null!=Ir&&Er.push(new al(Rr.key,Ir,zc(Ir.value.mapValue),Io.exists(!0)))}return F.mutationQueue.addMutationBatch(Mt,Q,Er,P)}).next(xn=>{pt=xn;const Er=xn.applyToLocalDocumentSet(Ne,Sn);return F.documentOverlayCache.saveOverlays(Mt,xn.batchId,Er)})}).then(()=>({batchId:pt.batchId,changes:Al(Ne)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(_,P,F){let Q=_.Sa[_.currentUser.toKey()];Q||(Q=new zi(yr)),Q=Q.insert(P,F),_.Sa[_.currentUser.toKey()]=Q}(s,u.batchId,n),yield Ed(s,u.changes),yield ou(s.remoteStore)}catch(u){const f=yd(u,"Failed to persist write");n.reject(f)}}),su.apply(this,arguments)}function Th(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,l.Z)(function*(i,e){const n=vn(i);try{const s=yield function x_(i,e){const n=vn(i),s=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const P=[];e.targetChanges.forEach((se,Ne)=>{const pt=u.get(Ne);if(!pt)return;P.push(n.qr.removeMatchingKeys(f,se.removedDocuments,Ne).next(()=>n.qr.addMatchingKeys(f,se.addedDocuments,Ne)));let Mt=pt.withSequenceNumber(f.currentSequenceNumber);var Sn,xn,Er;null!==e.targetMismatches.get(Ne)?Mt=Mt.withResumeToken(Mo.EMPTY_BYTE_STRING,Zn.min()).withLastLimboFreeSnapshotVersion(Zn.min()):se.resumeToken.approximateByteSize()>0&&(Mt=Mt.withResumeToken(se.resumeToken,s)),u=u.insert(Ne,Mt),xn=Mt,Er=se,(0===(Sn=pt).resumeToken.approximateByteSize()||xn.snapshotVersion.toMicroseconds()-Sn.snapshotVersion.toMicroseconds()>=3e8||Er.addedDocuments.size+Er.modifiedDocuments.size+Er.removedDocuments.size>0)&&P.push(n.qr.updateTargetData(f,Mt))});let F=Jo(),Q=oe();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&P.push(n.persistence.referenceDelegate.updateLimboDocument(f,se))}),P.push(ff(f,_,e.documentUpdates).next(se=>{F=se.us,Q=se.cs})),!s.isEqual(Zn.min())){const se=n.qr.getLastRemoteSnapshotVersion(f).next(Ne=>n.qr.setTargetsMetadata(f,f.currentSequenceNumber,s));P.push(se)}return Dt.waitFor(P).next(()=>_.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,F,Q)).next(()=>F)}).then(f=>(n.ts=u,f))}(n.localStore,e);e.targetChanges.forEach((u,f)=>{const _=n.ya.get(f);_&&(Hn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.Ra=!0:u.modifiedDocuments.size>0?Hn(_.Ra):u.removedDocuments.size>0&&(Hn(_.Ra),_.Ra=!1))}),yield Ed(n,s,e)}catch(s){yield Ss(s)}}),Am.apply(this,arguments)}function $_(i,e,n){const s=vn(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const u=[];s.ma.forEach((f,_)=>{const P=_.view.Q_(e);P.snapshot&&u.push(P.snapshot)}),function(_,P){const F=vn(_);F.onlineState=P;let Q=!1;F.queries.forEach((se,Ne)=>{for(const pt of Ne.listeners)pt.Q_(P)&&(Q=!0)}),Q&&B(F)}(s.eventManager,e),u.length&&s.Va.a_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function U_(i,e,n){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,l.Z)(function*(i,e,n){const s=vn(i);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.ya.get(e),f=u&&u.key;if(f){let _=new zi(wn.comparator);_=_.insert(f,si.newNoDocument(f,Zn.min()));const P=oe().add(f),F=new cc(Zn.min(),new Map,new zi(yr),_,P);yield Th(s,F),s.pa=s.pa.remove(f),s.ya.delete(e),z_(s)}else yield Fu(s.localStore,e,!1).then(()=>wf(s,e,n)).catch(Ss)}),Pg.apply(this,arguments)}function Sm(i,e){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,l.Z)(function*(i,e){const n=vn(i),s=e.batch.batchId;try{const u=yield function hg(i,e){const n=vn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=n.ss.newChangeBuffer({trackRemovals:!0});return function(P,F,Q,se){const Ne=Q.batch,pt=Ne.keys();let Mt=Dt.resolve();return pt.forEach(yn=>{Mt=Mt.next(()=>se.getEntry(F,yn)).next(Sn=>{const xn=Q.docVersions.get(yn);Hn(null!==xn),Sn.version.compareTo(xn)<0&&(Ne.applyToRemoteDocument(Sn,Q),Sn.isValidDocument()&&(Sn.setReadTime(Q.commitVersion),se.addEntry(Sn)))})}),Mt.next(()=>P.mutationQueue.removeMutationBatch(F,Ne))}(n,s,e,f).next(()=>f.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(P){let F=oe();for(let Q=0;Q<P.mutationResults.length;++Q)P.mutationResults[Q].transformResults.length>0&&(F=F.add(P.batch.mutations[Q].key));return F}(e))).next(()=>n.localDocuments.getDocuments(s,u))})}(n.localStore,e);Mm(n,s,null),Pm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Ed(n,u)}catch(u){yield Ss(u)}}),Dh.apply(this,arguments)}function Mg(i,e,n){return xg.apply(this,arguments)}function xg(){return xg=(0,l.Z)(function*(i,e,n){const s=vn(i);try{const u=yield function(_,P){const F=vn(_);return F.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let se;return F.mutationQueue.lookupMutationBatch(Q,P).next(Ne=>(Hn(null!==Ne),se=Ne.keys(),F.mutationQueue.removeMutationBatch(Q,Ne))).next(()=>F.mutationQueue.performConsistencyCheck(Q)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(Q,se,P)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,se)).next(()=>F.localDocuments.getDocuments(Q,se))})}(s.localStore,e);Mm(s,e,n),Pm(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Ed(s,u)}catch(u){yield Ss(u)}}),xg.apply(this,arguments)}function Rm(){return Rm=(0,l.Z)(function*(i,e){const n=vn(i);iu(n.remoteStore)||Jt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const P=vn(_);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>P.mutationQueue.getHighestUnacknowledgedBatchId(F))}(n.localStore);if(-1===s)return void e.resolve();const u=n.ba.get(s)||[];u.push(e),n.ba.set(s,u)}catch(s){const u=yd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Rm.apply(this,arguments)}function Pm(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Mm(i,e,n){const s=vn(i);let u=s.Sa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(n?f.reject(n):f.resolve(),u=u.remove(e)),s.Sa[s.currentUser.toKey()]=u}}function wf(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||xm(i,s)})}function xm(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(If(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),z_(i))}function H_(i,e,n){for(const s of n)s instanceof qt?(i.wa.addReference(s.key,e),ny(i,s)):s instanceof tn?(Jt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||xm(i,s.key)):Nn()}function ny(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(Jt("SyncEngine","New document in limbo: "+n),i.ga.add(s),z_(i))}function z_(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new wn(ti.fromString(e)),s=i.Da.next();i.ya.set(s,new $i(n)),i.pa=i.pa.insert(n,s),_g(i.remoteStore,new ia(ys(Gl(n.path)),s,"TargetPurposeLimboResolution",T._e))}}function Ed(i,e,n){return Og.apply(this,arguments)}function Og(){return Og=(0,l.Z)(function*(i,e,n){const s=vn(i),u=[],f=[],_=[];var P;s.ma.isEmpty()||(s.ma.forEach((P,F)=>{_.push(s.va(F,e,n).then(Q=>{if((Q||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(F.targetId,null!=Q&&Q.fromCache?"not-current":"current"),Q){u.push(Q);const se=lh.Qi(F.targetId,Q);f.push(se)}}))}),yield Promise.all(_),s.Va.a_(u),yield(P=(0,l.Z)(function*(Q,se){const Ne=vn(Q);try{yield Ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",pt=>Dt.forEach(se,Mt=>Dt.forEach(Mt.ki,yn=>Ne.persistence.referenceDelegate.addReference(pt,Mt.targetId,yn)).next(()=>Dt.forEach(Mt.qi,yn=>Ne.persistence.referenceDelegate.removeReference(pt,Mt.targetId,yn)))))}catch(pt){if(!Ma(pt))throw pt;Jt("LocalStore","Failed to update sequence numbers: "+pt)}for(const pt of se){const Mt=pt.targetId;if(!pt.fromCache){const yn=Ne.ts.get(Mt),xn=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);Ne.ts=Ne.ts.insert(Mt,xn)}}}),function F(Q,se){return P.apply(this,arguments)})(s.localStore,f))}),Og.apply(this,arguments)}function W_(i,e){return G_.apply(this,arguments)}function G_(){return G_=(0,l.Z)(function*(i,e){const n=vn(i);if(!n.currentUser.isEqual(e)){Jt("SyncEngine","User change. New user:",e.toKey());const s=yield Dc(n.localStore,e);n.currentUser=e,(f=n).ba.forEach(P=>{P.forEach(F=>{F.reject(new Qt(xt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ed(n,s._s)}var f}),G_.apply(this,arguments)}function Mp(i,e){const n=vn(i),s=n.ya.get(e);if(s&&s.Ra)return oe().add(s.key);{let u=oe();const f=n.fa.get(e);if(!f)return u;for(const _ of f){const P=n.ma.get(_);u=u.unionWith(P.view.ua)}return u}}function LE(i,e){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,l.Z)(function*(i,e){const n=vn(i),s=yield gf(n.localStore,e.query,!0),u=e.view.da(s);return n.isPrimaryClient&&H_(n,e.targetId,u.Ta),u}),Ng.apply(this,arguments)}function q_(i,e){return Om.apply(this,arguments)}function Om(){return Om=(0,l.Z)(function*(i,e){const n=vn(i);return _f(n.localStore,e).then(s=>Ed(n,s))}),Om.apply(this,arguments)}function Y_(i,e,n,s){return kg.apply(this,arguments)}function kg(){return kg=(0,l.Z)(function*(i,e,n,s){const u=vn(i),f=yield function(P,F){const Q=vn(P),se=vn(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ne=>se.Cn(Ne,F).next(pt=>pt?Q.localDocuments.getDocuments(Ne,pt):Dt.resolve(null)))}(u.localStore,e);var F;null!==f?("pending"===n?yield ou(u.remoteStore):"acknowledged"===n||"rejected"===n?(Mm(u,e,s||null),Pm(u,e),F=e,vn(vn(u.localStore).mutationQueue).Fn(F)):Nn(),yield Ed(u,f)):Jt("SyncEngine","Cannot apply mutation batch with id: "+e)}),kg.apply(this,arguments)}function Fg(){return Fg=(0,l.Z)(function*(i,e){const n=vn(i);if(Vg(n),xp(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),u=yield Nm(n,s.toArray());n.Ca=!0,yield Ap(n.remoteStore,!0);for(const f of u)_g(n.remoteStore,f)}else if(!1===e&&!1!==n.Ca){const s=[];let u=Promise.resolve();n.fa.forEach((f,_)=>{n.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(wf(n,_),Fu(n.localStore,_,!0))),If(n.remoteStore,_)}),yield u,yield Nm(n,s),function(_){const P=vn(_);P.ya.forEach((F,Q)=>{If(P.remoteStore,Q)}),P.wa.Vr(),P.ya=new Map,P.pa=new zi(wn.comparator)}(n),n.Ca=!1,yield Ap(n.remoteStore,!1)}}),Fg.apply(this,arguments)}function Nm(i,e,n){return Id.apply(this,arguments)}function Id(){return Id=(0,l.Z)(function*(i,e,n){const s=vn(i),u=[],f=[];for(const _ of e){let P;const F=s.fa.get(_);if(F&&0!==F.length){P=yield Ys(s.localStore,ys(F[0]));for(const Q of F){const se=s.ma.get(Q),Ne=yield LE(s,se);Ne.snapshot&&f.push(Ne.snapshot)}}else{const Q=yield mf(s.localStore,_);P=yield Ys(s.localStore,Q),yield Ch(s,km(Q),_,!1,P.resumeToken)}u.push(P)}return s.Va.a_(f),u}),Id.apply(this,arguments)}function km(i){return Nd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ry(i){return n=vn(i).localStore,vn(vn(n).persistence).Bi();var n}function Lg(i,e,n,s){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,l.Z)(function*(i,e,n,s){const u=vn(i);if(u.Ca)return void Jt("SyncEngine","Ignoring unexpected query state notification.");const f=u.fa.get(e);if(f&&f.length>0)switch(n){case"current":case"not-current":{const _=yield _f(u.localStore,Iu(f[0])),P=cc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Mo.EMPTY_BYTE_STRING);yield Ed(u,_,P);break}case"rejected":yield Fu(u.localStore,e,!0),wf(u,e,s);break;default:Nn()}}),Cd.apply(this,arguments)}function Fm(i,e,n){return wh.apply(this,arguments)}function wh(){return wh=(0,l.Z)(function*(i,e,n){const s=Vg(i);if(s.Ca){for(const u of e){if(s.fa.has(u)){Jt("SyncEngine","Adding an already active target "+u);continue}const f=yield mf(s.localStore,u),_=yield Ys(s.localStore,f);yield Ch(s,km(f),_.targetId,!1,_.resumeToken),_g(s.remoteStore,_)}for(const u of n)s.fa.has(u)&&(yield Fu(s.localStore,u,!1).then(()=>{If(s.remoteStore,u),wf(s,u)}).catch(Ss))}}),wh.apply(this,arguments)}function Vg(i){const e=vn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Th.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U_.bind(null,e),e.Va.a_=v.bind(null,e.eventManager),e.Va.Fa=b.bind(null,e.eventManager),e}function xp(i){const e=vn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mg.bind(null,e),e}class bh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,l.Z)(function*(){n.serializer=bc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return cp(this.persistence,new hf,e.initialUser,this.serializer)}createPersistence(e){return new Bi(cf.jr,this.serializer)}createSharedClientState(e){return new vm}terminate(){var e=this;return(0,l.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Op extends bh{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield xp(s.xa.syncEngine),yield ou(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cp(this.persistence,new hf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new wa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new O(n,this.persistence);return new R(e.asyncQueue,s)}createPersistence(e){const n=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new sh(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Lu(),Ml(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new vm}}class Z_ extends Op{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield n().call(s,e);const u=s.xa.syncEngine;s.sharedClientState instanceof _m&&(s.sharedClientState.syncEngine={Ys:Y_.bind(null,u),Zs:Lg.bind(null,u),Xs:Fm.bind(null,u),Bi:ry.bind(null,u),Js:q_.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var f=(0,l.Z)(function*(_){yield function Yr(i,e){return Fg.apply(this,arguments)}(s.xa.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Lu();if(!_m.D(n))throw new Qt(xt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=pm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _m(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class bf{initialize(e,n){var s=this;return(0,l.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>$_(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=W_.bind(null,s.syncEngine),yield Ap(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xl}createDatastore(e){const n=bc(e.databaseInfo.databaseId),s=new gh(e.databaseInfo);return new _h(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,u=this.datastore,f=e.asyncQueue,_=n=>$_(this.syncEngine,n,0),P=ym.D()?new ym:new yf,new N_(s,u,f,_,P);var s,u,f,_,P}createSyncEngine(e,n){return function(u,f,_,P,F,Q,se){const Ne=new Ts(u,f,_,P,F,Q);return se&&(Ne.Ca=!0),Ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,l.Z)(function*(s){const u=vn(s);Jt("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield vh(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Q_(i,e=10240){let n=0;return{read:()=>(0,l.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class iy{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new To,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,l.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),u=Number(s);isNaN(u)&&e.Qa(`length string (${s}) is not valid number`);const f=yield e.Ka(u);return new we(JSON.parse(f),n.length+u)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,l.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,l.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,l.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class oy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,l.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Qt(xt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,l.Z)(function*(_,P){const F=vn(_),Q=qd(F.serializer)+"/documents",se={documents:P.map(yn=>Su(F.serializer,yn))},Ne=yield F.Co("BatchGetDocuments",Q,se,P.length),pt=new Map;Ne.forEach(yn=>{const Sn=function qf(i,e){return"found"in e?function(s,u){Hn(!!u.found);const f=Ba(s,u.found.name),_=Oo(u.found.updateTime),P=u.found.createTime?Oo(u.found.createTime):Zn.min(),F=new Xo({mapValue:{fields:u.found.fields}});return si.newFoundDocument(f,_,P,F)}(i,e):"missing"in e?function(s,u){Hn(!!u.missing),Hn(!!u.readTime);const f=Ba(s,u.missing),_=Oo(u.readTime);return si.newNoDocument(f,_)}(i,e):Nn()}(F.serializer,yn);pt.set(Sn.key.toString(),Sn)});const Mt=[];return P.forEach(yn=>{const Sn=pt.get(yn.toString());Hn(!!Sn),Mt.push(Sn)}),Mt}),function f(_,P){return u.apply(this,arguments)})(n.datastore,e);var u;return s.forEach(u=>n.recordVersion(u)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,u)=>{const f=wn.fromPath(u);e.mutations.push(new Gh(f,e.precondition(f)))}),yield(s=(0,l.Z)(function*(f,_){const P=vn(f),F=qd(P.serializer)+"/documents",Q={writes:_.map(se=>ra(P.serializer,se))};yield P.wo("Commit",F,Q)}),function u(f,_){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Nn();n=Zn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Qt(xt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Zn.min())?Io.exists(!1):Io.updateTime(n):Io.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Zn.min()))throw new Qt(xt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Io.updateTime(n)}return Io.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sy{constructor(e,n,s,u,f){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=u,this.deferred=f,this.Wa=s.maxAttempts,this.zo=new mh(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,l.Z)(function*(){const n=new oy(e.datastore),s=e.za(n);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.ja(f)}))}).catch(u=>{e.ja(u)})}))}za(e){try{const n=this.updateFunction(e);return!L(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!$f(n)}return!1}}class ay{constructor(e,n,s,u){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=Gn.UNAUTHENTICATED,this.clientId=Us.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,l.Z)(function*(P){Jt("FirestoreClient","Received user=",P.uid),yield f.authCredentialListener(P),f.user=P});return function(P){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(Jt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,l.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qt(xt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=yd(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function kp(i,e){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Jt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(f){s.isEqual(f)||(yield Dc(e.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Bg.apply(this,arguments)}function Vm(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield $m(i);Jt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(u=>wg(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>wg(e.remoteStore,f)),i._onlineComponents=e}),Bm.apply(this,arguments)}function Wa(i){return"FirebaseError"===i.name?i.code===xt.FAILED_PRECONDITION||i.code===xt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function $m(i){return Um.apply(this,arguments)}function Um(){return Um=(0,l.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Jt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Wa(n))throw n;ji("Error using user provided cache. Falling back to memory cache: "+n),yield kp(i,new bh)}}else Jt("FirestoreClient","Using default OfflineComponentProvider"),yield kp(i,new bh);return i._offlineComponents}),Um.apply(this,arguments)}function jm(i){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,l.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Jt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vm(i,i._uninitializedComponentsProvider._online)):(Jt("FirestoreClient","Using default OnlineComponentProvider"),yield Vm(i,new bf))),i._onlineComponents}),Fp.apply(this,arguments)}function Hm(i){return $m(i).then(e=>e.persistence)}function Af(i){return $m(i).then(e=>e.localStore)}function X_(i){return jm(i).then(e=>e.remoteStore)}function zm(i){return jm(i).then(e=>e.syncEngine)}function Sf(i){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,l.Z)(function*(i){const e=yield jm(i),n=e.eventManager;return n.onListen=Ac.bind(null,e.syncEngine),n.onUnlisten=ty.bind(null,e.syncEngine),n}),Gm.apply(this,arguments)}function J_(i,e,n={}){const s=new To;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,_,P,F,Q){const se=new Np({next:pt=>{_.enqueueAndForget(()=>d(f,Ne));const Mt=pt.docs.has(P);!Mt&&pt.fromCache?Q.reject(new Qt(xt.UNAVAILABLE,"Failed to get document because the client is offline.")):Mt&&pt.fromCache&&F&&"server"===F.source?Q.reject(new Qt(xt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(pt)},error:pt=>Q.reject(pt)}),Ne=new K(Gl(P.path),se,{includeMetadataChanges:!0,J_:!0});return Ih(f,Ne)}(yield Sf(i),i.asyncQueue,e,n,s)})),s.promise}function ev(i,e,n={}){const s=new To;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(f,_,P,F,Q){const se=new Np({next:pt=>{_.enqueueAndForget(()=>d(f,Ne)),pt.fromCache&&"server"===F.source?Q.reject(new Qt(xt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(pt)},error:pt=>Q.reject(pt)}),Ne=new K(P,se,{includeMetadataChanges:!0,J_:!0});return Ih(f,Ne)}(yield Sf(i),i.asyncQueue,e,n,s)})),s.promise}function Km(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Lp=new Map;function Vp(i,e,n){if(!n)throw new Qt(xt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fy(i,e,n,s){if(!0===e&&!0===s)throw new Qt(xt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Zm(i){if(!wn.isDocumentKey(i))throw new Qt(xt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qm(i){if(wn.isDocumentKey(i))throw new Qt(xt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Bp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Nn()}function vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Qt(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(i);throw new Qt(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function $g(i,e){if(e<=0)throw new Qt(xt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class $u{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Qt(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qt(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Km(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Qt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Qt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Qt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $u({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qt(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qt(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $u(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new $l;switch(s.type){case"firstParty":return new Ku(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Qt(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Lp.get(n);s&&(Jt("ComponentProvider","Removing Datastore"),Lp.delete(n),s.terminate())}(this),Promise.resolve()}}function rv(i,e,n,s={}){var u;const f=(i=vi(i,$p))._getSettings(),_=`${e}:${n}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),s.mockUserToken){let P,F;if("string"==typeof s.mockUserToken)P=s.mockUserToken,F=Gn.MOCK_USER;else{P=(0,Pe.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const Q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Q)throw new Qt(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new Gn(Q)}i._authCredentials=new bo(new Fc(P,F))}}class Ds{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class ts{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ts(this.firestore,e,this._key)}}class au extends Ds{constructor(e,n,s){super(e,n,Gl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new wn(e))}withConverter(e){return new au(this.firestore,e,this._path)}}function py(i,e,...n){if(i=(0,Pe.m9)(i),Vp("collection","path",e),i instanceof $p){const s=ti.fromString(e,...n);return Qm(s),new au(i,null,s)}{if(!(i instanceof ts||i instanceof au))throw new Qt(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ti.fromString(e,...n));return Qm(s),new au(i.firestore,null,s)}}function Ug(i,e){if(i=vi(i,$p),Vp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qt(xt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ds(i,null,(s=e,new Go(ti.emptyPath(),s)));var s}function Rf(i,e,...n){if(i=(0,Pe.m9)(i),1===arguments.length&&(e=Us.newId()),Vp("doc","path",e),i instanceof $p){const s=ti.fromString(e,...n);return Zm(s),new ts(i,null,new wn(s))}{if(!(i instanceof ts||i instanceof au))throw new Qt(xt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ti.fromString(e,...n));return Zm(s),new ts(i.firestore,i instanceof au?i.converter:null,new wn(s))}}function iv(i,e){return i=(0,Pe.m9)(i),e=(0,Pe.m9)(e),(i instanceof ts||i instanceof au)&&(e instanceof ts||e instanceof au)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Pf(i,e){return i=(0,Pe.m9)(i),e=(0,Pe.m9)(e),i instanceof Ds&&e instanceof Ds&&i.firestore===e.firestore&&La(i._query,e._query)&&i.converter===e.converter}class VE{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new mh(this,"async_queue_retry"),this.iu=()=>{const n=Ml();n&&Jt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Ml();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Ml();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new To;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,l.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Ma(n))throw n;Jt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,ii("INTERNAL UNHANDLED ERROR: ",function(_){let P=_.message||"";return _.stack&&(P=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),P}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Sp.createAndSchedule(this,e,n,s,f=>this.au(f));return this.Xa.push(u),u}su(){this.eu&&Nn()}verifyOperationInProgress(){}uu(){var e=this;return(0,l.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Xm(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const u=n;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(i)}class ov{constructor(){this._progressObserver={},this._taskCompletionResolver=new To,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const sv=-1;class So extends $p{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new VE,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mf(this),this._firestoreClient.terminate()}}function av(i,e){const n="object"==typeof i?i:(0,V.getApp)(),s="string"==typeof i?i:e||"(default)",u=(0,V._getProvider)(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,Pe.P0)("firestore");f&&rv(u,...f)}return u}function qo(i){return i._firestoreClient||Mf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Mf(i){var e,n,s;const u=i._freezeSettings(),f=(F=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ta(i._databaseId,F,i._persistenceKey,(se=u).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,Km(se.experimentalLongPollingOptions),se.useFetchStreams));var F,se;i._firestoreClient=new ay(i._authCredentials,i._appCheckCredentials,i._queue,f),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function gy(i,e){uv(i=vi(i,So));const n=qo(i);if(n._uninitializedComponentsProvider)throw new Qt(xt.FAILED_PRECONDITION,"SDK cache is already specified.");ji("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new bf;return Jm(n,u,new Op(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function lv(i){uv(i=vi(i,So));const e=qo(i);if(e._uninitializedComponentsProvider)throw new Qt(xt.FAILED_PRECONDITION,"SDK cache is already specified.");ji("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new bf;return Jm(e,s,new Z_(s,n.cacheSizeBytes))}function Jm(i,e,n){const s=new To;return i.asyncQueue.enqueue((0,l.Z)(function*(){try{yield kp(i,n),yield Vm(i,e),s.resolve()}catch(u){const f=u;if(!Wa(f))throw f;ji("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function my(i){if(i._initialized&&!i._terminated)throw new Qt(xt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new To;return i._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(n=(0,l.Z)(function*(u){if(!ni.D())return Promise.resolve();const f=u+"main";yield ni.delete(f)}),function s(u){return n.apply(this,arguments)})(pm(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function _y(i){return function(n){const s=new To;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function j_(i,e){return Rm.apply(this,arguments)}(yield zm(n),s)})),s.promise}(qo(i=vi(i,So)))}function Up(i){return function qm(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Hm(i),n=yield X_(i);return e.setNetworkEnabled(!0),function(u){const f=vn(u);return f.C_.delete(0),gd(f)}(n)}))}(qo(i=vi(i,So)))}function vy(i){return function ly(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Hm(i),n=yield X_(i);return e.setNetworkEnabled(!1),(s=(0,l.Z)(function*(f){const _=vn(f);_.C_.add(0),yield vh(_),_.M_.set("Offline")}),function u(f){return s.apply(this,arguments)})(n);var s}))}(qo(i=vi(i,So)))}function yy(i,e){const n=qo(i=vi(i,So)),s=new ov;return function Ym(i,e,n,s){const u=function(_,P){let F;return F="string"==typeof _?ul().encode(_):_,se=function(se,Ne){if(se instanceof Uint8Array)return Q_(se,void 0);if(se instanceof ArrayBuffer)return Q_(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new iy(se,P);var se}(n,bc(e));i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function Lm(i,e,n){const s=vn(i);var u;(u=(0,l.Z)(function*(_,P,F){try{const Q=yield P.getMetadata();if(yield function(yn,Sn){const xn=vn(yn),Er=Oo(Sn.createTime);return xn.persistence.runTransaction("hasNewerBundle","readonly",Rr=>xn.Kr.getBundleMetadata(Rr,Sn.id)).then(Rr=>!!Rr&&Rr.createTime.compareTo(Er)>=0)}(_.localStore,Q))return yield P.close(),F._completeWith({taskState:"Success",documentsLoaded:(yn=Q).totalDocuments,bytesLoaded:yn.totalBytes,totalDocuments:yn.totalDocuments,totalBytes:yn.totalBytes}),Promise.resolve(new Set);F._updateProgress($t(Q));const se=new lt(Q,_.localStore,P.serializer);let Ne=yield P.Ma();for(;Ne;){const Mt=yield se.ea(Ne);Mt&&F._updateProgress(Mt),Ne=yield P.Ma()}const pt=yield se.complete();return yield Ed(_,pt.ra,void 0),yield function(yn,Sn){const xn=vn(yn);return xn.persistence.runTransaction("Save bundle","readwrite",Er=>xn.Kr.saveBundleMetadata(Er,Sn))}(_.localStore,Q),F._completeWith(pt.progress),Promise.resolve(pt.na)}catch(Q){return ji("SyncEngine",`Loading bundle failed with ${Q}`),F._failWith(Q),Promise.resolve(new Set)}var yn}),function f(_,P,F){return u.apply(this,arguments)})(s,e,n).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield zm(i),u,s)}))}(n,i._databaseId,e,s),s}function Ey(i,e){return function dy(i,e){return i.asyncQueue.enqueue((0,l.Z)(function*(){return function(s,u){const f=vn(s);return f.persistence.runTransaction("Get named query","readonly",_=>f.Kr.getNamedQuery(_,u))}(yield Af(i),e)}))}(qo(i=vi(i,So)),e).then(n=>n?new Ds(i,null,n.query):null)}function uv(i){if(i._initialized||i._terminated)throw new Qt(xt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Td(Mo.fromBase64String(e))}catch(n){throw new Qt(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Td(Mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Qt(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ah{constructor(e){this._methodName=e}}class Sh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Qt(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Qt(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yr(this._lat,e._lat)||yr(this._long,e._long)}}const Cy=/^__.*__$/;class Ty{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class dv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class jg{constructor(e,n,s,u,f,_){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.Pu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Au(e),u}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ba(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hv(this.Iu)&&Cy.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Dy{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||bc(e)}pu(e,n,s,u=!1){return new jg({Iu:e,methodName:n,gu:s,path:Hi.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(i){const e=i._freezeSettings(),n=bc(i._databaseId);return new Dy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Hp(i,e,n,s,u,f={}){const _=i.pu(f.merge||f.mergeFields?2:0,e,n,u);Ph("Data must be an object, but it was:",_,s);const P=vv(s,_);let F,Q;if(f.merge)F=new ss(_.fieldMask),Q=_.fieldTransforms;else if(f.mergeFields){const se=[];for(const Ne of f.mergeFields){const pt=hs(e,Ne,n);if(!_.contains(pt))throw new Qt(xt.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);Hg(se,pt)||se.push(pt)}F=new ss(se),Q=_.fieldTransforms.filter(Ne=>F.covers(Ne.field))}else F=null,Q=_.fieldTransforms;return new Ty(new Xo(P),F,Q)}class xf extends Ah{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function fv(i,e,n){return new jg({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends Ah{_toFieldTransform(e){return new Tu(e.path,new Sl)}isEqual(e){return e instanceof pv}}class gv extends Ah{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=fv(this,e,!0),s=this.yu.map(f=>Pc(f,n)),u=new sl(s);return new Tu(e.path,u)}isEqual(e){return this===e}}class mv extends Ah{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=fv(this,e,!0),s=this.yu.map(f=>Pc(f,n)),u=new Va(s);return new Tu(e.path,u)}isEqual(e){return this===e}}class UE extends Ah{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new Cu(e.serializer,nr(e.serializer,this.wu));return new Tu(e.path,n)}isEqual(e){return this===e}}function Of(i,e,n,s){const u=i.pu(1,e,n);Ph("Data must be an object, but it was:",u,s);const f=[],_=Xo.empty();Js(s,(F,Q)=>{const se=xh(e,F,n);Q=(0,Pe.m9)(Q);const Ne=u.Ru(se);if(Q instanceof xf)f.push(se);else{const pt=Pc(Q,Ne);null!=pt&&(f.push(se),_.set(se,pt))}});const P=new ss(f);return new dv(_,P,u.fieldTransforms)}function e_(i,e,n,s,u,f){const _=i.pu(1,e,n),P=[hs(e,s,n)],F=[u];if(f.length%2!=0)throw new Qt(xt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<f.length;pt+=2)P.push(hs(e,f[pt])),F.push(f[pt+1]);const Q=[],se=Xo.empty();for(let pt=P.length-1;pt>=0;--pt)if(!Hg(Q,P[pt])){const Mt=P[pt];let yn=F[pt];yn=(0,Pe.m9)(yn);const Sn=_.Ru(Mt);if(yn instanceof xf)Q.push(Mt);else{const xn=Pc(yn,Sn);null!=xn&&(Q.push(Mt),se.set(Mt,xn))}}const Ne=new ss(Q);return new dv(se,Ne,_.fieldTransforms)}function _v(i,e,n,s=!1){return Pc(n,i.pu(s?4:3,e))}function Pc(i,e){if(lu(i=(0,Pe.m9)(i)))return Ph("Unsupported field value:",e,i),vv(i,e);if(i instanceof Ah)return function(s,u){if(!hv(u.Iu))throw u.mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,u){const f=[];let _=0;for(const P of s){let F=Pc(P,u.Vu(_));null==F&&(F={nullValue:"NULL_VALUE"}),f.push(F),_++}return{arrayValue:{values:f}}}(i,e)}return function(s,u){if(null===(s=(0,Pe.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return nr(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=eo.fromDate(s);return{timestampValue:nd(u.serializer,f)}}if(s instanceof eo){const f=new eo(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nd(u.serializer,f)}}if(s instanceof Sh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Td)return{bytesValue:gc(u.serializer,s._byteString)};if(s instanceof ts){const f=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(f))throw u.mu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Au(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.mu(`Unsupported field value: ${Bp(s)}`)}(i,e)}function vv(i,e){const n={};return pa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(i,(s,u)=>{const f=Pc(u,e.Eu(s));null!=f&&(n[s]=f)}),{mapValue:{fields:n}}}function lu(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof eo||i instanceof Sh||i instanceof Td||i instanceof ts||i instanceof Ah)}function Ph(i,e,n){if(!lu(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Bp(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var u}function hs(i,e,n){if((e=(0,Pe.m9)(e))instanceof Rc)return e._internalPath;if("string"==typeof e)return xh(i,e);throw ba("Field path arguments must be of type string or ",i,!1,void 0,n)}const Mh=new RegExp("[~\\*/\\[\\]]");function xh(i,e,n){if(e.search(Mh)>=0)throw ba(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Rc(...e.split("."))._internalPath}catch{throw ba(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ba(i,e,n,s,u){const f=s&&!s.isEmpty(),_=void 0!==u;let P=`Function ${e}() called with invalid data`;n&&(P+=" (via `toFirestore()`)"),P+=". ";let F="";return(f||_)&&(F+=" (found",f&&(F+=` in field ${s}`),_&&(F+=` in document ${u}`),F+=")"),new Qt(xt.INVALID_ARGUMENT,P+i+F)}function Hg(i,e){return i.some(n=>n.isEqual(e))}class Uu{constructor(e,n,s,u,f){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Nf extends Uu{data(){return super.data()}}function Mc(i,e){return"string"==typeof e?xh(i,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}function Oh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Qt(xt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dd{}class ju extends Dd{}function kf(i,e,...n){let s=[];e instanceof Dd&&s.push(e),s=s.concat(n),function(f){const _=f.filter(F=>F instanceof Nh).length,P=f.filter(F=>F instanceof Hu).length;if(_>1||_>0&&P>0)throw new Qt(xt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Hu extends ju{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Hu(e,n,s)}_apply(e){const n=this._parse(e);return Py(e._query,n),new Ds(e.firestore,e.converter,Qc(e._query,n))}_parse(e){const n=Rh(e.firestore);return function(f,_,P,F,Q,se,Ne){let pt;if(Q.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Qt(xt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){Tv(Ne,se);const Mt=[];for(const yn of Ne)Mt.push(Ry(F,f,yn));pt={arrayValue:{values:Mt}}}else pt=Ry(F,f,Ne)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||Tv(Ne,se),pt=_v(P,"where",Ne,"in"===se||"not-in"===se);return $r.create(Q,se,pt)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ff(i,e,n){const s=e,u=Mc("where",i);return Hu._create(u,s,n)}class Nh extends Dd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,f){let _=u;const P=f.getFlattenedFilters();for(const F of P)Py(_,F),_=Qc(_,F)}(e._query,n),new Ds(e.firestore,e.converter,Qc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zg extends ju{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=function(u,f,_){if(null!==u.startAt)throw new Qt(xt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Qt(xt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new il(f,_)}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new Go(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function yv(i,e="asc"){const n=e,s=Mc("orderBy",i);return zg._create(s,n)}class zp extends ju{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new zp(e,n,s)}_apply(e){return new Ds(e.firestore,e.converter,yu(e._query,this._limit,this._limitType))}}function Ev(i){return $g("limit",i),zp._create("limit",i,"F")}function Iv(i){return $g("limitToLast",i),zp._create("limitToLast",i,"L")}class Wp extends ju{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Wp(e,n,s)}_apply(e){const n=Cv(e,this.type,this._docOrFields,this._inclusive);return new Ds(e.firestore,e.converter,(f=n,new Go((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}function t_(...i){return Wp._create("startAt",i,!0)}function Ay(...i){return Wp._create("startAfter",i,!1)}class n_ extends ju{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new n_(e,n,s)}_apply(e){const n=Cv(e,this.type,this._docOrFields,this._inclusive);return new Ds(e.firestore,e.converter,(f=n,new Go((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function jE(...i){return n_._create("endBefore",i,!1)}function Sy(...i){return n_._create("endAt",i,!0)}function Cv(i,e,n,s){if(n[0]=(0,Pe.m9)(n[0]),n[0]instanceof Uu)return function(f,_,P,F,Q){if(!F)throw new Qt(xt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const se=[];for(const Ne of ql(f))if(Ne.field.isKeyField())se.push(wl(_,F.key));else{const pt=F.data.field(Ne.field);if(el(pt))throw new Qt(xt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ne.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pt){const Mt=Ne.field.canonicalString();throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Mt}' (used as the orderBy) does not exist.`)}se.push(pt)}return new vs(se,Q)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const u=Rh(i.firestore);return function(_,P,F,Q,se,Ne){const pt=_.explicitOrderBy;if(se.length>pt.length)throw new Qt(xt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Mt=[];for(let yn=0;yn<se.length;yn++){const Sn=se[yn];if(pt[yn].field.isKeyField()){if("string"!=typeof Sn)throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof Sn}`);if(!kd(_)&&-1!==Sn.indexOf("/"))throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${Sn}' contains a slash.`);const xn=_.path.child(ti.fromString(Sn));if(!wn.isDocumentKey(xn))throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${xn}' is not because it contains an odd number of segments.`);const Er=new wn(xn);Mt.push(wl(P,Er))}else{const xn=_v(F,Q,Sn);Mt.push(xn)}}return new vs(Mt,Ne)}(i._query,i.firestore._databaseId,u,e,n,s)}}function Ry(i,e,n){if("string"==typeof(n=(0,Pe.m9)(n))){if(""===n)throw new Qt(xt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kd(e)&&-1!==n.indexOf("/"))throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ti.fromString(n));if(!wn.isDocumentKey(s))throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wl(i,new wn(s))}if(n instanceof ts)return wl(i,n._key);throw new Qt(xt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(n)}.`)}function Tv(i,e){if(!Array.isArray(i)||0===i.length)throw new Qt(xt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Py(i,e){const n=function(u,f){for(const _ of u)for(const P of _.getFlattenedFilters())if(f.indexOf(P.op)>=0)return P.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Qt(xt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r_{convertValue(e,n="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Nn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(u,f)=>{s[u]=this.convertValue(f,n)}),s}convertGeoPoint(e){return new Sh(Ki(e.latitude),Ki(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hs(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=ea(e);return new eo(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ti.fromString(e);Hn(Kf(s));const u=new Rs(s.get(1),s.get(3)),f=new wn(s.popFirst(5));return u.isEqual(n)||ii(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function Wg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class i_ extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Td(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,n)}}class wd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends Uu{constructor(e,n,s,u,f,_){super(e,n,s,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Mc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xc extends kh{data(e={}){return super.data(e)}}class Fh{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new wd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xc(this._firestore,this._userDataWriter,s.key,s,new wd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Qt(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new xc(u._firestore,u._userDataWriter,P.doc.key,P.doc,new wd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>f||3!==P.type).map(P=>{const F=new xc(u._firestore,u._userDataWriter,P.doc.key,P.doc,new wd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let Q=-1,se=-1;return 0!==P.type&&(Q=_.indexOf(P.doc.key),_=_.delete(P.doc.key)),1!==P.type&&(_=_.add(P.doc),se=_.indexOf(P.doc.key)),{type:xy(P.type),doc:F,oldIndex:Q,newIndex:se}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function Oy(i,e){return i instanceof kh&&e instanceof kh?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Fh&&e instanceof Fh&&i._firestore===e._firestore&&Pf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Ny(i){i=vi(i,ts);const e=vi(i.firestore,So);return J_(qo(e),i._key).then(n=>Qg(e,i,n))}class zu extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Td(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,n)}}function Kg(i){i=vi(i,ts);const e=vi(i.firestore,So),n=qo(e),s=new zu(e);return function uy(i,e){const n=new To;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(f,_,P){try{const F=yield function(se,Ne){const pt=vn(se);return pt.persistence.runTransaction("read document","readonly",Mt=>pt.localDocuments.getDocument(Mt,Ne))}(f,_);F.isFoundDocument()?P.resolve(F):F.isNoDocument()?P.resolve(null):P.reject(new Qt(xt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const Q=yd(F,`Failed to get document '${_} from cache`);P.reject(Q)}}),function u(f,_,P){return s.apply(this,arguments)})(yield Af(i),e,n);var s})),n.promise}(n,i._key).then(u=>new kh(e,s,i._key,u,new wd(null!==u&&u.hasLocalMutations,!0),i.converter))}function Zg(i){i=vi(i,ts);const e=vi(i.firestore,So);return J_(qo(e),i._key,{source:"server"}).then(n=>Qg(e,i,n))}function HE(i){i=vi(i,Ds);const e=vi(i.firestore,So),n=qo(e),s=new zu(e);return Oh(i._query),ev(n,i._query).then(u=>new Fh(e,s,i,u))}function ky(i){i=vi(i,Ds);const e=vi(i.firestore,So),n=qo(e),s=new zu(e);return function cy(i,e){const n=new To;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(f,_,P){try{const F=yield gf(f,_,!0),Q=new Wn(_,F.ls),se=Q.ca(F.documents),Ne=Q.applyChanges(se,!1);P.resolve(Ne.snapshot)}catch(F){const Q=yd(F,`Failed to execute query '${_} against cache`);P.reject(Q)}}),function u(f,_,P){return s.apply(this,arguments)})(yield Af(i),e,n);var s})),n.promise}(n,i._query).then(u=>new Fh(e,s,i,u))}function Fy(i){i=vi(i,Ds);const e=vi(i.firestore,So),n=qo(e),s=new zu(e);return ev(n,i._query,{source:"server"}).then(u=>new Fh(e,s,i,u))}function o_(i,e,n){i=vi(i,ts);const s=vi(i.firestore,So),u=Wg(i.converter,e,n);return Lh(s,[Hp(Rh(s),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Io.none())])}function Ly(i,e,n,...s){i=vi(i,ts);const u=vi(i.firestore,So),f=Rh(u);let _;return _="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Rc?e_(f,"updateDoc",i._key,e,n,s):Of(f,"updateDoc",i._key,e),Lh(u,[_.toMutation(i._key,Io.exists(!0))])}function bv(i){return Lh(vi(i.firestore,So),[new Ea(i._key,Io.none())])}function Vy(i,e){const n=vi(i.firestore,So),s=Rf(i),u=Wg(i.converter,e);return Lh(n,[Hp(Rh(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Io.exists(!1))]).then(()=>s)}function By(i,...e){var n,s,u;i=(0,Pe.m9)(i);let f={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||Xm(e[_])||(f=e[_],_++);const P={includeMetadataChanges:f.includeMetadataChanges};if(Xm(e[_])){const Ne=e[_];e[_]=null===(n=Ne.next)||void 0===n?void 0:n.bind(Ne),e[_+1]=null===(s=Ne.error)||void 0===s?void 0:s.bind(Ne),e[_+2]=null===(u=Ne.complete)||void 0===u?void 0:u.bind(Ne)}let F,Q,se;if(i instanceof ts)Q=vi(i.firestore,So),se=Gl(i._key.path),F={next:Ne=>{e[_]&&e[_](Qg(Q,i,Ne))},error:e[_+1],complete:e[_+2]};else{const Ne=vi(i,Ds);Q=vi(Ne.firestore,So),se=Ne._query;const pt=new zu(Q);F={next:Mt=>{e[_]&&e[_](new Fh(Q,pt,Ne,Mt))},error:e[_+1],complete:e[_+2]},Oh(i._query)}return function(pt,Mt,yn,Sn){const xn=new Np(Sn),Er=new K(Mt,xn,yn);return pt.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Ih(yield Sf(pt),Er)})),()=>{xn.Na(),pt.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return d(yield Sf(pt),Er)}))}}(qo(Q),se,P,F)}function Av(i,e){return function Bu(i,e){const n=new Np(e);return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Sf(i),f=n,vn(u).q_.add(f),void f.next();var u,f})),()=>{n.Na(),i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield Sf(i),f=n,void vn(u).q_.delete(f);var u,f}))}}(qo(i=vi(i,So)),Xm(e)?e:{next:e})}function Lh(i,e){return function(s,u){const f=new To;return s.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Df(i,e,n){return su.apply(this,arguments)}(yield zm(s),u,f)})),f.promise}(qo(i),e)}function Qg(i,e,n){const s=n.docs.get(e._key),u=new zu(i);return new kh(i,u,e._key,s,new wd(n.hasPendingWrites,n.fromCache),e.converter)}const c_={maxAttempts:5};class Xg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rh(e)}set(e,n,s){this._verifyNotCommitted();const u=Wu(e,this._firestore),f=Wg(u.converter,n,s),_=Hp(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,Io.none())),this}update(e,n,s,...u){this._verifyNotCommitted();const f=Wu(e,this._firestore);let _;return _="string"==typeof(n=(0,Pe.m9)(n))||n instanceof Rc?e_(this._dataReader,"WriteBatch.update",f._key,n,s,u):Of(this._dataReader,"WriteBatch.update",f._key,n),this._mutations.push(_.toMutation(f._key,Io.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wu(e,this._firestore);return this._mutations=this._mutations.concat(new Ea(n._key,Io.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qt(xt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wu(i,e){if((i=(0,Pe.m9)(i)).firestore!==e)throw new Qt(xt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Pv extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=Rh(n)}get(n){const s=Wu(n,this._firestore),u=new i_(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Nn();const _=f[0];if(_.isFoundDocument())return new Uu(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new Uu(this._firestore,u,s._key,null,s.converter);throw Nn()})}set(n,s,u){const f=Wu(n,this._firestore),_=Wg(f.converter,s,u),P=Hp(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,u);return this._transaction.set(f._key,P),this}update(n,s,u,...f){const _=Wu(n,this._firestore);let P;return P="string"==typeof(s=(0,Pe.m9)(s))||s instanceof Rc?e_(this._dataReader,"Transaction.update",_._key,s,u,f):Of(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,P),this}delete(n){const s=Wu(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wu(e,this._firestore),s=new zu(this._firestore);return super.get(e).then(u=>new kh(this._firestore,s,n._key,u._document,new wd(!1,!1),n.converter))}}function Wy(i,e,n){i=vi(i,So);const s=Object.assign(Object.assign({},c_),n);return function(f){if(f.maxAttempts<1)throw new Qt(xt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,_,P){const F=new To;return f.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const Q=yield function Wm(i){return jm(i).then(e=>e.datastore)}(f);new sy(f.asyncQueue,Q,P,_,F).run()})),F.promise}(qo(i),u=>e(new Pv(i,u)),s)}function Gy(){return new xf("deleteField")}function Mv(){return new pv("serverTimestamp")}function d_(...i){return new gv("arrayUnion",i)}function xv(...i){return new mv("arrayRemove",i)}function h_(i){return new UE("increment",i)}!function(e,n=!0){li=V.SDK_VERSION,(0,V._registerComponent)(new ee.wA("firestore",(s,{instanceIdentifier:u,options:f})=>{const _=s.getProvider("app").getImmediate(),P=new So(new Ul(s.getProvider("auth-internal")),new Sa(s.getProvider("app-check-internal")),function(Q,se){if(!Object.prototype.hasOwnProperty.apply(Q.options,["projectId"]))throw new Qt(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(Q.options.projectId,se)}(_,u),_);return f=Object.assign({useFetchStreams:n},f),P._setSettings(f),P},"PUBLIC").setMultipleInstances(!0)),(0,V.registerVersion)(Br,"4.3.2",e),(0,V.registerVersion)(Br,"4.3.2","esm2017")}()},9058:(cn,ft,N)=>{"use strict";N.d(ft,{BH:()=>Ve,DV:()=>Rn,G6:()=>fe,GJ:()=>Ut,L:()=>ot,LL:()=>mt,P0:()=>vt,Pz:()=>Xe,Sg:()=>Oe,UG:()=>je,UI:()=>jn,US:()=>Ae,Wl:()=>jt,Yr:()=>rn,ZB:()=>Be,ZR:()=>ht,aH:()=>Se,b$:()=>dt,cI:()=>Wt,dS:()=>Si,eu:()=>ae,g5:()=>ee,gK:()=>Jn,gQ:()=>Vn,h$:()=>Me,hl:()=>ge,hu:()=>V,jU:()=>Le,m9:()=>Gi,ne:()=>fr,p$:()=>me,pd:()=>Kn,q4:()=>rt,r3:()=>Zt,ru:()=>st,tV:()=>ie,uI:()=>te,ug:()=>Kr,vZ:()=>mn,w1:()=>Yt,w9:()=>bt,xO:()=>Hr,xb:()=>Pn,z$:()=>Ce,zd:()=>Dn});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(it,le){if(!it)throw ee(le)},ee=function(it){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+it)},de=function(it){const le=[];let j=0;for(let Z=0;Z<it.length;Z++){let $=it.charCodeAt(Z);$<128?le[j++]=$:$<2048?(le[j++]=$>>6|192,le[j++]=63&$|128):55296==(64512&$)&&Z+1<it.length&&56320==(64512&it.charCodeAt(Z+1))?($=65536+((1023&$)<<10)+(1023&it.charCodeAt(++Z)),le[j++]=$>>18|240,le[j++]=$>>12&63|128,le[j++]=$>>6&63|128,le[j++]=63&$|128):(le[j++]=$>>12|224,le[j++]=$>>6&63|128,le[j++]=63&$|128)}return le},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(it,le){if(!Array.isArray(it))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let $=0;$<it.length;$+=3){const Ee=it[$],et=$+1<it.length,Ct=et?it[$+1]:0,sn=$+2<it.length,Kt=sn?it[$+2]:0;let ar=(15&Ct)<<2|Kt>>6,nt=63&Kt;sn||(nt=64,et||(ar=64)),Z.push(j[Ee>>2],j[(3&Ee)<<4|Ct>>4],j[ar],j[nt])}return Z.join("")},encodeString(it,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(it):this.encodeByteArray(de(it),le)},decodeString(it,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(it):function(it){const le=[];let j=0,Z=0;for(;j<it.length;){const $=it[j++];if($<128)le[Z++]=String.fromCharCode($);else if($>191&&$<224){const Ee=it[j++];le[Z++]=String.fromCharCode((31&$)<<6|63&Ee)}else if($>239&&$<365){const sn=((7&$)<<18|(63&it[j++])<<12|(63&it[j++])<<6|63&it[j++])-65536;le[Z++]=String.fromCharCode(55296+(sn>>10)),le[Z++]=String.fromCharCode(56320+(1023&sn))}else{const Ee=it[j++],et=it[j++];le[Z++]=String.fromCharCode((15&$)<<12|(63&Ee)<<6|63&et)}}return le.join("")}(this.decodeStringToByteArray(it,le))},decodeStringToByteArray(it,le){this.init_();const j=le?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let $=0;$<it.length;){const Ee=j[it.charAt($++)],Ct=$<it.length?j[it.charAt($)]:0;++$;const Kt=$<it.length?j[it.charAt($)]:64;++$;const Fn=$<it.length?j[it.charAt($)]:64;if(++$,null==Ee||null==Ct||null==Kt||null==Fn)throw new Te;Z.push(Ee<<2|Ct>>4),64!==Kt&&(Z.push(Ct<<4&240|Kt>>2),64!==Fn&&Z.push(Kt<<6&192|Fn))}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let it=0;it<this.ENCODED_VALS.length;it++)this.byteToCharMap_[it]=this.ENCODED_VALS.charAt(it),this.charToByteMap_[this.byteToCharMap_[it]]=it,this.byteToCharMapWebSafe_[it]=this.ENCODED_VALS_WEBSAFE.charAt(it),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[it]]=it,it>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(it)]=it,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(it)]=it)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(it){const le=de(it);return Ae.encodeByteArray(le,!0)},ot=function(it){return Me(it).replace(/\./g,"")},ie=function(it){try{return Ae.decodeString(it,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function me(it){return Be(void 0,it)}function Be(it,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===it&&(it={});break;case Array:it=[];break;default:return le}for(const j in le)!le.hasOwnProperty(j)||!Fe(j)||(it[j]=Be(it[j],le[j]));return it}function Fe(it){return"__proto__"!==it}const ze=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const it=process.env.__FIREBASE_DEFAULTS__;return it?JSON.parse(it):void 0})()||(()=>{if(typeof document>"u")return;let it;try{it=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=it&&ie(it[1]);return le&&JSON.parse(le)})()}catch(it){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${it}`)}},rt=it=>{var le,j;return null===(j=null===(le=ze())||void 0===le?void 0:le.emulatorHosts)||void 0===j?void 0:j[it]},vt=it=>{const le=rt(it);if(!le)return;const j=le.lastIndexOf(":");if(j<=0||j+1===le.length)throw new Error(`Invalid host ${le} with no separate hostname and port!`);const Z=parseInt(le.substring(j+1),10);return"["===le[0]?[le.substring(1,j-1),Z]:[le.substring(0,j),Z]},Se=()=>{var it;return null===(it=ze())||void 0===it?void 0:it.config},Xe=it=>{var le;return null===(le=ze())||void 0===le?void 0:le[`_${it}`]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,j)=>{this.resolve=le,this.reject=j})}wrapCallback(le){return(j,Z)=>{j?this.reject(j):this.resolve(Z),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(j):le(j,Z))}}}function Oe(it,le){if(it.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Z=le||"demo-project",$=it.iat||0,Ee=it.sub||it.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${Z}`,aud:Z,iat:$,exp:$+3600,auth_time:$,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},it);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(et)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function je(){var it;const le=null===(it=ze())||void 0===it?void 0:it.forceEnvironment;if("node"===le)return!0;if("browser"===le)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function st(){const it="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof it&&void 0!==it.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yt(){const it=Ce();return it.indexOf("MSIE ")>=0||it.indexOf("Trident/")>=0}function rn(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function fe(){return!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){try{return"object"==typeof indexedDB}catch{return!1}}function ae(){return new Promise((it,le)=>{try{let j=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(Z);$.onsuccess=()=>{$.result.close(),j||self.indexedDB.deleteDatabase(Z),it(!0)},$.onupgradeneeded=()=>{j=!1},$.onerror=()=>{var Ee;le((null===(Ee=$.error)||void 0===Ee?void 0:Ee.message)||"")}}catch(j){le(j)}})}class ht extends Error{constructor(le,j,Z){super(j),this.code=le,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(le,j,Z){this.service=le,this.serviceName=j,this.errors=Z}create(le,...j){const Z=j[0]||{},$=`${this.service}/${le}`,Ee=this.errors[le],et=Ee?function kt(it,le){return it.replace(St,(j,Z)=>{const $=le[Z];return null!=$?String($):`<${Z}?>`})}(Ee,Z):"Error";return new ht($,`${this.serviceName}: ${et} (${$}).`,Z)}}const St=/\{\$([^}]+)}/g;function Wt(it){return JSON.parse(it)}function jt(it){return JSON.stringify(it)}const An=function(it){let le={},j={},Z={},$="";try{const Ee=it.split(".");le=Wt(ie(Ee[0])||""),j=Wt(ie(Ee[1])||""),$=Ee[2],Z=j.d||{},delete j.d}catch{}return{header:le,claims:j,data:Z,signature:$}},bt=function(it){const j=An(it).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},Ut=function(it){const le=An(it).claims;return"object"==typeof le&&!0===le.admin};function Zt(it,le){return Object.prototype.hasOwnProperty.call(it,le)}function Rn(it,le){if(Object.prototype.hasOwnProperty.call(it,le))return it[le]}function Pn(it){for(const le in it)if(Object.prototype.hasOwnProperty.call(it,le))return!1;return!0}function jn(it,le,j){const Z={};for(const $ in it)Object.prototype.hasOwnProperty.call(it,$)&&(Z[$]=le.call(j,it[$],$,it));return Z}function mn(it,le){if(it===le)return!0;const j=Object.keys(it),Z=Object.keys(le);for(const $ of j){if(!Z.includes($))return!1;const Ee=it[$],et=le[$];if(Mn(Ee)&&Mn(et)){if(!mn(Ee,et))return!1}else if(Ee!==et)return!1}for(const $ of Z)if(!j.includes($))return!1;return!0}function Mn(it){return null!==it&&"object"==typeof it}function Hr(it){const le=[];for(const[j,Z]of Object.entries(it))Array.isArray(Z)?Z.forEach($=>{le.push(encodeURIComponent(j)+"="+encodeURIComponent($))}):le.push(encodeURIComponent(j)+"="+encodeURIComponent(Z));return le.length?"&"+le.join("&"):""}function Dn(it){const le={};return it.replace(/^\?/,"").split("&").forEach(Z=>{if(Z){const[$,Ee]=Z.split("=");le[decodeURIComponent($)]=decodeURIComponent(Ee)}}),le}function Kn(it){const le=it.indexOf("?");if(!le)return"";const j=it.indexOf("#",le);return it.substring(le,j>0?j:void 0)}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let le=1;le<this.blockSize;++le)this.pad_[le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(le,j){j||(j=0);const Z=this.W_;if("string"==typeof le)for(let Fn=0;Fn<16;Fn++)Z[Fn]=le.charCodeAt(j)<<24|le.charCodeAt(j+1)<<16|le.charCodeAt(j+2)<<8|le.charCodeAt(j+3),j+=4;else for(let Fn=0;Fn<16;Fn++)Z[Fn]=le[j]<<24|le[j+1]<<16|le[j+2]<<8|le[j+3],j+=4;for(let Fn=16;Fn<80;Fn++){const ar=Z[Fn-3]^Z[Fn-8]^Z[Fn-14]^Z[Fn-16];Z[Fn]=4294967295&(ar<<1|ar>>>31)}let Kt,Bn,$=this.chain_[0],Ee=this.chain_[1],et=this.chain_[2],Ct=this.chain_[3],sn=this.chain_[4];for(let Fn=0;Fn<80;Fn++){Fn<40?Fn<20?(Kt=Ct^Ee&(et^Ct),Bn=1518500249):(Kt=Ee^et^Ct,Bn=1859775393):Fn<60?(Kt=Ee&et|Ct&(Ee|et),Bn=2400959708):(Kt=Ee^et^Ct,Bn=3395469782);const ar=($<<5|$>>>27)+Kt+sn+Bn+Z[Fn]&4294967295;sn=Ct,Ct=et,et=4294967295&(Ee<<30|Ee>>>2),Ee=$,$=ar}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Ee&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+sn&4294967295}update(le,j){if(null==le)return;void 0===j&&(j=le.length);const Z=j-this.blockSize;let $=0;const Ee=this.buf_;let et=this.inbuf_;for(;$<j;){if(0===et)for(;$<=Z;)this.compress_(le,$),$+=this.blockSize;if("string"==typeof le){for(;$<j;)if(Ee[et]=le.charCodeAt($),++et,++$,et===this.blockSize){this.compress_(Ee),et=0;break}}else for(;$<j;)if(Ee[et]=le[$],++et,++$,et===this.blockSize){this.compress_(Ee),et=0;break}}this.inbuf_=et,this.total_+=j}digest(){const le=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&j,j/=256;this.compress_(this.buf_);let Z=0;for(let $=0;$<5;$++)for(let Ee=24;Ee>=0;Ee-=8)le[Z]=this.chain_[$]>>Ee&255,++Z;return le}}function fr(it,le){const j=new Pr(it,le);return j.subscribe.bind(j)}class Pr{constructor(le,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{le(this)}).catch(Z=>{this.error(Z)})}next(le){this.forEachObserver(j=>{j.next(le)})}error(le){this.forEachObserver(j=>{j.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,j,Z){let $;if(void 0===le&&void 0===j&&void 0===Z)throw new Error("Missing Observer.");$=function Cn(it,le){if("object"!=typeof it||null===it)return!1;for(const j of le)if(j in it&&"function"==typeof it[j])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:j,complete:Z},void 0===$.next&&($.next=mr),void 0===$.error&&($.error=mr),void 0===$.complete&&($.complete=mr);const Ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ee}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,le)}sendOne(le,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{j(this.observers[le])}catch(Z){typeof console<"u"&&console.error&&console.error(Z)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mr(){}function Jn(it,le){return`${it} failed: ${le} argument `}const Si=function(it){const le=[];let j=0;for(let Z=0;Z<it.length;Z++){let $=it.charCodeAt(Z);if($>=55296&&$<=56319){const Ee=$-55296;Z++,V(Z<it.length,"Surrogate pair missing trail surrogate."),$=65536+(Ee<<10)+(it.charCodeAt(Z)-56320)}$<128?le[j++]=$:$<2048?(le[j++]=$>>6|192,le[j++]=63&$|128):$<65536?(le[j++]=$>>12|224,le[j++]=$>>6&63|128,le[j++]=63&$|128):(le[j++]=$>>18|240,le[j++]=$>>12&63|128,le[j++]=$>>6&63|128,le[j++]=63&$|128)}return le},Kr=function(it){let le=0;for(let j=0;j<it.length;j++){const Z=it.charCodeAt(j);Z<128?le++:Z<2048?le+=2:Z>=55296&&Z<=56319?(le+=4,j++):le+=3}return le};function Gi(it){return it&&it._delegate?it._delegate:it}},3630:(cn,ft,N)=>{"use strict";N.d(ft,{c:()=>ee,r:()=>me});const ee=(Ce,te)=>{Ce.componentOnReady?Ce.componentOnReady().then(je=>te(je)):me(()=>te(Ce))},me=Ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):setTimeout(Ce)},191:(cn,ft,N)=>{"use strict";N.d(ft,{L:()=>l,a:()=>V,b:()=>ee,c:()=>de,d:()=>Pe,g:()=>Ce});const l="ionViewWillEnter",V="ionViewDidEnter",ee="ionViewWillLeave",de="ionViewDidLeave",Pe="ionViewWillUnload",Ce=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},6410:(cn,ft,N)=>{"use strict";N.d(ft,{c:()=>Ze});var l=N(6225),V=N(839);let ee;const Pe=Qe=>Qe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ae=Qe=>(void 0===ee&&(ee=void 0===Qe.style.animationName&&void 0!==Qe.style.webkitAnimationName?"-webkit-":""),ee),Te=(Qe,ze,rt)=>{const vt=ze.startsWith("animation")?Ae(Qe):"";Qe.style.setProperty(vt+ze,rt)},Me=(Qe,ze)=>{const rt=ze.startsWith("animation")?Ae(Qe):"";Qe.style.removeProperty(rt+ze)},me=[],Ke=(Qe=[],ze)=>{if(void 0!==ze){const rt=Array.isArray(ze)?ze:[ze];return[...Qe,...rt]}return Qe},Ze=Qe=>{let ze,rt,vt,Se,Xe,Ve,Le,ge,ae,$e,De,St,Wt,Oe=[],Ce=[],te=[],je=!1,st={},dt=[],Et=[],Yt={},ln=0,rn=!1,fe=!1,ht=!0,mt=!1,kt=!0,jt=!1;const An=Qe,Pt=[],wt=[],bt=[],Ut=[],Zt=[],Rn=[],Pn=[],jn=[],mn=[],Mn=[],Xn=[],Hr="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Dn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Hr,Vn=()=>Xn,mr=(G,re)=>{const Ue=re.findIndex(ut=>ut.c===G);Ue>-1&&re.splice(Ue,1)},Jn=(G,re)=>((null!=re&&re.oneTimeCallback?wt:Pt).push({c:G,o:re}),Wt),On=()=>{if(Dn)Xn.forEach(G=>{G.cancel()}),Xn.length=0;else{const G=Ut.slice();(0,V.r)(()=>{G.forEach(re=>{Me(re,"animation-name"),Me(re,"animation-duration"),Me(re,"animation-timing-function"),Me(re,"animation-iteration-count"),Me(re,"animation-delay"),Me(re,"animation-play-state"),Me(re,"animation-fill-mode"),Me(re,"animation-direction")})})}},gr=()=>{Rn.forEach(G=>{null!=G&&G.parentNode&&G.parentNode.removeChild(G)}),Rn.length=0},le=()=>void 0!==Xe?Xe:Le?Le.getFill():"both",j=()=>void 0!==ae?ae:void 0!==Ve?Ve:Le?Le.getDirection():"normal",Z=()=>rn?"linear":void 0!==vt?vt:Le?Le.getEasing():"linear",$=()=>fe?0:void 0!==$e?$e:void 0!==rt?rt:Le?Le.getDuration():0,Ee=()=>void 0!==Se?Se:Le?Le.getIterations():1,et=()=>void 0!==De?De:void 0!==ze?ze:Le?Le.getDelay():0,hn=()=>{0!==ln&&(ln--,0===ln&&((()=>{yi(),mn.forEach(At=>At()),Mn.forEach(At=>At());const G=ht?1:0,re=dt,Ue=Et,ut=Yt;Ut.forEach(At=>{const gt=At.classList;re.forEach(Xt=>gt.add(Xt)),Ue.forEach(Xt=>gt.remove(Xt));for(const Xt in ut)ut.hasOwnProperty(Xt)&&Te(At,Xt,ut[Xt])}),Pt.forEach(At=>At.c(G,Wt)),wt.forEach(At=>At.c(G,Wt)),wt.length=0,kt=!0,ht&&(mt=!0),ht=!0})(),Le&&Le.animationFinish()))},En=(G=!0)=>{gr();const re=(Qe=>(Qe.forEach(ze=>{for(const rt in ze)if(ze.hasOwnProperty(rt)){const vt=ze[rt];if("easing"===rt)ze["animation-timing-function"]=vt,delete ze[rt];else{const Se=Pe(rt);Se!==rt&&(ze[Se]=vt,delete ze[rt])}}}),Qe))(Oe);Ut.forEach(Ue=>{if(re.length>0){const ut=((Qe=[])=>Qe.map(ze=>{const rt=ze.offset,vt=[];for(const Se in ze)ze.hasOwnProperty(Se)&&"offset"!==Se&&vt.push(`${Se}: ${ze[Se]};`);return`${100*rt}% { ${vt.join(" ")} }`}).join(" "))(re);St=void 0!==Qe?Qe:(Qe=>{let ze=me.indexOf(Qe);return ze<0&&(ze=me.push(Qe)-1),`ion-animation-${ze}`})(ut);const At=((Qe,ze,rt)=>{var vt;const Se=(Qe=>{const ze=void 0!==Qe.getRootNode?Qe.getRootNode():Qe;return ze.head||ze})(rt),Xe=Ae(rt),Ve=Se.querySelector("#"+Qe);if(Ve)return Ve;const Oe=(null!==(vt=rt.ownerDocument)&&void 0!==vt?vt:document).createElement("style");return Oe.id=Qe,Oe.textContent=`@${Xe}keyframes ${Qe} { ${ze} } @${Xe}keyframes ${Qe}-alt { ${ze} }`,Se.appendChild(Oe),Oe})(St,ut,Ue);Rn.push(At),Te(Ue,"animation-duration",`${$()}ms`),Te(Ue,"animation-timing-function",Z()),Te(Ue,"animation-delay",`${et()}ms`),Te(Ue,"animation-fill-mode",le()),Te(Ue,"animation-direction",j());const gt=Ee()===1/0?"infinite":Ee().toString();Te(Ue,"animation-iteration-count",gt),Te(Ue,"animation-play-state","paused"),G&&Te(Ue,"animation-name",`${At.id}-alt`),(0,V.r)(()=>{Te(Ue,"animation-name",At.id||null)})}})},_r=(G=!0)=>{(()=>{Pn.forEach(ut=>ut()),jn.forEach(ut=>ut());const G=Ce,re=te,Ue=st;Ut.forEach(ut=>{const At=ut.classList;G.forEach(gt=>At.add(gt)),re.forEach(gt=>At.remove(gt));for(const gt in Ue)Ue.hasOwnProperty(gt)&&Te(ut,gt,Ue[gt])})})(),Oe.length>0&&(Dn?(Ut.forEach(G=>{const re=G.animate(Oe,{id:An,delay:et(),duration:$(),easing:Z(),iterations:Ee(),fill:le(),direction:j()});re.pause(),Xn.push(re)}),Xn.length>0&&(Xn[0].onfinish=()=>{hn()})):En(G)),je=!0},ir=G=>{if(G=Math.min(Math.max(G,0),.9999),Dn)Xn.forEach(re=>{re.currentTime=re.effect.getComputedTiming().delay+$()*G,re.pause()});else{const re=`-${$()*G}ms`;Ut.forEach(Ue=>{Oe.length>0&&(Te(Ue,"animation-delay",re),Te(Ue,"animation-play-state","paused"))})}},Or=G=>{Xn.forEach(re=>{re.effect.updateTiming({delay:et(),duration:$(),easing:Z(),iterations:Ee(),fill:le(),direction:j()})}),void 0!==G&&ir(G)},mo=(G=!0,re)=>{(0,V.r)(()=>{Ut.forEach(Ue=>{Te(Ue,"animation-name",St||null),Te(Ue,"animation-duration",`${$()}ms`),Te(Ue,"animation-timing-function",Z()),Te(Ue,"animation-delay",void 0!==re?`-${re*$()}ms`:`${et()}ms`),Te(Ue,"animation-fill-mode",le()||null),Te(Ue,"animation-direction",j()||null);const ut=Ee()===1/0?"infinite":Ee().toString();Te(Ue,"animation-iteration-count",ut),G&&Te(Ue,"animation-name",`${St}-alt`),(0,V.r)(()=>{Te(Ue,"animation-name",St||null)})})})},lr=(G=!1,re=!0,Ue)=>(G&&Zt.forEach(ut=>{ut.update(G,re,Ue)}),Dn?Or(Ue):mo(re,Ue),Wt),Ln=()=>{je&&(Dn?Xn.forEach(G=>{G.pause()}):Ut.forEach(G=>{Te(G,"animation-play-state","paused")}),jt=!0)},Pi=()=>{ge=void 0,hn()},yi=()=>{ge&&clearTimeout(ge)},Fi=G=>new Promise(re=>{null!=G&&G.sync&&(fe=!0,Jn(()=>fe=!1,{oneTimeCallback:!0})),je||_r(),mt&&(Dn?(ir(0),Or()):mo(),mt=!1),kt&&(ln=Zt.length+1,kt=!1);const Ue=()=>{mr(ut,wt),re()},ut=()=>{mr(Ue,bt),re()};Jn(ut,{oneTimeCallback:!0}),((G,re)=>{bt.push({c:G,o:{oneTimeCallback:!0}})})(Ue),Zt.forEach(At=>{At.play()}),Dn?(Xn.forEach(G=>{G.play()}),(0===Oe.length||0===Ut.length)&&hn()):(()=>{if(yi(),(0,V.r)(()=>{Ut.forEach(G=>{Oe.length>0&&Te(G,"animation-play-state","running")})}),0===Oe.length||0===Ut.length)hn();else{const G=et()||0,re=$()||0,Ue=Ee()||1;isFinite(Ue)&&(ge=setTimeout(Pi,G+re*Ue+100)),((Qe,ze)=>{let rt;const vt={passive:!0},Xe=Ve=>{Qe===Ve.target&&(rt&&rt(),yi(),(0,V.r)(()=>{Ut.forEach(G=>{Me(G,"animation-duration"),Me(G,"animation-delay"),Me(G,"animation-play-state")}),(0,V.r)(hn)}))};Qe&&(Qe.addEventListener("webkitAnimationEnd",Xe,vt),Qe.addEventListener("animationend",Xe,vt),rt=()=>{Qe.removeEventListener("webkitAnimationEnd",Xe,vt),Qe.removeEventListener("animationend",Xe,vt)})})(Ut[0])}})(),jt=!1}),wo=(G,re)=>{const Ue=Oe[0];return void 0===Ue||void 0!==Ue.offset&&0!==Ue.offset?Oe=[{offset:0,[G]:re},...Oe]:Ue[G]=re,Wt};return Wt={parentAnimation:Le,elements:Ut,childAnimations:Zt,id:An,animationFinish:hn,from:wo,to:(G,re)=>{const Ue=Oe[Oe.length-1];return void 0===Ue||void 0!==Ue.offset&&1!==Ue.offset?Oe=[...Oe,{offset:1,[G]:re}]:Ue[G]=re,Wt},fromTo:(G,re,Ue)=>wo(G,re).to(G,Ue),parent:G=>(Le=G,Wt),play:Fi,pause:()=>(Zt.forEach(G=>{G.pause()}),Ln(),Wt),stop:()=>{Zt.forEach(G=>{G.stop()}),je&&(On(),je=!1),rn=!1,fe=!1,kt=!0,ae=void 0,$e=void 0,De=void 0,ln=0,mt=!1,ht=!0,jt=!1,bt.forEach(G=>G.c(0,Wt)),bt.length=0},destroy:G=>(Zt.forEach(re=>{re.destroy(G)}),(G=>{On(),G&&gr()})(G),Ut.length=0,Zt.length=0,Oe.length=0,Pt.length=0,wt.length=0,je=!1,kt=!0,Wt),keyframes:G=>{const re=Oe!==G;return Oe=G,re&&(G=>{Dn?Vn().forEach(re=>{const Ue=re.effect;if(Ue.setKeyframes)Ue.setKeyframes(G);else{const ut=new KeyframeEffect(Ue.target,G,Ue.getTiming());re.effect=ut}}):En()})(Oe),Wt},addAnimation:G=>{if(null!=G)if(Array.isArray(G))for(const re of G)re.parent(Wt),Zt.push(re);else G.parent(Wt),Zt.push(G);return Wt},addElement:G=>{if(null!=G)if(1===G.nodeType)Ut.push(G);else if(G.length>=0)for(let re=0;re<G.length;re++)Ut.push(G[re]);else console.error("Invalid addElement value");return Wt},update:lr,fill:G=>(Xe=G,lr(!0),Wt),direction:G=>(Ve=G,lr(!0),Wt),iterations:G=>(Se=G,lr(!0),Wt),duration:G=>(!Dn&&0===G&&(G=1),rt=G,lr(!0),Wt),easing:G=>(vt=G,lr(!0),Wt),delay:G=>(ze=G,lr(!0),Wt),getWebAnimations:Vn,getKeyframes:()=>Oe,getFill:le,getDirection:j,getDelay:et,getIterations:Ee,getEasing:Z,getDuration:$,afterAddRead:G=>(mn.push(G),Wt),afterAddWrite:G=>(Mn.push(G),Wt),afterClearStyles:(G=[])=>{for(const re of G)Yt[re]="";return Wt},afterStyles:(G={})=>(Yt=G,Wt),afterRemoveClass:G=>(Et=Ke(Et,G),Wt),afterAddClass:G=>(dt=Ke(dt,G),Wt),beforeAddRead:G=>(Pn.push(G),Wt),beforeAddWrite:G=>(jn.push(G),Wt),beforeClearStyles:(G=[])=>{for(const re of G)st[re]="";return Wt},beforeStyles:(G={})=>(st=G,Wt),beforeRemoveClass:G=>(te=Ke(te,G),Wt),beforeAddClass:G=>(Ce=Ke(Ce,G),Wt),onFinish:Jn,isRunning:()=>0!==ln&&!jt,progressStart:(G=!1,re)=>(Zt.forEach(Ue=>{Ue.progressStart(G,re)}),Ln(),rn=G,je||_r(),lr(!1,!0,re),Wt),progressStep:G=>(Zt.forEach(re=>{re.progressStep(G)}),ir(G),Wt),progressEnd:(G,re,Ue)=>(rn=!1,Zt.forEach(ut=>{ut.progressEnd(G,re,Ue)}),void 0!==Ue&&($e=Ue),mt=!1,ht=!0,0===G?(ae="reverse"===j()?"normal":"reverse","reverse"===ae&&(ht=!1),Dn?(lr(),ir(1-re)):(De=(1-re)*$()*-1,lr(!1,!1))):1===G&&(Dn?(lr(),ir(re)):(De=re*$()*-1,lr(!1,!1))),void 0!==G&&(Jn(()=>{$e=void 0,ae=void 0,De=void 0},{oneTimeCallback:!0}),Le||Fi()),Wt)}}},3365:(cn,ft,N)=>{"use strict";N.d(ft,{E:()=>ie,a:()=>l,s:()=>Me});const l=me=>{try{if(me instanceof Te)return me.value;if(!de()||"string"!=typeof me||""===me)return me;if(me.includes("onload="))return"";const Be=document.createDocumentFragment(),Fe=document.createElement("div");Be.appendChild(Fe),Fe.innerHTML=me,Ae.forEach(Qe=>{const ze=Be.querySelectorAll(Qe);for(let rt=ze.length-1;rt>=0;rt--){const vt=ze[rt];vt.parentNode?vt.parentNode.removeChild(vt):Be.removeChild(vt);const Se=ee(vt);for(let Xe=0;Xe<Se.length;Xe++)V(Se[Xe])}});const He=ee(Be);for(let Qe=0;Qe<He.length;Qe++)V(He[Qe]);const Ke=document.createElement("div");Ke.appendChild(Be);const Ze=Ke.querySelector("div");return null!==Ze?Ze.innerHTML:Ke.innerHTML}catch(Be){return console.error(Be),""}},V=me=>{if(me.nodeType&&1!==me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(me.attributes instanceof NamedNodeMap))return void me.remove();for(let Fe=me.attributes.length-1;Fe>=0;Fe--){const He=me.attributes.item(Fe),Ke=He.name;if(!Pe.includes(Ke.toLowerCase())){me.removeAttribute(Ke);continue}const Ze=He.value,Qe=me[Ke];(null!=Ze&&Ze.toLowerCase().includes("javascript:")||null!=Qe&&Qe.toLowerCase().includes("javascript:"))&&me.removeAttribute(Ke)}const Be=ee(me);for(let Fe=0;Fe<Be.length;Fe++)V(Be[Fe])},ee=me=>null!=me.children?me.children:me.childNodes,de=()=>{var me;const Be=window,Fe=null===(me=null==Be?void 0:Be.Ionic)||void 0===me?void 0:me.config;return!Fe||(Fe.get?Fe.get("sanitizerEnabled",!0):!0===Fe.sanitizerEnabled||void 0===Fe.sanitizerEnabled)},Pe=["class","id","href","src","name","slot"],Ae=["script","style","iframe","meta","link","object","embed"];class Te{constructor(Be){this.value=Be}}const Me=me=>{const Be=window,Fe=Be.Ionic;if(!Fe||!Fe.config||"Object"===Fe.config.constructor.name)return Be.Ionic=Be.Ionic||{},Be.Ionic.config=Object.assign(Object.assign({},Be.Ionic.config),me),Be.Ionic.config},ie=!1},6559:(cn,ft,N)=>{"use strict";N.d(ft,{C:()=>Pe,a:()=>ee,d:()=>de});var l=N(5861),V=N(839);const ee=function(){var Ae=(0,l.Z)(function*(Te,Me,ot,ie,me,Be){var Fe;if(Te)return Te.attachViewToDom(Me,ot,me,ie);if(!(Be||"string"==typeof ot||ot instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof ot?null===(Fe=Me.ownerDocument)||void 0===Fe?void 0:Fe.createElement(ot):ot;return ie&&ie.forEach(Ke=>He.classList.add(Ke)),me&&Object.assign(He,me),Me.appendChild(He),yield new Promise(Ke=>(0,V.c)(He,Ke)),He});return function(Me,ot,ie,me,Be,Fe){return Ae.apply(this,arguments)}}(),de=(Ae,Te)=>{if(Te){if(Ae)return Ae.removeViewFromDom(Te.parentElement,Te);Te.remove()}return Promise.resolve()},Pe=()=>{let Ae,Te;return{attachViewToDom:function(){var ie=(0,l.Z)(function*(me,Be,Fe={},He=[]){var Ke,Ze;let Qe;if(Ae=me,Be){const rt="string"==typeof Be?null===(Ke=Ae.ownerDocument)||void 0===Ke?void 0:Ke.createElement(Be):Be;He.forEach(vt=>rt.classList.add(vt)),Object.assign(rt,Fe),Ae.appendChild(rt),Qe=rt,yield new Promise(vt=>(0,V.c)(rt,vt))}else if(Ae.children.length>0&&("ION-MODAL"===Ae.tagName||"ION-POPOVER"===Ae.tagName)&&!(Qe=Ae.children[0]).classList.contains("ion-delegate-host")){const vt=null===(Ze=Ae.ownerDocument)||void 0===Ze?void 0:Ze.createElement("div");vt.classList.add("ion-delegate-host"),He.forEach(Se=>vt.classList.add(Se)),vt.append(...Ae.children),Ae.appendChild(vt),Qe=vt}const ze=document.querySelector("ion-app")||document.body;return Te=document.createComment("ionic teleport"),Ae.parentNode.insertBefore(Te,Ae),ze.appendChild(Ae),null!=Qe?Qe:Ae});return function(Be,Fe){return ie.apply(this,arguments)}}(),removeViewFromDom:()=>(Ae&&Te&&(Te.parentNode.insertBefore(Ae,Te),Te.remove()),Promise.resolve())}}},619:(cn,ft,N)=>{"use strict";N.d(ft,{G:()=>Pe});class V{constructor(Te,Me,ot,ie,me){this.id=Me,this.name=ot,this.disableScroll=me,this.priority=1e6*ie+Me,this.ctrl=Te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Te=this.ctrl.capture(this.name,this.id,this.priority);return Te&&this.disableScroll&&this.ctrl.disableScroll(this.id),Te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ee{constructor(Te,Me,ot,ie){this.id=Me,this.disable=ot,this.disableScroll=ie,this.ctrl=Te}block(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.disableGesture(Te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.enableGesture(Te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",Pe=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Te){var Me;return new V(this,this.newID(),Te.name,null!==(Me=Te.priority)&&void 0!==Me?Me:0,!!Te.disableScroll)}createBlocker(Te={}){return new ee(this,this.newID(),Te.disable,!!Te.disableScroll)}start(Te,Me,ot){return this.canStart(Te)?(this.requestedStart.set(Me,ot),!0):(this.requestedStart.delete(Me),!1)}capture(Te,Me,ot){if(!this.start(Te,Me,ot))return!1;const ie=this.requestedStart;let me=-1e4;if(ie.forEach(Be=>{me=Math.max(me,Be)}),me===ot){this.capturedId=Me,ie.clear();const Be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Te}});return document.dispatchEvent(Be),!0}return ie.delete(Me),!1}release(Te){this.requestedStart.delete(Te),this.capturedId===Te&&(this.capturedId=void 0)}disableGesture(Te,Me){let ot=this.disabledGestures.get(Te);void 0===ot&&(ot=new Set,this.disabledGestures.set(Te,ot)),ot.add(Me)}enableGesture(Te,Me){const ot=this.disabledGestures.get(Te);void 0!==ot&&ot.delete(Me)}disableScroll(Te){this.disabledScroll.add(Te),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(Te){this.disabledScroll.delete(Te),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(Te){return!(void 0!==this.capturedId||this.isDisabled(Te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Te){const Me=this.disabledGestures.get(Te);return!!(Me&&Me.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(cn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Pe,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>V,startHardwareBackButton:()=>ee});var l=N(5861);const V=()=>{document.addEventListener("backbutton",()=>{})},ee=()=>{const Ae=document;let Te=!1;Ae.addEventListener("backbutton",()=>{if(Te)return;let Me=0,ot=[];const ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Fe,He){ot.push({priority:Fe,handler:He,id:Me++})}}});Ae.dispatchEvent(ie);const me=function(){var Fe=(0,l.Z)(function*(He){try{if(null!=He&&He.handler){const Ke=He.handler(Be);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return Fe.apply(this,arguments)}}(),Be=()=>{if(ot.length>0){let Fe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ot.forEach(He=>{He.priority>=Fe.priority&&(Fe=He)}),Te=!0,ot=ot.filter(He=>He.id!==Fe.id),me(Fe).then(()=>Te=!1)}};Be()})},de=100,Pe=99},839:(cn,ft,N)=>{"use strict";N.d(ft,{a:()=>Me,b:()=>ot,c:()=>ee,d:()=>Ze,e:()=>Ke,f:()=>He,g:()=>ie,h:()=>Fe,i:()=>Te,j:()=>Xe,k:()=>Pe,l:()=>Qe,m:()=>de,n:()=>Be,o:()=>ze,p:()=>Se,q:()=>Ve,r:()=>me,s:()=>Oe,t:()=>l,u:()=>rt,v:()=>vt});const l=(Ce,te=0)=>new Promise(je=>{V(Ce,te,je)}),V=(Ce,te=0,je)=>{let Le,st;const dt={passive:!0},Yt=()=>{Le&&Le()},ln=rn=>{(void 0===rn||Ce===rn.target)&&(Yt(),je(rn))};return Ce&&(Ce.addEventListener("webkitTransitionEnd",ln,dt),Ce.addEventListener("transitionend",ln,dt),st=setTimeout(ln,te+500),Le=()=>{st&&(clearTimeout(st),st=void 0),Ce.removeEventListener("webkitTransitionEnd",ln,dt),Ce.removeEventListener("transitionend",ln,dt)}),Yt},ee=(Ce,te)=>{Ce.componentOnReady?Ce.componentOnReady().then(je=>te(je)):me(()=>te(Ce))},de=Ce=>void 0!==Ce.componentOnReady,Pe=(Ce,te=[])=>{const je={};return te.forEach(Le=>{Ce.hasAttribute(Le)&&(null!==Ce.getAttribute(Le)&&(je[Le]=Ce.getAttribute(Le)),Ce.removeAttribute(Le))}),je},Ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Te=(Ce,te)=>{let je=Ae;return te&&te.length>0&&(je=je.filter(Le=>!te.includes(Le))),Pe(Ce,je)},Me=(Ce,te,je,Le)=>{var st;if(typeof window<"u"){const dt=window,Et=null===(st=null==dt?void 0:dt.Ionic)||void 0===st?void 0:st.config;if(Et){const Yt=Et.get("_ael");if(Yt)return Yt(Ce,te,je,Le);if(Et._ael)return Et._ael(Ce,te,je,Le)}}return Ce.addEventListener(te,je,Le)},ot=(Ce,te,je,Le)=>{var st;if(typeof window<"u"){const dt=window,Et=null===(st=null==dt?void 0:dt.Ionic)||void 0===st?void 0:st.config;if(Et){const Yt=Et.get("_rel");if(Yt)return Yt(Ce,te,je,Le);if(Et._rel)return Et._rel(Ce,te,je,Le)}}return Ce.removeEventListener(te,je,Le)},ie=(Ce,te=Ce)=>Ce.shadowRoot||te,me=Ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ce):setTimeout(Ce),Be=Ce=>!!Ce.shadowRoot&&!!Ce.attachShadow,Fe=Ce=>{const te=Ce.closest("ion-item");return te?te.querySelector("ion-label"):null},He=Ce=>{if(Ce.focus(),Ce.classList.contains("ion-focusable")){const te=Ce.closest("ion-app");te&&te.setFocus([Ce])}},Ke=(Ce,te)=>{let je;const Le=Ce.getAttribute("aria-labelledby"),st=Ce.id;let dt=null!==Le&&""!==Le.trim()?Le:te+"-lbl",Et=null!==Le&&""!==Le.trim()?document.getElementById(Le):Fe(Ce);return Et?(null===Le&&(Et.id=dt),je=Et.textContent,Et.setAttribute("aria-hidden","true")):""!==st.trim()&&(Et=document.querySelector(`label[for="${st}"]`),Et&&(""!==Et.id?dt=Et.id:Et.id=dt=`${st}-lbl`,je=Et.textContent)),{label:Et,labelId:dt,labelText:je}},Ze=(Ce,te,je,Le,st)=>{if(Ce||Be(te)){let dt=te.querySelector("input.aux-input");dt||(dt=te.ownerDocument.createElement("input"),dt.type="hidden",dt.classList.add("aux-input"),te.appendChild(dt)),dt.disabled=st,dt.name=je,dt.value=Le||""}},Qe=(Ce,te,je)=>Math.max(Ce,Math.min(te,je)),ze=(Ce,te)=>{if(!Ce){const je="ASSERT: "+te;throw console.error(je),new Error(je)}},rt=Ce=>Ce.timeStamp||Date.now(),vt=Ce=>{if(Ce){const te=Ce.changedTouches;if(te&&te.length>0){const je=te[0];return{x:je.clientX,y:je.clientY}}if(void 0!==Ce.pageX)return{x:Ce.pageX,y:Ce.pageY}}return{x:0,y:0}},Se=Ce=>{const te="rtl"===document.dir;switch(Ce){case"start":return te;case"end":return!te;default:throw new Error(`"${Ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Xe=(Ce,te)=>{const je=Ce._original||Ce;return{_original:Ce,emit:Ve(je.emit.bind(je),te)}},Ve=(Ce,te=0)=>{let je;return(...Le)=>{clearTimeout(je),je=setTimeout(Ce,te,...Le)}},Oe=(Ce,te)=>{if(null!=Ce||(Ce={}),null!=te||(te={}),Ce===te)return!0;const je=Object.keys(Ce);if(je.length!==Object.keys(te).length)return!1;for(const Le of je)if(!(Le in te)||Ce[Le]!==te[Le])return!1;return!0}},1783:(cn,ft,N)=>{"use strict";N.d(ft,{m:()=>Be});var l=N(5861),V=N(6710),ee=N(2124),de=N(839),Pe=N(3882),Ae=N(6410);const Te=Fe=>(0,Ae.c)().duration(Fe?400:300),Me=Fe=>{let He,Ke;const Ze=Fe.width+8,Qe=(0,Ae.c)(),ze=(0,Ae.c)();Fe.isEndSide?(He=Ze+"px",Ke="0px"):(He=-Ze+"px",Ke="0px"),Qe.addElement(Fe.menuInnerEl).fromTo("transform",`translateX(${He})`,`translateX(${Ke})`);const vt="ios"===(0,Pe.b)(Fe),Se=vt?.2:.25;return ze.addElement(Fe.backdropEl).fromTo("opacity",.01,Se),Te(vt).addAnimation([Qe,ze])},ot=Fe=>{let He,Ke;const Ze=(0,Pe.b)(Fe),Qe=Fe.width;Fe.isEndSide?(He=-Qe+"px",Ke=Qe+"px"):(He=Qe+"px",Ke=-Qe+"px");const ze=(0,Ae.c)().addElement(Fe.menuInnerEl).fromTo("transform",`translateX(${Ke})`,"translateX(0px)"),rt=(0,Ae.c)().addElement(Fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`),vt=(0,Ae.c)().addElement(Fe.backdropEl).fromTo("opacity",.01,.32);return Te("ios"===Ze).addAnimation([ze,rt,vt])},ie=Fe=>{const He=(0,Pe.b)(Fe),Ke=Fe.width*(Fe.isEndSide?-1:1)+"px",Ze=(0,Ae.c)().addElement(Fe.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`);return Te("ios"===He).addAnimation(Ze)},Be=(()=>{const Fe=new Map,He=[],Ke=function(){var ge=(0,l.Z)(function*(ae){const $e=yield Xe(ae,!0);return!!$e&&$e.open()});return function($e){return ge.apply(this,arguments)}}(),Ze=function(){var ge=(0,l.Z)(function*(ae){const $e=yield void 0!==ae?Xe(ae,!0):Ve();return void 0!==$e&&$e.close()});return function($e){return ge.apply(this,arguments)}}(),Qe=function(){var ge=(0,l.Z)(function*(ae){const $e=yield Xe(ae,!0);return!!$e&&$e.toggle()});return function($e){return ge.apply(this,arguments)}}(),ze=function(){var ge=(0,l.Z)(function*(ae,$e){const De=yield Xe($e);return De&&(De.disabled=!ae),De});return function($e,De){return ge.apply(this,arguments)}}(),rt=function(){var ge=(0,l.Z)(function*(ae,$e){const De=yield Xe($e);return De&&(De.swipeGesture=ae),De});return function($e,De){return ge.apply(this,arguments)}}(),vt=function(){var ge=(0,l.Z)(function*(ae){if(null!=ae){const $e=yield Xe(ae);return void 0!==$e&&$e.isOpen()}return void 0!==(yield Ve())});return function($e){return ge.apply(this,arguments)}}(),Se=function(){var ge=(0,l.Z)(function*(ae){const $e=yield Xe(ae);return!!$e&&!$e.disabled});return function($e){return ge.apply(this,arguments)}}(),Xe=function(){var ge=(0,l.Z)(function*(ae,$e=!1){if(yield fe(),"start"===ae||"end"===ae){const ht=He.filter(kt=>kt.side===ae&&!kt.disabled);if(ht.length>=1)return ht.length>1&&$e&&(0,V.p)(`menuController queried for a menu on the "${ae}" side, but ${ht.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ht.map(kt=>kt.el)),ht[0].el;const mt=He.filter(kt=>kt.side===ae);if(mt.length>=1)return mt.length>1&&$e&&(0,V.p)(`menuController queried for a menu on the "${ae}" side, but ${mt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,mt.map(kt=>kt.el)),mt[0].el}else if(null!=ae)return rn(ht=>ht.menuId===ae);return rn(ht=>!ht.disabled)||(He.length>0?He[0].el:void 0)});return function($e){return ge.apply(this,arguments)}}(),Ve=function(){var ge=(0,l.Z)(function*(){return yield fe(),Et()});return function(){return ge.apply(this,arguments)}}(),Oe=function(){var ge=(0,l.Z)(function*(){return yield fe(),Yt()});return function(){return ge.apply(this,arguments)}}(),Ce=function(){var ge=(0,l.Z)(function*(){return yield fe(),ln()});return function(){return ge.apply(this,arguments)}}(),te=(ge,ae)=>{Fe.set(ge,ae)},st=function(){var ge=(0,l.Z)(function*(ae,$e,De){if(ln())return!1;if($e){const ht=yield Ve();ht&&ae.el!==ht&&(yield ht.setOpen(!1,!1))}return ae._setOpen($e,De)});return function($e,De,ht){return ge.apply(this,arguments)}}(),Et=()=>rn(ge=>ge._isOpen),Yt=()=>He.map(ge=>ge.el),ln=()=>He.some(ge=>ge.isAnimating),rn=ge=>{const ae=He.find(ge);if(void 0!==ae)return ae.el},fe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ge=>new Promise(ae=>(0,de.c)(ge,ae))));return te("reveal",ie),te("push",ot),te("overlay",Me),typeof document<"u"&&document.addEventListener("ionBackButton",ge=>{const ae=Et();ae&&ge.detail.register(ee.MENU_BACK_BUTTON_PRIORITY,()=>ae.close())}),{registerAnimation:te,get:Xe,getMenus:Oe,getOpen:Ve,isEnabled:Se,swipeGesture:rt,isAnimating:Ce,isOpen:vt,enable:ze,toggle:Qe,close:Ze,open:Ke,_getOpenSync:Et,_createAnimation:(ge,ae)=>{const $e=Fe.get(ge);if(!$e)throw new Error("animation not registered");return $e(ae)},_register:ge=>{He.indexOf(ge)<0&&He.push(ge)},_unregister:ge=>{const ae=He.indexOf(ge);ae>-1&&He.splice(ae,1)},_setOpen:st}})()},6710:(cn,ft,N)=>{"use strict";N.d(ft,{a:()=>V,b:()=>ee,p:()=>l});const l=(de,...Pe)=>console.warn(`[Ionic Warning]: ${de}`,...Pe),V=(de,...Pe)=>console.error(`[Ionic Error]: ${de}`,...Pe),ee=(de,...Pe)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${Pe.join(" or ")}.`)},448:(cn,ft,N)=>{"use strict";N.d(ft,{b:()=>Ae,c:()=>Te,d:()=>Me,e:()=>Ce,g:()=>Le,l:()=>Ve,s:()=>te,t:()=>me,w:()=>Oe});var l=N(5861),V=N(5349),ee=N(839);const Ae="ionViewWillLeave",Te="ionViewDidLeave",Me="ionViewWillUnload",me=st=>new Promise((dt,Et)=>{(0,V.w)(()=>{Be(st),Fe(st).then(Yt=>{Yt.animation&&Yt.animation.destroy(),He(st),dt(Yt)},Yt=>{He(st),Et(Yt)})})}),Be=st=>{const dt=st.enteringEl,Et=st.leavingEl;je(dt,Et,st.direction),st.showGoBack?dt.classList.add("can-go-back"):dt.classList.remove("can-go-back"),te(dt,!1),dt.style.setProperty("pointer-events","none"),Et&&(te(Et,!1),Et.style.setProperty("pointer-events","none"))},Fe=function(){var st=(0,l.Z)(function*(dt){const Et=yield Ke(dt);return Et&&V.B.isBrowser?Ze(Et,dt):Qe(dt)});return function(Et){return st.apply(this,arguments)}}(),He=st=>{const dt=st.enteringEl,Et=st.leavingEl;dt.classList.remove("ion-page-invisible"),dt.style.removeProperty("pointer-events"),void 0!==Et&&(Et.classList.remove("ion-page-invisible"),Et.style.removeProperty("pointer-events"))},Ke=function(){var st=(0,l.Z)(function*(dt){return dt.leavingEl&&dt.animated&&0!==dt.duration?dt.animationBuilder?dt.animationBuilder:"ios"===dt.mode?(yield Promise.resolve().then(N.bind(N,2619))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,9023))).mdTransitionAnimation:void 0});return function(Et){return st.apply(this,arguments)}}(),Ze=function(){var st=(0,l.Z)(function*(dt,Et){yield ze(Et,!0);const Yt=dt(Et.baseEl,Et);Se(Et.enteringEl,Et.leavingEl);const ln=yield vt(Yt,Et);return Et.progressCallback&&Et.progressCallback(void 0),ln&&Xe(Et.enteringEl,Et.leavingEl),{hasCompleted:ln,animation:Yt}});return function(Et,Yt){return st.apply(this,arguments)}}(),Qe=function(){var st=(0,l.Z)(function*(dt){const Et=dt.enteringEl,Yt=dt.leavingEl;return yield ze(dt,!1),Se(Et,Yt),Xe(Et,Yt),{hasCompleted:!0}});return function(Et){return st.apply(this,arguments)}}(),ze=function(){var st=(0,l.Z)(function*(dt,Et){(void 0!==dt.deepWait?dt.deepWait:Et)&&(yield Promise.all([Ce(dt.enteringEl),Ce(dt.leavingEl)])),yield rt(dt.viewIsReady,dt.enteringEl)});return function(Et,Yt){return st.apply(this,arguments)}}(),rt=function(){var st=(0,l.Z)(function*(dt,Et){dt&&(yield dt(Et))});return function(Et,Yt){return st.apply(this,arguments)}}(),vt=(st,dt)=>{const Et=dt.progressCallback,Yt=new Promise(ln=>{st.onFinish(rn=>ln(1===rn))});return Et?(st.progressStart(!0),Et(st)):st.play(),Yt},Se=(st,dt)=>{Ve(dt,Ae),Ve(st,"ionViewWillEnter")},Xe=(st,dt)=>{Ve(st,"ionViewDidEnter"),Ve(dt,Te)},Ve=(st,dt)=>{if(st){const Et=new CustomEvent(dt,{bubbles:!1,cancelable:!1});st.dispatchEvent(Et)}},Oe=()=>new Promise(st=>(0,ee.r)(()=>(0,ee.r)(()=>st()))),Ce=function(){var st=(0,l.Z)(function*(dt){const Et=dt;if(Et){if(null!=Et.componentOnReady){if(null!=(yield Et.componentOnReady()))return}else if(null!=Et.__registerHost)return void(yield new Promise(ln=>(0,ee.r)(ln)));yield Promise.all(Array.from(Et.children).map(Ce))}});return function(Et){return st.apply(this,arguments)}}(),te=(st,dt)=>{dt?(st.setAttribute("aria-hidden","true"),st.classList.add("ion-page-hidden")):(st.hidden=!1,st.removeAttribute("aria-hidden"),st.classList.remove("ion-page-hidden"))},je=(st,dt,Et)=>{void 0!==st&&(st.style.zIndex="back"===Et?"99":"101"),void 0!==dt&&(dt.style.zIndex="100")},Le=st=>st.classList.contains("ion-page")?st:st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||st},6225:(cn,ft,N)=>{"use strict";N.d(ft,{d:()=>V,w:()=>l});const l=typeof window<"u"?window:void 0,V=typeof document<"u"?document:void 0},5349:(cn,ft,N)=>{"use strict";N.d(ft,{B:()=>Be,H:()=>rn,a:()=>zr,b:()=>Ge,c:()=>St,d:()=>Pt,e:()=>ko,f:()=>An,g:()=>Wt,h:()=>Yt,i:()=>le,j:()=>Fe,r:()=>En,w:()=>_o});var l=N(5861);let de,Pe,Ae,Te=!1,Me=!1,ot=!1,ie=!1,me=!1;const Be={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Fe=G=>{const re=new URL(G,Ln.$resourcesUrl$);return re.origin!==pr.location.origin?re.href:re.pathname},vt="s-id",Se="sty-id",Oe="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ce="http://www.w3.org/1999/xlink",te={},dt=G=>"object"==(G=typeof G)||"function"===G;function Et(G){var re,Ue,ut;return null!==(ut=null===(Ue=null===(re=G.head)||void 0===re?void 0:re.querySelector('meta[name="csp-nonce"]'))||void 0===Ue?void 0:Ue.getAttribute("content"))&&void 0!==ut?ut:void 0}const Yt=(G,re,...Ue)=>{let ut=null,At=null,gt=null,Xt=!1,nn=!1;const Gt=[],Ft=Yn=>{for(let D=0;D<Yn.length;D++)ut=Yn[D],Array.isArray(ut)?Ft(ut):null!=ut&&"boolean"!=typeof ut&&((Xt="function"!=typeof G&&!dt(ut))&&(ut=String(ut)),Xt&&nn?Gt[Gt.length-1].$text$+=ut:Gt.push(Xt?ln(null,ut):ut),nn=Xt)};if(Ft(Ue),re){re.key&&(At=re.key),re.name&&(gt=re.name);{const Yn=re.className||re.class;Yn&&(re.class="object"!=typeof Yn?Yn:Object.keys(Yn).filter(D=>Yn[D]).join(" "))}}if("function"==typeof G)return G(null===re?{}:re,Gt,ge);const fn=ln(G,null);return fn.$attrs$=re,Gt.length>0&&(fn.$children$=Gt),fn.$key$=At,fn.$name$=gt,fn},ln=(G,re)=>({$flags$:0,$tag$:G,$text$:re,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),rn={},ge={forEach:(G,re)=>G.map(ae).forEach(re),map:(G,re)=>G.map(ae).map(re).map($e)},ae=G=>({vattrs:G.$attrs$,vchildren:G.$children$,vkey:G.$key$,vname:G.$name$,vtag:G.$tag$,vtext:G.$text$}),$e=G=>{if("function"==typeof G.vtag){const Ue=Object.assign({},G.vattrs);return G.vkey&&(Ue.key=G.vkey),G.vname&&(Ue.name=G.vname),Yt(G.vtag,Ue,...G.vchildren||[])}const re=ln(G.vtag,G.vtext);return re.$attrs$=G.vattrs,re.$children$=G.vchildren,re.$key$=G.vkey,re.$name$=G.vname,re},ht=(G,re,Ue,ut,At,gt,Xt)=>{let nn,Gt,Ft,fn;if(1===gt.nodeType){for(nn=gt.getAttribute("c-id"),nn&&(Gt=nn.split("."),(Gt[0]===Xt||"0"===Gt[0])&&(Ft={$flags$:0,$hostId$:Gt[0],$nodeId$:Gt[1],$depth$:Gt[2],$index$:Gt[3],$tag$:gt.tagName.toLowerCase(),$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},re.push(Ft),gt.removeAttribute("c-id"),G.$children$||(G.$children$=[]),G.$children$[Ft.$index$]=Ft,G=Ft,ut&&"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$))),fn=gt.childNodes.length-1;fn>=0;fn--)ht(G,re,Ue,ut,At,gt.childNodes[fn],Xt);if(gt.shadowRoot)for(fn=gt.shadowRoot.childNodes.length-1;fn>=0;fn--)ht(G,re,Ue,ut,At,gt.shadowRoot.childNodes[fn],Xt)}else if(8===gt.nodeType)Gt=gt.nodeValue.split("."),(Gt[1]===Xt||"0"===Gt[1])&&(nn=Gt[0],Ft={$flags$:0,$hostId$:Gt[1],$nodeId$:Gt[2],$depth$:Gt[3],$index$:Gt[4],$elm$:gt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===nn?(Ft.$elm$=gt.nextSibling,Ft.$elm$&&3===Ft.$elm$.nodeType&&(Ft.$text$=Ft.$elm$.textContent,re.push(Ft),gt.remove(),G.$children$||(G.$children$=[]),G.$children$[Ft.$index$]=Ft,ut&&"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$))):Ft.$hostId$===Xt&&("s"===nn?(Ft.$tag$="slot",gt["s-sn"]=Gt[5]?Ft.$name$=Gt[5]:"",gt["s-sr"]=!0,ut&&(Ft.$elm$=br.createElement(Ft.$tag$),Ft.$name$&&Ft.$elm$.setAttribute("name",Ft.$name$),gt.parentNode.insertBefore(Ft.$elm$,gt),gt.remove(),"0"===Ft.$depth$&&(ut[Ft.$index$]=Ft.$elm$)),Ue.push(Ft),G.$children$||(G.$children$=[]),G.$children$[Ft.$index$]=Ft):"r"===nn&&(ut?gt.remove():(At["s-cr"]=gt,gt["s-cn"]=!0))));else if(G&&"style"===G.$tag$){const Yn=ln(null,gt.textContent);Yn.$elm$=gt,Yn.$index$="0",G.$children$=[Yn]}},mt=(G,re)=>{if(1===G.nodeType){let Ue=0;for(;Ue<G.childNodes.length;Ue++)mt(G.childNodes[Ue],re);if(G.shadowRoot)for(Ue=0;Ue<G.shadowRoot.childNodes.length;Ue++)mt(G.shadowRoot.childNodes[Ue],re)}else if(8===G.nodeType){const Ue=G.nodeValue.split(".");"o"===Ue[0]&&(re.set(Ue[1]+"."+Ue[2],G),G.nodeValue="",G["s-en"]=Ue[3])}},St=G=>Mr.push(G),Wt=G=>hn(G).$modeName$,An=G=>hn(G).$hostElement$,Pt=(G,re,Ue)=>{const ut=An(G);return{emit:At=>wt(ut,re,{bubbles:!!(4&Ue),composed:!!(2&Ue),cancelable:!!(1&Ue),detail:At})}},wt=(G,re,Ue)=>{const ut=Ln.ce(re,Ue);return G.dispatchEvent(ut),ut},bt=new WeakMap,Ut=(G,re,Ue)=>{let ut=lr.get(G);gi&&Ue?(ut=ut||new CSSStyleSheet,"string"==typeof ut?ut=re:ut.replaceSync(re)):ut=re,lr.set(G,ut)},Zt=(G,re,Ue)=>{var ut;const At=Pn(re,Ue),gt=lr.get(At);if(G=11===G.nodeType?G:br,gt)if("string"==typeof gt){let nn,Xt=bt.get(G=G.head||G);if(Xt||bt.set(G,Xt=new Set),!Xt.has(At)){if(G.host&&(nn=G.querySelector(`[${Se}="${At}"]`)))nn.innerHTML=gt;else{nn=br.createElement("style"),nn.innerHTML=gt;const Gt=null!==(ut=Ln.$nonce$)&&void 0!==ut?ut:Et(br);null!=Gt&&nn.setAttribute("nonce",Gt),G.insertBefore(nn,G.querySelector("link"))}4&re.$flags$&&(nn.innerHTML+=Oe),Xt&&Xt.add(At)}}else G.adoptedStyleSheets.includes(gt)||(G.adoptedStyleSheets=[...G.adoptedStyleSheets,gt]);return At},Pn=(G,re)=>"sc-"+(re&&32&G.$flags$?G.$tagName$+"-"+re:G.$tagName$),jn=G=>G.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),mn=(G,re,Ue,ut,At,gt)=>{if(Ue!==ut){let Xt=_r(G,re),nn=re.toLowerCase();if("class"===re){const Gt=G.classList,Ft=Xn(Ue),fn=Xn(ut);Gt.remove(...Ft.filter(Yn=>Yn&&!fn.includes(Yn))),Gt.add(...fn.filter(Yn=>Yn&&!Ft.includes(Yn)))}else if("style"===re){for(const Gt in Ue)(!ut||null==ut[Gt])&&(Gt.includes("-")?G.style.removeProperty(Gt):G.style[Gt]="");for(const Gt in ut)(!Ue||ut[Gt]!==Ue[Gt])&&(Gt.includes("-")?G.style.setProperty(Gt,ut[Gt]):G.style[Gt]=ut[Gt])}else if("key"!==re)if("ref"===re)ut&&ut(G);else if(Xt||"o"!==re[0]||"n"!==re[1]){const Gt=dt(ut);if((Xt||Gt&&null!==ut)&&!At)try{if(G.tagName.includes("-"))G[re]=ut;else{const fn=null==ut?"":ut;"list"===re?Xt=!1:(null==Ue||G[re]!=fn)&&(G[re]=fn)}}catch{}let Ft=!1;nn!==(nn=nn.replace(/^xlink\:?/,""))&&(re=nn,Ft=!0),null==ut||!1===ut?(!1!==ut||""===G.getAttribute(re))&&(Ft?G.removeAttributeNS(Ce,re):G.removeAttribute(re)):(!Xt||4&gt||At)&&!Gt&&(ut=!0===ut?"":ut,Ft?G.setAttributeNS(Ce,re,ut):G.setAttribute(re,ut))}else if(re="-"===re[2]?re.slice(3):_r(pr,nn)?nn.slice(2):nn[2]+re.slice(3),Ue||ut){const Gt=re.endsWith(Hr);re=re.replace(Dn,""),Ue&&Ln.rel(G,re,Ue,Gt),ut&&Ln.ael(G,re,ut,Gt)}}},Mn=/\s/,Xn=G=>G?G.split(Mn):[],Hr="Capture",Dn=new RegExp(Hr+"$"),Kn=(G,re,Ue,ut)=>{const At=11===re.$elm$.nodeType&&re.$elm$.host?re.$elm$.host:re.$elm$,gt=G&&G.$attrs$||te,Xt=re.$attrs$||te;for(ut in gt)ut in Xt||mn(At,ut,gt[ut],void 0,Ue,re.$flags$);for(ut in Xt)mn(At,ut,gt[ut],Xt[ut],Ue,re.$flags$)},Vn=(G,re,Ue,ut)=>{var At;const gt=re.$children$[Ue];let nn,Gt,Ft,Xt=0;if(Te||(ot=!0,"slot"===gt.$tag$&&(de&&ut.classList.add(de+"-s"),gt.$flags$|=gt.$children$?2:1)),null!==gt.$text$)nn=gt.$elm$=br.createTextNode(gt.$text$);else if(1&gt.$flags$)nn=gt.$elm$=br.createTextNode("");else{if(ie||(ie="svg"===gt.$tag$),nn=gt.$elm$=br.createElementNS(ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&gt.$flags$?"slot-fb":gt.$tag$),ie&&"foreignObject"===gt.$tag$&&(ie=!1),Kn(null,gt,ie),(G=>null!=G)(de)&&nn["s-si"]!==de&&nn.classList.add(nn["s-si"]=de),gt.$children$)for(Xt=0;Xt<gt.$children$.length;++Xt)Gt=Vn(G,gt,Xt,nn),Gt&&nn.appendChild(Gt);"svg"===gt.$tag$?ie=!1:"foreignObject"===nn.tagName&&(ie=!0)}return nn["s-hn"]=Ae,3&gt.$flags$&&(nn["s-sr"]=!0,nn["s-fs"]=null===(At=gt.$attrs$)||void 0===At?void 0:At.slot,nn["s-cr"]=Pe,nn["s-sn"]=gt.$name$||"",Ft=G&&G.$children$&&G.$children$[Ue],Ft&&Ft.$tag$===gt.$tag$&&G.$elm$&&fr(G.$elm$,!1)),nn},fr=(G,re)=>{var Ue;Ln.$flags$|=1;const ut=G.childNodes;for(let At=ut.length-1;At>=0;At--){const gt=ut[At];gt["s-hn"]!==Ae&&gt["s-ol"]&&(Jn(gt).insertBefore(gt,Xi(gt)),gt["s-ol"].remove(),gt["s-ol"]=void 0,gt["s-sh"]=void 0,1===gt.nodeType&&gt.setAttribute("slot",null!==(Ue=gt["s-sn"])&&void 0!==Ue?Ue:""),ot=!0),re&&fr(gt,re)}Ln.$flags$&=-2},Pr=(G,re,Ue,ut,At,gt)=>{let nn,Xt=G["s-cr"]&&G["s-cr"].parentNode||G;for(Xt.shadowRoot&&Xt.tagName===Ae&&(Xt=Xt.shadowRoot);At<=gt;++At)ut[At]&&(nn=Vn(null,Ue,At,G),nn&&(ut[At].$elm$=nn,Xt.insertBefore(nn,Xi(re))))},ci=(G,re,Ue)=>{for(let ut=re;ut<=Ue;++ut){const At=G[ut];if(At){const gt=At.$elm$;Dr(At),gt&&(Me=!0,gt["s-ol"]?gt["s-ol"].remove():fr(gt,!0),gt.remove())}}},mr=(G,re)=>G.$tag$===re.$tag$&&("slot"===G.$tag$?G.$name$===re.$name$:G.$key$===re.$key$),Xi=G=>G&&G["s-ol"]||G,Jn=G=>(G["s-ol"]?G["s-ol"]:G).parentNode,ki=(G,re)=>{const Ue=re.$elm$=G.$elm$,ut=G.$children$,At=re.$children$,gt=re.$tag$,Xt=re.$text$;let nn;null===Xt?(ie="svg"===gt||"foreignObject"!==gt&&ie,"slot"===gt||Kn(G,re,ie),null!==ut&&null!==At?((G,re,Ue,ut)=>{let x,he,At=0,gt=0,Xt=0,nn=0,Gt=re.length-1,Ft=re[0],fn=re[Gt],Yn=ut.length-1,D=ut[0],ce=ut[Yn];for(;At<=Gt&&gt<=Yn;)if(null==Ft)Ft=re[++At];else if(null==fn)fn=re[--Gt];else if(null==D)D=ut[++gt];else if(null==ce)ce=ut[--Yn];else if(mr(Ft,D))ki(Ft,D),Ft=re[++At],D=ut[++gt];else if(mr(fn,ce))ki(fn,ce),fn=re[--Gt],ce=ut[--Yn];else if(mr(Ft,ce))("slot"===Ft.$tag$||"slot"===ce.$tag$)&&fr(Ft.$elm$.parentNode,!1),ki(Ft,ce),G.insertBefore(Ft.$elm$,fn.$elm$.nextSibling),Ft=re[++At],ce=ut[--Yn];else if(mr(fn,D))("slot"===Ft.$tag$||"slot"===ce.$tag$)&&fr(fn.$elm$.parentNode,!1),ki(fn,D),G.insertBefore(fn.$elm$,Ft.$elm$),fn=re[--Gt],D=ut[++gt];else{for(Xt=-1,nn=At;nn<=Gt;++nn)if(re[nn]&&null!==re[nn].$key$&&re[nn].$key$===D.$key$){Xt=nn;break}Xt>=0?(he=re[Xt],he.$tag$!==D.$tag$?x=Vn(re&&re[gt],Ue,Xt,G):(ki(he,D),re[Xt]=void 0,x=he.$elm$),D=ut[++gt]):(x=Vn(re&&re[gt],Ue,gt,G),D=ut[++gt]),x&&Jn(Ft.$elm$).insertBefore(x,Xi(Ft.$elm$))}At>Gt?Pr(G,null==ut[Yn+1]?null:ut[Yn+1].$elm$,Ue,ut,gt,Yn):gt>Yn&&ci(re,At,Gt)})(Ue,ut,re,At):null!==At?(null!==G.$text$&&(Ue.textContent=""),Pr(Ue,null,re,At,0,At.length-1)):null!==ut&&ci(ut,0,ut.length-1),ie&&"svg"===gt&&(ie=!1)):(nn=Ue["s-cr"])?nn.parentNode.textContent=Xt:G.$text$!==Xt&&(Ue.data=Xt)},On=G=>{const re=G.childNodes;for(const Ue of re)if(1===Ue.nodeType){if(Ue["s-sr"]){const ut=Ue["s-sn"];Ue.hidden=!1;for(const At of re)if(At!==Ue)if(At["s-hn"]!==Ue["s-hn"]||""!==ut){if(1===At.nodeType&&(ut===At.getAttribute("slot")||ut===At["s-sn"])){Ue.hidden=!0;break}}else if(1===At.nodeType||3===At.nodeType&&""!==At.textContent.trim()){Ue.hidden=!0;break}}On(Ue)}},gr=[],Si=G=>{let re,Ue,ut;for(const At of G.childNodes){if(At["s-sr"]&&(re=At["s-cr"])&&re.parentNode){Ue=re.parentNode.childNodes;const gt=At["s-sn"];for(ut=Ue.length-1;ut>=0;ut--)if(re=Ue[ut],!re["s-cn"]&&!re["s-nr"]&&re["s-hn"]!==At["s-hn"])if(Kr(re,gt)){let Xt=gr.find(nn=>nn.$nodeToRelocate$===re);Me=!0,re["s-sn"]=re["s-sn"]||gt,Xt?(Xt.$nodeToRelocate$["s-sh"]=At["s-hn"],Xt.$slotRefNode$=At):(re["s-sh"]=At["s-hn"],gr.push({$slotRefNode$:At,$nodeToRelocate$:re})),re["s-sr"]&&gr.map(nn=>{Kr(nn.$nodeToRelocate$,re["s-sn"])&&(Xt=gr.find(Gt=>Gt.$nodeToRelocate$===re),Xt&&!nn.$slotRefNode$&&(nn.$slotRefNode$=Xt.$slotRefNode$))})}else gr.some(Xt=>Xt.$nodeToRelocate$===re)||gr.push({$nodeToRelocate$:re})}1===At.nodeType&&Si(At)}},Kr=(G,re)=>1===G.nodeType?null===G.getAttribute("slot")&&""===re||G.getAttribute("slot")===re:G["s-sn"]===re||""===re,Dr=G=>{G.$attrs$&&G.$attrs$.ref&&G.$attrs$.ref(null),G.$children$&&G.$children$.map(Dr)},Cr=(G,re)=>{re&&!G.$onRenderResolve$&&re["s-p"]&&re["s-p"].push(new Promise(Ue=>G.$onRenderResolve$=Ue))},wr=(G,re)=>{if(G.$flags$|=16,!(4&G.$flags$))return Cr(G,G.$ancestorComponent$),_o(()=>di(G,re));G.$flags$|=512},di=(G,re)=>{const ut=G.$lazyInstance$;let At;return re&&(G.$flags$|=256,G.$queuedListeners$&&(G.$queuedListeners$.map(([gt,Xt])=>Z(ut,gt,Xt)),G.$queuedListeners$=void 0),At=Z(ut,"componentWillLoad")),At=Lr(At,()=>Z(ut,"componentWillRender")),Lr(At,()=>hi(G,ut,re))},Lr=(G,re)=>Ri(G)?G.then(re):re(),Ri=G=>G instanceof Promise||G&&G.then&&"function"==typeof G.then,hi=function(){var G=(0,l.Z)(function*(re,Ue,ut){var At;const gt=re.$hostElement$,nn=gt["s-rc"];ut&&(G=>{const re=G.$cmpMeta$,Ue=G.$hostElement$,ut=re.$flags$,gt=Zt(Ue.shadowRoot?Ue.shadowRoot:Ue.getRootNode(),re,G.$modeName$);10&ut&&(Ue["s-sc"]=gt,Ue.classList.add(gt+"-h"),2&ut&&Ue.classList.add(gt+"-s"))})(re);Gi(re,Ue,gt,ut),nn&&(nn.map(Ft=>Ft()),gt["s-rc"]=void 0);{const Ft=null!==(At=gt["s-p"])&&void 0!==At?At:[],fn=()=>it(re);0===Ft.length?fn():(Promise.all(Ft).then(fn),re.$flags$|=4,Ft.length=0)}});return function(Ue,ut,At){return G.apply(this,arguments)}}(),Gi=(G,re,Ue,ut)=>{try{re=re.render&&re.render(),G.$flags$&=-17,G.$flags$|=2,((G,re,Ue=!1)=>{var ut,At;const gt=G.$hostElement$,Xt=G.$cmpMeta$,nn=G.$vnode$||ln(null,null),Gt=(G=>G&&G.$tag$===rn)(re)?re:Yt(null,null,re);if(Ae=gt.tagName,Xt.$attrsToReflect$&&(Gt.$attrs$=Gt.$attrs$||{},Xt.$attrsToReflect$.map(([Ft,fn])=>Gt.$attrs$[fn]=gt[Ft])),Ue&&Gt.$attrs$)for(const Ft of Object.keys(Gt.$attrs$))gt.hasAttribute(Ft)&&!["key","ref","style","class"].includes(Ft)&&(Gt.$attrs$[Ft]=gt[Ft]);if(Gt.$tag$=null,Gt.$flags$|=4,G.$vnode$=Gt,Gt.$elm$=nn.$elm$=gt.shadowRoot||gt,de=gt["s-sc"],Pe=gt["s-cr"],Te=0!=(1&Xt.$flags$),Me=!1,ki(nn,Gt),Ln.$flags$|=1,ot){Si(Gt.$elm$);for(const Ft of gr){const fn=Ft.$nodeToRelocate$;if(!fn["s-ol"]){const Yn=br.createTextNode("");Yn["s-nr"]=fn,fn.parentNode.insertBefore(fn["s-ol"]=Yn,fn)}}for(const Ft of gr){const fn=Ft.$nodeToRelocate$,Yn=Ft.$slotRefNode$;if(Yn){const D=Yn.parentNode;let ce=Yn.nextSibling;{let x=null===(ut=fn["s-ol"])||void 0===ut?void 0:ut.previousSibling;for(;x;){let he=null!==(At=x["s-nr"])&&void 0!==At?At:null;if(he&&he["s-sn"]===fn["s-sn"]&&D===he.parentNode&&(he=he.nextSibling,!he||!he["s-nr"])){ce=he;break}x=x.previousSibling}}(!ce&&D!==fn.parentNode||fn.nextSibling!==ce)&&fn!==ce&&(!fn["s-hn"]&&fn["s-ol"]&&(fn["s-hn"]=fn["s-ol"].parentNode.nodeName),D.insertBefore(fn,ce))}else 1===fn.nodeType&&(fn.hidden=!0)}}Me&&On(Gt.$elm$),Ln.$flags$&=-2,gr.length=0})(G,re,ut)}catch(At){ir(At,G.$hostElement$)}return null},it=G=>{const Ue=G.$hostElement$,At=G.$lazyInstance$,gt=G.$ancestorComponent$;Z(At,"componentDidRender"),64&G.$flags$?Z(At,"componentDidUpdate"):(G.$flags$|=64,$(Ue),Z(At,"componentDidLoad"),G.$onReadyResolve$(Ue),gt||j()),G.$onInstanceResolve$(Ue),G.$onRenderResolve$&&(G.$onRenderResolve$(),G.$onRenderResolve$=void 0),512&G.$flags$&&wo(()=>wr(G,!1)),G.$flags$&=-517},le=G=>{{const re=hn(G),Ue=re.$hostElement$.isConnected;return Ue&&2==(18&re.$flags$)&&wr(re,!1),Ue}},j=G=>{$(br.documentElement),wo(()=>wt(pr,"appload",{detail:{namespace:"ionic"}}))},Z=(G,re,Ue)=>{if(G&&G[re])try{return G[re](Ue)}catch(ut){ir(ut)}},$=G=>G.classList.add("hydrated"),Ct=(G,re,Ue)=>{var ut;if(re.$members$){G.watchers&&(re.$watchers$=G.watchers);const At=Object.entries(re.$members$),gt=G.prototype;if(At.map(([Xt,[nn]])=>{31&nn||2&Ue&&32&nn?Object.defineProperty(gt,Xt,{get(){return((G,re)=>hn(this).$instanceValues$.get(re))(0,Xt)},set(Gt){((G,re,Ue,ut)=>{const At=hn(G),gt=At.$hostElement$,Xt=At.$instanceValues$.get(re),nn=At.$flags$,Gt=At.$lazyInstance$;Ue=((G,re)=>null==G||dt(G)?G:4&re?"false"!==G&&(""===G||!!G):2&re?parseFloat(G):1&re?String(G):G)(Ue,ut.$members$[re][0]);const Ft=Number.isNaN(Xt)&&Number.isNaN(Ue);if((!(8&nn)||void 0===Xt)&&Ue!==Xt&&!Ft&&(At.$instanceValues$.set(re,Ue),Gt)){if(ut.$watchers$&&128&nn){const Yn=ut.$watchers$[re];Yn&&Yn.map(D=>{try{Gt[D](Ue,Xt,re)}catch(ce){ir(ce,gt)}})}2==(18&nn)&&wr(At,!1)}})(this,Xt,Gt,re)},configurable:!0,enumerable:!0}):1&Ue&&64&nn&&Object.defineProperty(gt,Xt,{value(...Gt){const Ft=hn(this);return Ft.$onInstancePromise$.then(()=>Ft.$lazyInstance$[Xt](...Gt))}})}),1&Ue){const Xt=new Map;gt.attributeChangedCallback=function(nn,Gt,Ft){Ln.jmp(()=>{const fn=Xt.get(nn);if(this.hasOwnProperty(fn))Ft=this[fn],delete this[fn];else{if(gt.hasOwnProperty(fn)&&"number"==typeof this[fn]&&this[fn]==Ft)return;if(null==fn){const Yn=hn(this),D=null==Yn?void 0:Yn.$flags$;if(!(8&D)&&128&D&&Ft!==Gt){const ce=Yn.$lazyInstance$,x=re.$watchers$[nn];null==x||x.forEach(he=>{null!=ce[he]&&ce[he].call(ce,Ft,Gt,nn)})}return}}this[fn]=(null!==Ft||"boolean"!=typeof this[fn])&&Ft})},G.observedAttributes=Array.from(new Set([...Object.keys(null!==(ut=re.$watchers$)&&void 0!==ut?ut:{}),...At.filter(([nn,Gt])=>15&Gt[0]).map(([nn,Gt])=>{const Ft=Gt[1]||nn;return Xt.set(Ft,nn),512&Gt[0]&&re.$attrsToReflect$.push([nn,Ft]),Ft})]))}}return G},sn=function(){var G=(0,l.Z)(function*(re,Ue,ut,At){let gt;if(!(32&Ue.$flags$)){Ue.$flags$|=32;{if(gt=mo(ut),gt.then){const Ft=()=>{};gt=yield gt,Ft()}gt.isProxied||(ut.$watchers$=gt.watchers,Ct(gt,ut,2),gt.isProxied=!0);const Gt=()=>{};Ue.$flags$|=8;try{new gt(Ue)}catch(Ft){ir(Ft)}Ue.$flags$&=-9,Ue.$flags$|=128,Gt(),Kt(Ue.$lazyInstance$)}if(gt.style){let Gt=gt.style;"string"!=typeof Gt&&(Gt=Gt[Ue.$modeName$=(G=>Mr.map(re=>re(G)).find(re=>!!re))(re)]);const Ft=Pn(ut,Ue.$modeName$);if(!lr.has(Ft)){const fn=()=>{};Ut(Ft,Gt,!!(1&ut.$flags$)),fn()}}}const Xt=Ue.$ancestorComponent$,nn=()=>wr(Ue,!0);Xt&&Xt["s-rc"]?Xt["s-rc"].push(nn):nn()});return function(Ue,ut,At,gt){return G.apply(this,arguments)}}(),Kt=G=>{Z(G,"connectedCallback")},Fn=G=>{const re=G["s-cr"]=br.createComment("");re["s-cn"]=!0,G.insertBefore(re,G.firstChild)},ar=G=>{Z(G,"disconnectedCallback")},nt=function(){var G=(0,l.Z)(function*(re){if(!(1&Ln.$flags$)){const Ue=hn(re);Ue.$rmListeners$&&(Ue.$rmListeners$.map(ut=>ut()),Ue.$rmListeners$=void 0),null!=Ue&&Ue.$lazyInstance$?ar(Ue.$lazyInstance$):null!=Ue&&Ue.$onReadyPromise$&&Ue.$onReadyPromise$.then(()=>ar(Ue.$lazyInstance$))}});return function(Ue){return G.apply(this,arguments)}}(),Ge=(G,re={})=>{var Ue;const At=[],gt=re.exclude||[],Xt=pr.customElements,nn=br.head,Gt=nn.querySelector("meta[charset]"),Ft=br.createElement("style"),fn=[],Yn=br.querySelectorAll(`[${Se}]`);let D,ce=!0,x=0;for(Object.assign(Ln,re),Ln.$resourcesUrl$=new URL(re.resourcesUrl||"./",br.baseURI).href,Ln.$flags$|=2;x<Yn.length;x++)Ut(Yn[x].getAttribute(Se),jn(Yn[x].innerHTML),!0);let he=!1;if(G.map(at=>{at[1].map(Un=>{var Sr;const ei={$flags$:Un[0],$tagName$:Un[1],$members$:Un[2],$listeners$:Un[3]};4&ei.$flags$&&(he=!0),ei.$members$=Un[2],ei.$listeners$=Un[3],ei.$attrsToReflect$=[],ei.$watchers$=null!==(Sr=Un[4])&&void 0!==Sr?Sr:{};const io=ei.$tagName$,oo=class extends HTMLElement{constructor(Wr){super(Wr),cr(Wr=this,ei),1&ei.$flags$&&Wr.attachShadow({mode:"open",delegatesFocus:!!(16&ei.$flags$)})}connectedCallback(){D&&(clearTimeout(D),D=null),ce?fn.push(this):Ln.jmp(()=>(G=>{if(!(1&Ln.$flags$)){const re=hn(G),Ue=re.$cmpMeta$,ut=()=>{};if(1&re.$flags$)Tt(G,re,Ue.$listeners$),null!=re&&re.$lazyInstance$?Kt(re.$lazyInstance$):null!=re&&re.$onReadyPromise$&&re.$onReadyPromise$.then(()=>Kt(re.$lazyInstance$));else{let At;if(re.$flags$|=1,At=G.getAttribute(vt),At){if(1&Ue.$flags$){const gt=Zt(G.shadowRoot,Ue,G.getAttribute("s-mode"));G.classList.remove(gt+"-h",gt+"-s")}((G,re,Ue,ut)=>{const gt=G.shadowRoot,Xt=[],Gt=gt?[]:null,Ft=ut.$vnode$=ln(re,null);Ln.$orgLocNodes$||mt(br.body,Ln.$orgLocNodes$=new Map),G[vt]=Ue,G.removeAttribute(vt),ht(Ft,Xt,[],Gt,G,G,Ue),Xt.map(fn=>{const Yn=fn.$hostId$+"."+fn.$nodeId$,D=Ln.$orgLocNodes$.get(Yn),ce=fn.$elm$;D&&Pi&&""===D["s-en"]&&D.parentNode.insertBefore(ce,D.nextSibling),gt||(ce["s-hn"]=re,D&&(ce["s-ol"]=D,ce["s-ol"]["s-nr"]=ce)),Ln.$orgLocNodes$.delete(Yn)}),gt&&Gt.map(fn=>{fn&&gt.appendChild(fn)})})(G,Ue.$tagName$,At,re)}At||12&Ue.$flags$&&Fn(G);{let gt=G;for(;gt=gt.parentNode||gt.host;)if(1===gt.nodeType&&gt.hasAttribute("s-id")&&gt["s-p"]||gt["s-p"]){Cr(re,re.$ancestorComponent$=gt);break}}Ue.$members$&&Object.entries(Ue.$members$).map(([gt,[Xt]])=>{if(31&Xt&&G.hasOwnProperty(gt)){const nn=G[gt];delete G[gt],G[gt]=nn}}),sn(G,re,Ue)}ut()}})(this))}disconnectedCallback(){Ln.jmp(()=>nt(this))}componentOnReady(){return hn(this).$onReadyPromise$}};ei.$lazyBundleId$=at[0],!gt.includes(io)&&!Xt.get(io)&&(At.push(io),Xt.define(io,Ct(oo,ei,1)))})}),he&&(Ft.innerHTML+=Oe),Ft.innerHTML+=At+"{visibility:hidden}.hydrated{visibility:inherit}",Ft.innerHTML.length){Ft.setAttribute("data-styles",""),nn.insertBefore(Ft,Gt?Gt.nextSibling:nn.firstChild);const at=null!==(Ue=Ln.$nonce$)&&void 0!==Ue?Ue:Et(br);null!=at&&Ft.setAttribute("nonce",at)}ce=!1,fn.length?fn.map(at=>at.connectedCallback()):Ln.jmp(()=>D=setTimeout(j,30))},Tt=(G,re,Ue,ut)=>{Ue&&Ue.map(([At,gt,Xt])=>{const nn=qe(G,At),Gt=xe(re,Xt),Ft=ct(At);Ln.ael(nn,gt,Gt,Ft),(re.$rmListeners$=re.$rmListeners$||[]).push(()=>Ln.rel(nn,gt,Gt,Ft))})},xe=(G,re)=>Ue=>{try{256&G.$flags$?G.$lazyInstance$[re](Ue):(G.$queuedListeners$=G.$queuedListeners$||[]).push([re,Ue])}catch(ut){ir(ut)}},qe=(G,re)=>4&re?br:8&re?pr:16&re?br.body:G,ct=G=>0!=(2&G),Ot=new WeakMap,hn=G=>Ot.get(G),En=(G,re)=>Ot.set(re.$lazyInstance$=G,re),cr=(G,re)=>{const Ue={$flags$:0,$hostElement$:G,$cmpMeta$:re,$instanceValues$:new Map};return Ue.$onInstancePromise$=new Promise(ut=>Ue.$onInstanceResolve$=ut),Ue.$onReadyPromise$=new Promise(ut=>Ue.$onReadyResolve$=ut),G["s-p"]=[],G["s-rc"]=[],Tt(G,Ue,re.$listeners$),Ot.set(G,Ue)},_r=(G,re)=>re in G,ir=(G,re)=>(0,console.error)(G,re),Or=new Map,mo=(G,re,Ue)=>{const ut=G.$tagName$.replace(/-/g,"_"),At=G.$lazyBundleId$,gt=Or.get(At);return gt?gt[ut]:N(863)(`./${At}.entry.js`).then(Xt=>(Or.set(At,Xt),Xt[ut]),ir)},lr=new Map,Mr=[],pr=typeof window<"u"?window:{},br=pr.document||{head:{}},Ln={$flags$:0,$resourcesUrl$:"",jmp:G=>G(),raf:G=>requestAnimationFrame(G),ael:(G,re,Ue,ut)=>G.addEventListener(re,Ue,ut),rel:(G,re,Ue,ut)=>G.removeEventListener(re,Ue,ut),ce:(G,re)=>new CustomEvent(G,re)},zr=G=>{Object.assign(Ln,G)},Pi=!0,gi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),no=[],Co=[],ri=(G,re)=>Ue=>{G.push(Ue),me||(me=!0,re&&4&Ln.$flags$?wo(ro):Ln.raf(ro))},Fi=G=>{for(let re=0;re<G.length;re++)try{G[re](performance.now())}catch(Ue){ir(Ue)}G.length=0},ro=()=>{Fi(no),Fi(Co),(me=no.length>0)&&Ln.raf(ro)},wo=G=>Promise.resolve(void 0).then(G),ko=ri(no,!1),_o=ri(Co,!0)},9203:(cn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ot});var l=N(619);const V=(Fe,He,Ke,Ze)=>{const Qe=ee(Fe)?{capture:!!Ze.capture,passive:!!Ze.passive}:!!Ze.capture;let ze,rt;return Fe.__zone_symbol__addEventListener?(ze="__zone_symbol__addEventListener",rt="__zone_symbol__removeEventListener"):(ze="addEventListener",rt="removeEventListener"),Fe[ze](He,Ke,Qe),()=>{Fe[rt](He,Ke,Qe)}},ee=Fe=>{if(void 0===de)try{const He=Object.defineProperty({},"passive",{get:()=>{de=!0}});Fe.addEventListener("optsTest",()=>{},He)}catch{de=!1}return!!de};let de;const Te=Fe=>Fe instanceof Document?Fe:Fe.ownerDocument,ot=Fe=>{let He=!1,Ke=!1,Ze=!0,Qe=!1;const ze=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Fe),rt=ze.canStart,vt=ze.onWillStart,Se=ze.onStart,Xe=ze.onEnd,Ve=ze.notCaptured,Oe=ze.onMove,Ce=ze.threshold,te=ze.passive,je=ze.blurOnStart,Le={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},st=((Fe,He,Ke)=>{const Ze=Ke*(Math.PI/180),Qe="x"===Fe,ze=Math.cos(Ze),rt=He*He;let vt=0,Se=0,Xe=!1,Ve=0;return{start(Oe,Ce){vt=Oe,Se=Ce,Ve=0,Xe=!0},detect(Oe,Ce){if(!Xe)return!1;const te=Oe-vt,je=Ce-Se,Le=te*te+je*je;if(Le<rt)return!1;const st=Math.sqrt(Le),dt=(Qe?te:je)/st;return Ve=dt>ze?1:dt<-ze?-1:0,Xe=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(ze.direction,ze.threshold,ze.maxAngle),dt=l.G.createGesture({name:Fe.gestureName,priority:Fe.gesturePriority,disableScroll:Fe.disableScroll}),ln=()=>{He&&(Qe=!1,Oe&&Oe(Le))},rn=()=>!!dt.capture()&&(He=!0,Ze=!1,Le.startX=Le.currentX,Le.startY=Le.currentY,Le.startTime=Le.currentTime,vt?vt(Le).then(ge):ge(),!0),ge=()=>{je&&(()=>{if(typeof document<"u"){const mt=document.activeElement;null!=mt&&mt.blur&&mt.blur()}})(),Se&&Se(Le),Ze=!0},ae=()=>{He=!1,Ke=!1,Qe=!1,Ze=!0,dt.release()},$e=mt=>{const kt=He,St=Ze;if(ae(),St){if(ie(Le,mt),kt)return void(Xe&&Xe(Le));Ve&&Ve(Le)}},De=((Fe,He,Ke,Ze,Qe)=>{let ze,rt,vt,Se,Xe,Ve,Oe,Ce=0;const te=fe=>{Ce=Date.now()+2e3,He(fe)&&(!rt&&Ke&&(rt=V(Fe,"touchmove",Ke,Qe)),vt||(vt=V(fe.target,"touchend",Le,Qe)),Se||(Se=V(fe.target,"touchcancel",Le,Qe)))},je=fe=>{Ce>Date.now()||He(fe)&&(!Ve&&Ke&&(Ve=V(Te(Fe),"mousemove",Ke,Qe)),Oe||(Oe=V(Te(Fe),"mouseup",st,Qe)))},Le=fe=>{dt(),Ze&&Ze(fe)},st=fe=>{Et(),Ze&&Ze(fe)},dt=()=>{rt&&rt(),vt&&vt(),Se&&Se(),rt=vt=Se=void 0},Et=()=>{Ve&&Ve(),Oe&&Oe(),Ve=Oe=void 0},Yt=()=>{dt(),Et()},ln=(fe=!0)=>{fe?(ze||(ze=V(Fe,"touchstart",te,Qe)),Xe||(Xe=V(Fe,"mousedown",je,Qe))):(ze&&ze(),Xe&&Xe(),ze=Xe=void 0,Yt())};return{enable:ln,stop:Yt,destroy:()=>{ln(!1),Ze=Ke=He=void 0}}})(ze.el,mt=>{const kt=Be(mt);return!(Ke||!Ze||(me(mt,Le),Le.startX=Le.currentX,Le.startY=Le.currentY,Le.startTime=Le.currentTime=kt,Le.velocityX=Le.velocityY=Le.deltaX=Le.deltaY=0,Le.event=mt,rt&&!1===rt(Le))||(dt.release(),!dt.start()))&&(Ke=!0,0===Ce?rn():(st.start(Le.startX,Le.startY),!0))},mt=>{He?!Qe&&Ze&&(Qe=!0,ie(Le,mt),requestAnimationFrame(ln)):(ie(Le,mt),st.detect(Le.currentX,Le.currentY)&&(!st.isGesture()||!rn())&&ht())},$e,{capture:!1,passive:te}),ht=()=>{ae(),De.stop(),Ve&&Ve(Le)};return{enable(mt=!0){mt||(He&&$e(void 0),ae()),De.enable(mt)},destroy(){dt.destroy(),De.destroy()}}},ie=(Fe,He)=>{if(!He)return;const Ke=Fe.currentX,Ze=Fe.currentY,Qe=Fe.currentTime;me(He,Fe);const ze=Fe.currentX,rt=Fe.currentY,Se=(Fe.currentTime=Be(He))-Qe;if(Se>0&&Se<100){const Ve=(rt-Ze)/Se;Fe.velocityX=(ze-Ke)/Se*.7+.3*Fe.velocityX,Fe.velocityY=.7*Ve+.3*Fe.velocityY}Fe.deltaX=ze-Fe.startX,Fe.deltaY=rt-Fe.startY,Fe.event=He},me=(Fe,He)=>{let Ke=0,Ze=0;if(Fe){const Qe=Fe.changedTouches;if(Qe&&Qe.length>0){const ze=Qe[0];Ke=ze.clientX,Ze=ze.clientY}else void 0!==Fe.pageX&&(Ke=Fe.pageX,Ze=Fe.pageY)}He.currentX=Ke,He.currentY=Ze},Be=Fe=>Fe.timeStamp||Date.now()},3882:(cn,ft,N)=>{"use strict";N.d(ft,{a:()=>me,b:()=>ln,c:()=>ee,i:()=>rn});var l=N(5349);class V{constructor(){this.m=new Map}reset(ge){this.m=new Map(Object.entries(ge))}get(ge,ae){const $e=this.m.get(ge);return void 0!==$e?$e:ae}getBoolean(ge,ae=!1){const $e=this.m.get(ge);return void 0===$e?ae:"string"==typeof $e?"true"===$e:!!$e}getNumber(ge,ae){const $e=parseFloat(this.m.get(ge));return isNaN($e)?void 0!==ae?ae:NaN:$e}set(ge,ae){this.m.set(ge,ae)}}const ee=new V,ot="ionic-persist-config",me=(fe,ge)=>("string"==typeof fe&&(ge=fe,fe=void 0),(fe=>Be(fe))(fe).includes(ge)),Be=(fe=window)=>{if(typeof fe>"u")return[];fe.Ionic=fe.Ionic||{};let ge=fe.Ionic.platforms;return null==ge&&(ge=fe.Ionic.platforms=Fe(fe),ge.forEach(ae=>fe.document.documentElement.classList.add(`plt-${ae}`))),ge},Fe=fe=>{const ge=ee.get("platform");return Object.keys(Et).filter(ae=>{const $e=null==ge?void 0:ge[ae];return"function"==typeof $e?$e(fe):Et[ae](fe)})},Ke=fe=>!!(st(fe,/iPad/i)||st(fe,/Macintosh/i)&&Xe(fe)),ze=fe=>st(fe,/android|sink/i),Xe=fe=>dt(fe,"(any-pointer:coarse)"),Oe=fe=>Ce(fe)||te(fe),Ce=fe=>!!(fe.cordova||fe.phonegap||fe.PhoneGap),te=fe=>{const ge=fe.Capacitor;return!(null==ge||!ge.isNative)},st=(fe,ge)=>ge.test(fe.navigator.userAgent),dt=(fe,ge)=>{var ae;return null===(ae=fe.matchMedia)||void 0===ae?void 0:ae.call(fe,ge).matches},Et={ipad:Ke,iphone:fe=>st(fe,/iPhone/i),ios:fe=>st(fe,/iPhone|iPod/i)||Ke(fe),android:ze,phablet:fe=>{const ge=fe.innerWidth,ae=fe.innerHeight,$e=Math.min(ge,ae),De=Math.max(ge,ae);return $e>390&&$e<520&&De>620&&De<800},tablet:fe=>{const ge=fe.innerWidth,ae=fe.innerHeight,$e=Math.min(ge,ae),De=Math.max(ge,ae);return Ke(fe)||(fe=>ze(fe)&&!st(fe,/mobile/i))(fe)||$e>460&&$e<820&&De>780&&De<1400},cordova:Ce,capacitor:te,electron:fe=>st(fe,/electron/i),pwa:fe=>{var ge;return!!(null!==(ge=fe.matchMedia)&&void 0!==ge&&ge.call(fe,"(display-mode: standalone)").matches||fe.navigator.standalone)},mobile:Xe,mobileweb:fe=>Xe(fe)&&!Oe(fe),desktop:fe=>!Xe(fe),hybrid:Oe};let Yt;const ln=fe=>fe&&(0,l.g)(fe)||Yt,rn=(fe={})=>{if(typeof window>"u")return;const ge=window.document,ae=window,$e=ae.Ionic=ae.Ionic||{},De={};fe._ael&&(De.ael=fe._ael),fe._rel&&(De.rel=fe._rel),fe._ce&&(De.ce=fe._ce),(0,l.a)(De);const ht=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(fe=>{try{const ge=fe.sessionStorage.getItem(ot);return null!==ge?JSON.parse(ge):{}}catch{return{}}})(ae)),{persistConfig:!1}),$e.config),(fe=>{const ge={};return fe.location.search.slice(1).split("&").map(ae=>ae.split("=")).map(([ae,$e])=>[decodeURIComponent(ae),decodeURIComponent($e)]).filter(([ae])=>((fe,ge)=>fe.substr(0,ge.length)===ge)(ae,"ionic:")).map(([ae,$e])=>[ae.slice(6),$e]).forEach(([ae,$e])=>{ge[ae]=$e}),ge})(ae)),fe);ee.reset(ht),ee.getBoolean("persistConfig")&&((fe,ge)=>{try{fe.sessionStorage.setItem(ot,JSON.stringify(ge))}catch{return}})(ae,ht),Be(ae),$e.config=ee,$e.mode=Yt=ee.get("mode",ge.documentElement.getAttribute("mode")||(me(ae,"ios")?"ios":"md")),ee.set("mode",Yt),ge.documentElement.setAttribute("mode",Yt),ge.documentElement.classList.add(Yt),ee.getBoolean("_testing")&&ee.set("animated",!1);const mt=St=>{var Wt;return null===(Wt=St.tagName)||void 0===Wt?void 0:Wt.startsWith("ION-")},kt=St=>["ios","md"].includes(St);(0,l.c)(St=>{for(;St;){const Wt=St.mode||St.getAttribute("mode");if(Wt){if(kt(Wt))return Wt;mt(St)&&console.warn('Invalid ionic mode: "'+Wt+'", expected: "ios" or "md"')}St=St.parentElement}return Yt})}},2619:(cn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{iosTransitionAnimation:()=>Fe,shadow:()=>Te});var l=N(6410),V=N(448);N(6225),N(5349);const Ae=Ke=>document.querySelector(`${Ke}.ion-cloned-element`),Te=Ke=>Ke.shadowRoot||Ke,Me=Ke=>{const Ze="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs"),Qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const ze=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ze?ze.querySelector(Qe):null}return Ke.querySelector(Qe)},ot=(Ke,Ze)=>{const Qe="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs");let ze=[];if(null!=Qe){const rt=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=rt&&(ze=rt.querySelectorAll("ion-buttons"))}else ze=Ke.querySelectorAll("ion-buttons");for(const rt of ze){const vt=rt.closest("ion-header"),Se=vt&&!vt.classList.contains("header-collapse-condense-inactive"),Xe=rt.querySelector("ion-back-button"),Ve=rt.classList.contains("buttons-collapse");if(null!==Xe&&("start"===rt.slot||""===rt.slot)&&(Ve&&Se&&Ze||!Ve))return Xe}return null},me=(Ke,Ze,Qe,ze,rt,vt,Se,Xe,Ve)=>{var Oe,Ce;const te=Ze?`calc(100% - ${rt.right+4}px)`:rt.left-4+"px",je=Ze?"right":"left",Le=Ze?"left":"right",st=Ze?"right":"left",dt=(null===(Oe=vt.textContent)||void 0===Oe?void 0:Oe.trim())===(null===(Ce=Xe.textContent)||void 0===Ce?void 0:Ce.trim()),Yt=(Ve.height-He)/Se.height,ln=dt?`scale(${Ve.width/Se.width}, ${Yt})`:`scale(${Yt})`,rn="scale(1)",ge=Te(ze).querySelector("ion-icon").getBoundingClientRect(),ae=Ze?ge.width/2-(ge.right-rt.right)+"px":rt.left-ge.width/2+"px",$e=Ze?`-${window.innerWidth-rt.right}px`:`${rt.left}px`,De=`${Ve.top}px`,ht=`${rt.top}px`,St=Qe?[{offset:0,transform:`translate3d(${$e}, ${ht}, 0)`},{offset:1,transform:`translate3d(${ae}, ${De}, 0)`}]:[{offset:0,transform:`translate3d(${ae}, ${De}, 0)`},{offset:1,transform:`translate3d(${$e}, ${ht}, 0)`}],An=Qe?[{offset:0,opacity:1,transform:rn},{offset:1,opacity:0,transform:ln}]:[{offset:0,opacity:0,transform:ln},{offset:1,opacity:1,transform:rn}],bt=Qe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ut=(0,l.c)(),Zt=(0,l.c)(),Rn=(0,l.c)(),Pn=Ae("ion-back-button"),jn=Te(Pn).querySelector(".button-text"),mn=Te(Pn).querySelector("ion-icon");Pn.text=ze.text,Pn.mode=ze.mode,Pn.icon=ze.icon,Pn.color=ze.color,Pn.disabled=ze.disabled,Pn.style.setProperty("display","block"),Pn.style.setProperty("position","fixed"),Zt.addElement(mn),Ut.addElement(jn),Rn.addElement(Pn),Rn.beforeStyles({position:"absolute",top:"0px",[st]:"0px"}).keyframes(St),Ut.beforeStyles({"transform-origin":`${je} top`}).beforeAddWrite(()=>{ze.style.setProperty("display","none"),Pn.style.setProperty(je,te)}).afterAddWrite(()=>{ze.style.setProperty("display",""),Pn.style.setProperty("display","none"),Pn.style.removeProperty(je)}).keyframes(An),Zt.beforeStyles({"transform-origin":`${Le} center`}).keyframes(bt),Ke.addAnimation([Ut,Zt,Rn])},Be=(Ke,Ze,Qe,ze,rt,vt,Se,Xe)=>{var Ve,Oe;const Ce=Ze?"right":"left",te=Ze?`calc(100% - ${rt.right}px)`:`${rt.left}px`,Le=`${rt.top}px`,dt=Ze?`-${window.innerWidth-Xe.right-8}px`:Xe.x-8+"px",Yt=Xe.y-2+"px",ln=(null===(Ve=Se.textContent)||void 0===Ve?void 0:Ve.trim())===(null===(Oe=ze.textContent)||void 0===Oe?void 0:Oe.trim()),fe=Xe.height/(vt.height-He),ge="scale(1)",ae=ln?`scale(${Xe.width/vt.width}, ${fe})`:`scale(${fe})`,ht=Qe?[{offset:0,opacity:0,transform:`translate3d(${dt}, ${Yt}, 0) ${ae}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Le}, 0) ${ge}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Le}, 0) ${ge}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${dt}, ${Yt}, 0) ${ae}`}],mt=Ae("ion-title"),kt=(0,l.c)();mt.innerText=ze.innerText,mt.size=ze.size,mt.color=ze.color,kt.addElement(mt),kt.beforeStyles({"transform-origin":`${Ce} top`,height:`${rt.height}px`,display:"",position:"relative",[Ce]:te}).beforeAddWrite(()=>{ze.style.setProperty("opacity","0")}).afterAddWrite(()=>{ze.style.setProperty("opacity",""),mt.style.setProperty("display","none")}).keyframes(ht),Ke.addAnimation(kt)},Fe=(Ke,Ze)=>{var Qe;try{const ze="cubic-bezier(0.32,0.72,0,1)",rt="opacity",vt="transform",Se="0%",Ve="rtl"===Ke.ownerDocument.dir,Oe=Ve?"-99.5%":"99.5%",Ce=Ve?"33%":"-33%",te=Ze.enteringEl,je=Ze.leavingEl,Le="back"===Ze.direction,st=te.querySelector(":scope > ion-content"),dt=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Et=te.querySelectorAll(":scope > ion-header > ion-toolbar"),Yt=(0,l.c)(),ln=(0,l.c)();if(Yt.addElement(te).duration((null!==(Qe=Ze.duration)&&void 0!==Qe?Qe:0)||540).easing(Ze.easing||ze).fill("both").beforeRemoveClass("ion-page-invisible"),je&&null!=Ke){const ae=(0,l.c)();ae.addElement(Ke),Yt.addAnimation(ae)}if(st||0!==Et.length||0!==dt.length?(ln.addElement(st),ln.addElement(dt)):ln.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Yt.addAnimation(ln),Le?ln.beforeClearStyles([rt]).fromTo("transform",`translateX(${Ce})`,`translateX(${Se})`).fromTo(rt,.8,1):ln.beforeClearStyles([rt]).fromTo("transform",`translateX(${Oe})`,`translateX(${Se})`),st){const ae=Te(st).querySelector(".transition-effect");if(ae){const $e=ae.querySelector(".transition-cover"),De=ae.querySelector(".transition-shadow"),ht=(0,l.c)(),mt=(0,l.c)(),kt=(0,l.c)();ht.addElement(ae).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),mt.addElement($e).beforeClearStyles([rt]).fromTo(rt,0,.1),kt.addElement(De).beforeClearStyles([rt]).fromTo(rt,.03,.7),ht.addAnimation([mt,kt]),ln.addAnimation([ht])}}const rn=te.querySelector("ion-header.header-collapse-condense"),{forward:fe,backward:ge}=((Ke,Ze,Qe,ze,rt)=>{const vt=ot(ze,Qe),Se=Me(rt),Xe=Me(ze),Ve=ot(rt,Qe),Oe=null!==vt&&null!==Se&&!Qe,Ce=null!==Xe&&null!==Ve&&Qe;if(Oe){const te=Se.getBoundingClientRect(),je=vt.getBoundingClientRect(),Le=Te(vt).querySelector(".button-text"),st=Le.getBoundingClientRect(),Et=Te(Se).querySelector(".toolbar-title").getBoundingClientRect();Be(Ke,Ze,Qe,Se,te,Et,Le,st),me(Ke,Ze,Qe,vt,je,Le,st,Se,Et)}else if(Ce){const te=Xe.getBoundingClientRect(),je=Ve.getBoundingClientRect(),Le=Te(Ve).querySelector(".button-text"),st=Le.getBoundingClientRect(),Et=Te(Xe).querySelector(".toolbar-title").getBoundingClientRect();Be(Ke,Ze,Qe,Xe,te,Et,Le,st),me(Ke,Ze,Qe,Ve,je,Le,st,Xe,Et)}return{forward:Oe,backward:Ce}})(Yt,Ve,Le,te,je);if(Et.forEach(ae=>{const $e=(0,l.c)();$e.addElement(ae),Yt.addAnimation($e);const De=(0,l.c)();De.addElement(ae.querySelector("ion-title"));const ht=(0,l.c)(),mt=Array.from(ae.querySelectorAll("ion-buttons,[menuToggle]")),kt=ae.closest("ion-header"),St=null==kt?void 0:kt.classList.contains("header-collapse-condense-inactive");let Wt;Wt=mt.filter(Le?bt=>{const Ut=bt.classList.contains("buttons-collapse");return Ut&&!St||!Ut}:bt=>!bt.classList.contains("buttons-collapse")),ht.addElement(Wt);const jt=(0,l.c)();jt.addElement(ae.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const An=(0,l.c)();An.addElement(Te(ae).querySelector(".toolbar-background"));const Pt=(0,l.c)(),wt=ae.querySelector("ion-back-button");if(wt&&Pt.addElement(wt),$e.addAnimation([De,ht,jt,An,Pt]),ht.fromTo(rt,.01,1),jt.fromTo(rt,.01,1),Le)St||De.fromTo("transform",`translateX(${Ce})`,`translateX(${Se})`).fromTo(rt,.01,1),jt.fromTo("transform",`translateX(${Ce})`,`translateX(${Se})`),Pt.fromTo(rt,.01,1);else if(rn||De.fromTo("transform",`translateX(${Oe})`,`translateX(${Se})`).fromTo(rt,.01,1),jt.fromTo("transform",`translateX(${Oe})`,`translateX(${Se})`),An.beforeClearStyles([rt,"transform"]),(null==kt?void 0:kt.translucent)?An.fromTo("transform",Ve?"translateX(-100%)":"translateX(100%)","translateX(0px)"):An.fromTo(rt,.01,"var(--opacity)"),fe||Pt.fromTo(rt,.01,1),wt&&!fe){const Ut=(0,l.c)();Ut.addElement(Te(wt).querySelector(".button-text")).fromTo("transform",Ve?"translateX(-100px)":"translateX(100px)","translateX(0px)"),$e.addAnimation(Ut)}}),je){const ae=(0,l.c)(),$e=je.querySelector(":scope > ion-content"),De=je.querySelectorAll(":scope > ion-header > ion-toolbar"),ht=je.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if($e||0!==De.length||0!==ht.length?(ae.addElement($e),ae.addElement(ht)):ae.addElement(je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Yt.addAnimation(ae),Le){ae.beforeClearStyles([rt]).fromTo("transform",`translateX(${Se})`,Ve?"translateX(-100%)":"translateX(100%)");const mt=(0,V.g)(je);Yt.afterAddWrite(()=>{"normal"===Yt.getDirection()&&mt.style.setProperty("display","none")})}else ae.fromTo("transform",`translateX(${Se})`,`translateX(${Ce})`).fromTo(rt,1,.8);if($e){const mt=Te($e).querySelector(".transition-effect");if(mt){const kt=mt.querySelector(".transition-cover"),St=mt.querySelector(".transition-shadow"),Wt=(0,l.c)(),jt=(0,l.c)(),An=(0,l.c)();Wt.addElement(mt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),jt.addElement(kt).beforeClearStyles([rt]).fromTo(rt,.1,0),An.addElement(St).beforeClearStyles([rt]).fromTo(rt,.7,.03),Wt.addAnimation([jt,An]),ae.addAnimation([Wt])}}De.forEach(mt=>{const kt=(0,l.c)();kt.addElement(mt);const St=(0,l.c)();St.addElement(mt.querySelector("ion-title"));const Wt=(0,l.c)(),jt=mt.querySelectorAll("ion-buttons,[menuToggle]"),An=mt.closest("ion-header"),Pt=null==An?void 0:An.classList.contains("header-collapse-condense-inactive"),wt=Array.from(jt).filter(jn=>{const mn=jn.classList.contains("buttons-collapse");return mn&&!Pt||!mn});Wt.addElement(wt);const bt=(0,l.c)(),Ut=mt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ut.length>0&&bt.addElement(Ut);const Zt=(0,l.c)();Zt.addElement(Te(mt).querySelector(".toolbar-background"));const Rn=(0,l.c)(),Pn=mt.querySelector("ion-back-button");if(Pn&&Rn.addElement(Pn),kt.addAnimation([St,Wt,bt,Rn,Zt]),Yt.addAnimation(kt),Rn.fromTo(rt,.99,0),Wt.fromTo(rt,.99,0),bt.fromTo(rt,.99,0),Le){if(Pt||St.fromTo("transform",`translateX(${Se})`,Ve?"translateX(-100%)":"translateX(100%)").fromTo(rt,.99,0),bt.fromTo("transform",`translateX(${Se})`,Ve?"translateX(-100%)":"translateX(100%)"),Zt.beforeClearStyles([rt,"transform"]),(null==An?void 0:An.translucent)?Zt.fromTo("transform","translateX(0px)",Ve?"translateX(-100%)":"translateX(100%)"):Zt.fromTo(rt,"var(--opacity)",0),Pn&&!ge){const mn=(0,l.c)();mn.addElement(Te(Pn).querySelector(".button-text")).fromTo("transform",`translateX(${Se})`,`translateX(${(Ve?-124:124)+"px"})`),kt.addAnimation(mn)}}else Pt||St.fromTo("transform",`translateX(${Se})`,`translateX(${Ce})`).fromTo(rt,.99,0).afterClearStyles([vt,rt]),bt.fromTo("transform",`translateX(${Se})`,`translateX(${Ce})`).afterClearStyles([vt,rt]),Rn.afterClearStyles([rt]),St.afterClearStyles([rt]),Wt.afterClearStyles([rt])})}return Yt}catch(ze){throw ze}},He=10},9023:(cn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{mdTransitionAnimation:()=>Pe});var l=N(6410),V=N(448);N(6225),N(5349);const Pe=(Ae,Te)=>{var Me,ot,ie;const Fe="back"===Te.direction,Ke=Te.leavingEl,Ze=(0,V.g)(Te.enteringEl),Qe=Ze.querySelector("ion-toolbar"),ze=(0,l.c)();if(ze.addElement(Ze).fill("both").beforeRemoveClass("ion-page-invisible"),Fe?ze.duration((null!==(Me=Te.duration)&&void 0!==Me?Me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ze.duration((null!==(ot=Te.duration)&&void 0!==ot?ot:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Qe){const rt=(0,l.c)();rt.addElement(Qe),ze.addAnimation(rt)}if(Ke&&Fe){ze.duration((null!==(ie=Te.duration)&&void 0!==ie?ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const rt=(0,l.c)();rt.addElement((0,V.g)(Ke)).onFinish(vt=>{1===vt&&rt.elements.length>0&&rt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ze.addAnimation(rt)}return ze}},7612:(cn,ft,N)=>{"use strict";N.d(ft,{B:()=>St,G:()=>Wt,a:()=>Be,b:()=>Fe,c:()=>Qe,d:()=>jt,e:()=>An,f:()=>ln,g:()=>fe,h:()=>$e,i:()=>ht,j:()=>rt,k:()=>vt,m:()=>Ke,n:()=>ie,o:()=>Ve,q:()=>Et,s:()=>kt});var l=N(5861),V=N(6225),ee=N(3882),de=N(6559),Pe=N(2124),Ae=N(839),Te=N(6710);let Me=0,ot=0;const ie=new WeakMap,me=Pt=>({create:wt=>Se(Pt,wt),dismiss:(wt,bt,Ut)=>Le(document,wt,bt,Pt,Ut),getTop:()=>(0,l.Z)(function*(){return Et(document,Pt)})()}),Be=me("ion-alert"),Fe=me("ion-action-sheet"),Ke=me("ion-modal"),Qe=me("ion-popover"),rt=Pt=>{typeof document<"u"&&je(document);const wt=Me++;Pt.overlayIndex=wt},vt=Pt=>(Pt.hasAttribute("id")||(Pt.id="ion-overlay-"+ ++ot),Pt.id),Se=(Pt,wt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pt).then(()=>{const bt=document.createElement(Pt);return bt.classList.add("overlay-hidden"),Object.assign(bt,Object.assign(Object.assign({},wt),{hasController:!0})),ge(document).appendChild(bt),new Promise(Ut=>(0,Ae.c)(bt,Ut))}):Promise.resolve(),Xe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ve=(Pt,wt)=>{let bt=Pt.querySelector(Xe);const Ut=null==bt?void 0:bt.shadowRoot;Ut&&(bt=Ut.querySelector(Xe)||bt),bt?(0,Ae.f)(bt):wt.focus()},Ce=(Pt,wt)=>{const bt=Array.from(Pt.querySelectorAll(Xe));let Ut=bt.length>0?bt[bt.length-1]:null;const Zt=null==Ut?void 0:Ut.shadowRoot;Zt&&(Ut=Zt.querySelector(Xe)||Ut),Ut?Ut.focus():wt.focus()},je=Pt=>{0===Me&&(Me=1,Pt.addEventListener("focus",wt=>{((Pt,wt)=>{const bt=Et(wt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ut=Pt.target;bt&&Ut&&!bt.classList.contains("ion-disable-focus-trap")&&(bt.shadowRoot?(()=>{if(bt.contains(Ut))bt.lastFocus=Ut;else{const Pn=bt.lastFocus;Ve(bt,bt),Pn===wt.activeElement&&Ce(bt,bt),bt.lastFocus=wt.activeElement}})():(()=>{if(bt===Ut)bt.lastFocus=void 0;else{const Pn=(0,Ae.g)(bt);if(!Pn.contains(Ut))return;const jn=Pn.querySelector(".ion-overlay-wrapper");if(!jn)return;if(jn.contains(Ut)||Ut===Pn.querySelector("ion-backdrop"))bt.lastFocus=Ut;else{const mn=bt.lastFocus;Ve(jn,bt),mn===wt.activeElement&&Ce(jn,bt),bt.lastFocus=wt.activeElement}}})())})(wt,Pt)},!0),Pt.addEventListener("ionBackButton",wt=>{const bt=Et(Pt);null!=bt&&bt.backdropDismiss&&wt.detail.register(Pe.OVERLAY_BACK_BUTTON_PRIORITY,()=>bt.dismiss(void 0,St))}),Pt.addEventListener("keydown",wt=>{if("Escape"===wt.key){const bt=Et(Pt);null!=bt&&bt.backdropDismiss&&bt.dismiss(void 0,St)}}))},Le=(Pt,wt,bt,Ut,Zt)=>{const Rn=Et(Pt,Ut,Zt);return Rn?Rn.dismiss(wt,bt):Promise.reject("overlay does not exist")},dt=(Pt,wt)=>((Pt,wt)=>(void 0===wt&&(wt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Pt.querySelectorAll(wt)).filter(bt=>bt.overlayIndex>0)))(Pt,wt).filter(bt=>!(Pt=>Pt.classList.contains("overlay-hidden"))(bt)),Et=(Pt,wt,bt)=>{const Ut=dt(Pt,wt);return void 0===bt?Ut[Ut.length-1]:Ut.find(Zt=>Zt.id===bt)},Yt=(Pt=!1)=>{const bt=ge(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");bt&&(Pt?bt.setAttribute("aria-hidden","true"):bt.removeAttribute("aria-hidden"))},ln=function(){var Pt=(0,l.Z)(function*(wt,bt,Ut,Zt,Rn){var Pn,jn;if(wt.presented)return;Yt(!0),wt.presented=!0,wt.willPresent.emit(),null===(Pn=wt.willPresentShorthand)||void 0===Pn||Pn.emit();const mn=(0,ee.b)(wt),Mn=wt.enterAnimation?wt.enterAnimation:ee.c.get(bt,"ios"===mn?Ut:Zt);(yield ae(wt,Mn,wt.el,Rn))&&(wt.didPresent.emit(),null===(jn=wt.didPresentShorthand)||void 0===jn||jn.emit()),"ION-TOAST"!==wt.el.tagName&&rn(wt.el),wt.keyboardClose&&(null===document.activeElement||!wt.el.contains(document.activeElement))&&wt.el.focus()});return function(bt,Ut,Zt,Rn,Pn){return Pt.apply(this,arguments)}}(),rn=function(){var Pt=(0,l.Z)(function*(wt){let bt=document.activeElement;if(!bt)return;const Ut=null==bt?void 0:bt.shadowRoot;Ut&&(bt=Ut.querySelector(Xe)||bt),yield wt.onDidDismiss(),bt.focus()});return function(bt){return Pt.apply(this,arguments)}}(),fe=function(){var Pt=(0,l.Z)(function*(wt,bt,Ut,Zt,Rn,Pn,jn){var mn,Mn;if(!wt.presented)return!1;void 0!==V.d&&1===dt(V.d).length&&Yt(!1),wt.presented=!1;try{wt.el.style.setProperty("pointer-events","none"),wt.willDismiss.emit({data:bt,role:Ut}),null===(mn=wt.willDismissShorthand)||void 0===mn||mn.emit({data:bt,role:Ut});const Xn=(0,ee.b)(wt),Hr=wt.leaveAnimation?wt.leaveAnimation:ee.c.get(Zt,"ios"===Xn?Rn:Pn);Ut!==Wt&&(yield ae(wt,Hr,wt.el,jn)),wt.didDismiss.emit({data:bt,role:Ut}),null===(Mn=wt.didDismissShorthand)||void 0===Mn||Mn.emit({data:bt,role:Ut}),ie.delete(wt),wt.el.classList.add("overlay-hidden"),wt.el.style.removeProperty("pointer-events"),void 0!==wt.el.lastFocus&&(wt.el.lastFocus=void 0)}catch(Xn){console.error(Xn)}return wt.el.remove(),!0});return function(bt,Ut,Zt,Rn,Pn,jn,mn){return Pt.apply(this,arguments)}}(),ge=Pt=>Pt.querySelector("ion-app")||Pt.body,ae=function(){var Pt=(0,l.Z)(function*(wt,bt,Ut,Zt){Ut.classList.remove("overlay-hidden");const Pn=bt(wt.el,Zt);(!wt.animated||!ee.c.getBoolean("animated",!0))&&Pn.duration(0),wt.keyboardClose&&Pn.beforeAddWrite(()=>{const mn=Ut.ownerDocument.activeElement;null!=mn&&mn.matches("input,ion-input, ion-textarea")&&mn.blur()});const jn=ie.get(wt)||[];return ie.set(wt,[...jn,Pn]),yield Pn.play(),!0});return function(bt,Ut,Zt,Rn){return Pt.apply(this,arguments)}}(),$e=(Pt,wt)=>{let bt;const Ut=new Promise(Zt=>bt=Zt);return De(Pt,wt,Zt=>{bt(Zt.detail)}),Ut},De=(Pt,wt,bt)=>{const Ut=Zt=>{(0,Ae.b)(Pt,wt,Ut),bt(Zt)};(0,Ae.a)(Pt,wt,Ut)},ht=Pt=>"cancel"===Pt||Pt===St,mt=Pt=>Pt(),kt=(Pt,wt)=>{if("function"==typeof Pt)return ee.c.get("_zoneGate",mt)(()=>{try{return Pt(wt)}catch(Ut){throw Ut}})},St="backdrop",Wt="gesture",jt=Pt=>{let bt,wt=!1;const Ut=(0,de.C)(),Zt=(jn=!1)=>{if(bt&&!jn)return{delegate:bt,inline:wt};const{el:mn,hasController:Mn,delegate:Xn}=Pt;return wt=null!==mn.parentNode&&!Mn,bt=wt?Xn||Ut:Xn,{inline:wt,delegate:bt}};return{attachViewToDom:function(){var jn=(0,l.Z)(function*(mn){const{delegate:Mn}=Zt(!0);if(Mn)return yield Mn.attachViewToDom(Pt.el,mn);const{hasController:Xn}=Pt;if(Xn&&void 0!==mn)throw new Error("framework delegate is missing");return null});return function(Mn){return jn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:jn}=Zt();jn&&void 0!==Pt.el&&jn.removeViewFromDom(Pt.el.parentElement,Pt.el)}}},An=()=>{let Pt;const wt=()=>{Pt&&(Pt(),Pt=void 0)};return{addClickListener:(Ut,Zt)=>{wt();const Rn=void 0!==Zt?document.getElementById(Zt):null;Rn?Pt=((jn,mn)=>{const Mn=()=>{mn.present()};return jn.addEventListener("click",Mn),()=>{jn.removeEventListener("click",Mn)}})(Rn,Ut):(0,Te.p)(`A trigger element with the ID "${Zt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ut)},removeClickListener:wt}}},2535:(cn,ft,N)=>{"use strict";var l=N(6593),V=N(5879),ee=N(2692),de=N(4414),Pe=N(6728),Ae=N(6814);function Te(p,d){if(1&p&&(V.TgZ(0,"ion-menu-toggle")(1,"ion-item",3),V._UZ(2,"ion-icon",4),V._uU(3),V.qZA()()),2&p){const h=d.$implicit;V.xp6(1),V.Q6J("routerLink",h.redirecTo),V.xp6(1),V.Q6J("name",h.icon),V.xp6(1),V.hij(" ",h.name," ")}}let Me=(()=>{var p;class d{constructor(){this.componentes=[{name:"Login Alumno",icon:"accessibility-outline",redirecTo:"/inicio"},{name:"Registrarse | Alumno",icon:"person-add-outline",redirecTo:"/registro-usuario"},{name:"About Us ",icon:"happy-outline",redirecTo:"/about"}]}}return(p=d).\u0275fac=function(v){return new(v||p)},p.\u0275cmp=V.Xpm({type:p,selectors:[["app-root"]],decls:9,vars:1,consts:[["contentId","main","menuId","first","side","start","swipe-gesture","false"],[4,"ngFor","ngForOf"],["id","main"],["detail","true",3,"routerLink"],["slot","start",3,"name"]],template:function(v,b){1&v&&(V.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),V._uU(5,"RegistrAPP"),V.qZA()()(),V.TgZ(6,"ion-content"),V.YNc(7,Te,4,3,"ion-menu-toggle",1),V.qZA()(),V._UZ(8,"ion-router-outlet",2),V.qZA()),2&v&&(V.xp6(7),V.Q6J("ngForOf",b.componentes))},dependencies:[Ae.sg,Pe.dr,Pe.W2,Pe.Gu,Pe.gu,Pe.Ie,Pe.z0,Pe.zc,Pe.wd,Pe.sr,Pe.jP,Pe.YI,ee.rH]}),d})();const ot=[{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",loadChildren:()=>Promise.all([N.e(7104),N.e(8592),N.e(6678)]).then(N.bind(N,6678)).then(p=>p.InicioPageModule)},{path:"about",loadChildren:()=>N.e(2841).then(N.bind(N,2841)).then(p=>p.AboutPageModule)},{path:"registro",loadChildren:()=>N.e(9308).then(N.bind(N,9308)).then(p=>p.RegistroPageModule)},{path:"registro-usuario",loadChildren:()=>Promise.all([N.e(7104),N.e(8592),N.e(8123)]).then(N.bind(N,8123)).then(p=>p.RegistroUsuarioPageModule)},{path:"restablecer-pass",loadChildren:()=>N.e(2732).then(N.bind(N,2732)).then(p=>p.RestablecerPassPageModule)},{path:"home-alumno",loadChildren:()=>Promise.all([N.e(7104),N.e(5870)]).then(N.bind(N,5870)).then(p=>p.HomeAlumnoPageModule)},{path:"feriados",loadChildren:()=>N.e(7799).then(N.bind(N,7799)).then(p=>p.FeriadosPageModule)},{path:"asistencia",loadChildren:()=>N.e(1579).then(N.bind(N,1579)).then(p=>p.AsistenciaPageModule)},{path:"perfi-usuario",loadChildren:()=>Promise.all([N.e(7104),N.e(9818)]).then(N.bind(N,9818)).then(p=>p.PerfiUsuarioPageModule)}];let ie=(()=>{var p;class d{}return(p=d).\u0275fac=function(v){return new(v||p)},p.\u0275mod=V.oAB({type:p}),p.\u0275inj=V.cJS({imports:[ee.Bz.forRoot(ot,{preloadingStrategy:ee.wm}),ee.Bz]}),d})();var me=N(95),Be=N(9862),Fe=N(7217),He=N(1180),Ke=N(3182),Ze=N(1920);class Qe{constructor(d){return d}}class ze{constructor(){return(0,Ke.C6)()}}const Se=new V.OlP("angularfire2._apps"),Xe={provide:Qe,useFactory:function vt(p){return p&&1===p.length?p[0]:new Qe((0,Ke.Mq)())},deps:[[new V.FiY,Se]]},Ve={provide:ze,deps:[[new V.FiY,Se]]};function Oe(p){return(d,h)=>{const v=d.runOutsideAngular(()=>p(h));return new Qe(v)}}let Ce=(()=>{var p;class d{constructor(v){(0,Ke.KN)("angularfire",Ze.q4.full,"core"),(0,Ke.KN)("angularfire",Ze.q4.full,"app"),(0,Ke.KN)("angular",V.q4F.full,v.toString())}}return p=d,(0,He.Z)(d,"\u0275fac",function(v){return new(v||p)(V.LFG(V.Lbi))}),(0,He.Z)(d,"\u0275mod",V.oAB({type:p})),(0,He.Z)(d,"\u0275inj",V.cJS({providers:[Xe,Ve]})),d})();function te(p,...d){return{ngModule:Ce,providers:[{provide:Se,useFactory:Oe(p),multi:!0,deps:[V.R0b,V.zs3,Ze.HU,...d]}]}}const Le=(0,Ze.u3)(Ke.Mq,!0),dt=(0,Ze.u3)(Ke.ZF,!0);var rn=N(4562),fe=N(9058),ge=N(534),ae=N(7879),$e=N(4537);class ht{constructor(d){return d}}class mt{constructor(){return(0,Ze.vb)("auth")}}const St=new V.OlP("angularfire2.auth-instances");function jt(p){return(d,h)=>{const v=d.runOutsideAngular(()=>p(h));return new ht(v)}}const An={provide:mt,deps:[[new V.FiY,St]]},Pt={provide:ht,useFactory:function Wt(p,d){const h=(0,Ze.JM)("auth",p,d);return h&&new ht(h)},deps:[[new V.FiY,St],Qe]};let wt=(()=>{var p;class d{constructor(){(0,Ke.KN)("angularfire",Ze.q4.full,"auth")}}return p=d,(0,He.Z)(d,"\u0275fac",function(v){return new(v||p)}),(0,He.Z)(d,"\u0275mod",V.oAB({type:p})),(0,He.Z)(d,"\u0275inj",V.cJS({providers:[Pt,An]})),d})();function bt(p,...d){return{ngModule:wt,providers:[{provide:St,useFactory:jt(p),multi:!0,deps:[V.R0b,V.zs3,Ze.HU,ze,[new V.FiY,Ze.Rf],...d]}]}}const fr=(0,Ze.u3)(rn.o,!0);var cr=N(5776);class _r{constructor(d){return d}}const ir="firestore",lr=new V.OlP("angularfire2.firestore-instances");function pr(p){return(d,h)=>{const v=d.runOutsideAngular(()=>p(h));return new _r(v)}}const br={provide:class Or{constructor(){return(0,Ze.vb)(ir)}},deps:[[new V.FiY,lr]]},Ln={provide:_r,useFactory:function Mr(p,d){const h=(0,Ze.JM)(ir,p,d);return h&&new _r(h)},deps:[[new V.FiY,lr],Qe]};let zr=(()=>{var p;class d{constructor(){(0,Ke.KN)("angularfire",Ze.q4.full,"fst")}}return p=d,(0,He.Z)(d,"\u0275fac",function(v){return new(v||p)}),(0,He.Z)(d,"\u0275mod",V.oAB({type:p})),(0,He.Z)(d,"\u0275inj",V.cJS({providers:[Ln,br]})),d})();function Pi(p,...d){return{ngModule:zr,providers:[{provide:lr,useFactory:pr(p),multi:!0,deps:[V.R0b,V.zs3,Ze.HU,ze,[new V.FiY,mt],[new V.FiY,Ze.Rf],...d]}]}}const ve=(0,Ze.u3)(cr.ad,!0);var Aa=N(5861);const Qo="@firebase/database";let qa="";class uu{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,h){null==h?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,fe.Wl)(h))}get(d){const h=this.domStorage_.getItem(this.prefixedName_(d));return null==h?null:(0,fe.cI)(h)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class Ti{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,h){null==h?delete this.cache_[d]:this.cache_[d]=h}get(d){return(0,fe.r3)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const ml=function(p){try{if(typeof window<"u"&&typeof window[p]<"u"){const d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new uu(d)}}catch{}return new Ti},fs=ml("localStorage"),q=ml("sessionStorage"),k=new ae.Yd("@firebase/database"),_e=function(){let p=1;return function(){return p++}}(),H=function(p){const d=(0,fe.dS)(p),h=new fe.gQ;h.update(d);const v=h.digest();return fe.US.encodeByteArray(v)},be=function(...p){let d="";for(let h=0;h<p.length;h++){const v=p[h];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?d+=be.apply(null,v):d+="object"==typeof v?(0,fe.Wl)(v):v,d+=" "}return d};let zt=null,$n=!0;const ai=function(...p){if(!0===$n&&($n=!1,null===zt&&!0===q.get("logging_enabled")&&function(p,d){(0,fe.hu)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(k.logLevel=ae.in.VERBOSE,zt=k.log.bind(k),d&&q.set("logging_enabled",!0)):"function"==typeof p?zt=p:(zt=null,q.remove("logging_enabled"))}(!0)),zt){const d=be.apply(null,p);zt(d)}},Ro=function(p){return function(...d){ai(p,...d)}},vo=function(...p){const d="FIREBASE INTERNAL ERROR: "+be(...p);k.error(d)},Li=function(...p){const d=`FIREBASE FATAL ERROR: ${be(...p)}`;throw k.error(d),new Error(d)},fo=function(...p){const d="FIREBASE WARNING: "+be(...p);k.warn(d)},Di=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},mi="[MIN_NAME]",jo="[MAX_NAME]",bs=function(p,d){if(p===d)return 0;if(p===mi||d===jo)return-1;if(d===mi||p===jo)return 1;{const h=Ya(p),v=Ya(d);return null!==h?null!==v?h-v==0?p.length-d.length:h-v:-1:null!==v?1:p<d?-1:1}},la=function(p,d){return p===d?0:p<d?-1:1},yo=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,fe.Wl)(d))},ps=function(p){if("object"!=typeof p||null===p)return(0,fe.Wl)(p);const d=[];for(const v in p)d.push(v);d.sort();let h="{";for(let v=0;v<d.length;v++)0!==v&&(h+=","),h+=(0,fe.Wl)(d[v]),h+=":",h+=ps(p[d[v]]);return h+="}",h},Fl=function(p,d){const h=p.length;if(h<=d)return[p];const v=[];for(let b=0;b<h;b+=d)v.push(p.substring(b,b+d>h?h:b+d));return v};function wi(p,d){for(const h in p)p.hasOwnProperty(h)&&d(h,p[h])}const _l=function(p){(0,fe.hu)(!Di(p),"Invalid JSON number");const v=1023;let b,B,K,we,We;0===p?(B=0,K=0,b=1/p==-1/0?1:0):(b=p<0,(p=Math.abs(p))>=Math.pow(2,1-v)?(we=Math.min(Math.floor(Math.log(p)/Math.LN2),v),B=we+v,K=Math.round(p*Math.pow(2,52-we)-Math.pow(2,52))):(B=0,K=Math.round(p/Math.pow(2,-1074))));const lt=[];for(We=52;We;We-=1)lt.push(K%2?1:0),K=Math.floor(K/2);for(We=11;We;We-=1)lt.push(B%2?1:0),B=Math.floor(B/2);lt.push(b?1:0),lt.reverse();const $t=lt.join("");let qt="";for(We=0;We<64;We+=8){let tn=parseInt($t.substr(We,8),2).toString(16);1===tn.length&&(tn="0"+tn),qt+=tn}return qt.toLowerCase()},vl=new RegExp("^-?(0*)\\d{1,10}$"),Ya=function(p){if(vl.test(p)){const d=Number(p);if(d>=-2147483648&&d<=2147483647)return d}return null},ua=function(p){try{p()}catch(d){setTimeout(()=>{throw fo("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},Ka=function(p,d){const h=setTimeout(p,d);return"number"==typeof h&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(h):"object"==typeof h&&h.unref&&h.unref(),h};class Yu{constructor(d,h){this.appName_=d,this.appCheckProvider=h,this.appCheck=null==h?void 0:h.getImmediate({optional:!0}),this.appCheck||null==h||h.get().then(v=>this.appCheck=v)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((h,v)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(h,v):h(null)},0)})}addTokenChangeListener(d){var h;null===(h=this.appCheckProvider)||void 0===h||h.get().then(v=>v.addTokenListener(d))}notifyForInvalidToken(){fo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ms{constructor(d,h,v){this.appName_=d,this.firebaseOptions_=h,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(b=>this.auth_=b)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(h=>h&&"auth/token-not-initialized"===h.code?(ai("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(h)):new Promise((h,v)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(h,v):h(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(h=>h.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(h=>h.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fo(d)}}let is=(()=>{class p{constructor(h){this.accessToken=h}getToken(h){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(h){h(this.accessToken)}removeTokenChangeListener(h){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const Bl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,A="ac",z="websocket",ke="long_polling";class U{constructor(d,h,v,b,B=!1,K="",we=!1,We=!1){this.secure=h,this.namespace=v,this.webSocketOnly=b,this.nodeAdmin=B,this.persistenceKey=K,this.includeNamespaceInQueryParams=we,this.isUsingEmulator=We,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Je(p,d,h){let v;if((0,fe.hu)("string"==typeof d,"typeof type must == string"),(0,fe.hu)("object"==typeof h,"typeof params must == object"),d===z)v=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==ke)throw new Error("Unknown connection type: "+d);v=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function Ie(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(h.ns=p.namespace);const b=[];return wi(h,(B,K)=>{b.push(B+"="+K)}),v+b.join("&")}class Vt{constructor(){this.counters_={}}incrementCounter(d,h=1){(0,fe.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=h}get(){return(0,fe.p$)(this.counters_)}}const dn={},Tr={};function vr(p){const d=p.toString();return dn[d]||(dn[d]=new Vt),dn[d]}class Gn{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,h){this.closeAfterResponse=d,this.onClose=h,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,h){for(this.pendingResponses[d]=h;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let b=0;b<v.length;++b)v[b]&&ua(()=>{this.onMessage_(v[b])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class bo{constructor(d,h,v,b,B,K,we){this.connId=d,this.repoInfo=h,this.applicationId=v,this.appCheckToken=b,this.authToken=B,this.transportSessionId=K,this.lastSessionId=we,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ro(d),this.stats_=vr(h),this.urlFn=We=>(this.appCheckToken&&(We[A]=this.appCheckToken),Je(h,ke,We))}open(d,h){this.curSegmentNum=0,this.onDisconnect_=h,this.myPacketOrderer=new Gn(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,fe.Yr)()||"complete"===document.readyState)p();else{let d=!1;const h=function(){document.body?d||(d=!0,p()):setTimeout(h,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",h,!1),window.addEventListener("load",h,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&h()}),window.attachEvent("onload",h))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ul((...B)=>{const[K,we,We,lt,$t]=B;if(this.incrementIncomingBytes_(B),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===K)this.id=we,this.password=We;else{if("close"!==K)throw new Error("Unrecognized command received: "+K);we?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(we,()=>{this.onClosed_()})):this.onClosed_()}},(...B)=>{const[K,we]=B;this.incrementIncomingBytes_(B),this.myPacketOrderer.handleResponse(K,we)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v[A]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bl.test(location.hostname)&&(v.r="f");const b=this.urlFn(v);this.log_("Connecting via long-poll to "+b),this.scriptTagHolder.addTag(b,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bo.forceAllow_=!0}static forceDisallow(){bo.forceDisallow_=!0}static isAvailable(){return!((0,fe.Yr)()||!bo.forceAllow_&&(bo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const h=(0,fe.Wl)(d);this.bytesSent+=h.length,this.stats_.incrementCounter("bytes_sent",h.length);const v=(0,fe.h$)(h),b=Fl(v,1840);for(let B=0;B<b.length;B++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,b.length,b[B]),this.curSegmentNum++}addDisconnectPingFrame(d,h){if((0,fe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=d,v.pw=h,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const h=(0,fe.Wl)(d).length;this.bytesReceived+=h,this.stats_.incrementCounter("bytes_received",h)}}class Ul{constructor(d,h,v,b){if(this.onDisconnect=v,this.urlFn=b,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,fe.Yr)())this.commandCB=d,this.onMessageCB=h;else{this.uniqueCallbackIdentifier=_e(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=h,this.myIFrame=Ul.createIFrame_();let B="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(B='<script>document.domain="'+document.domain+'";<\/script>');const K="<html><body>"+B+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(K),this.myIFrame.doc.close()}catch(we){ai("frame writing exception"),we.stack&&ai(we.stack),ai(we)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||ai("No IE domain setting required")}catch{const v=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,h){for(this.myID=d,this.myPW=h,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let h=this.urlFn(d),v="",b=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const K=this.pendingSegs.shift();v=v+"&seg"+b+"="+K.seg+"&ts"+b+"="+K.ts+"&d"+b+"="+K.d,b++}return h+=v,this.addLongPollTag_(h,this.currentSerial),!0}return!1}enqueueSegment(d,h,v){this.pendingSegs.push({seg:d,ts:h,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(d,h){this.outstandingRequests.add(h);const v=()=>{this.outstandingRequests.delete(h),this.newRequest_()},b=setTimeout(v,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(b),v()})}addTag(d,h){(0,fe.Yr)()?this.doNodeLongPoll(d,h):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=d,v.onload=v.onreadystatechange=function(){const b=v.readyState;(!b||"loaded"===b||"complete"===b)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),h())},v.onerror=()=>{ai("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch{}},Math.floor(1))}}let ls=null;typeof MozWebSocket<"u"?ls=MozWebSocket:typeof WebSocket<"u"&&(ls=WebSocket);let Sa=(()=>{class p{constructor(h,v,b,B,K,we,We){this.connId=h,this.applicationId=b,this.appCheckToken=B,this.authToken=K,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ro(this.connId),this.stats_=vr(v),this.connURL=p.connectionURL_(v,we,We,B,b),this.nodeAdmin=v.nodeAdmin}static connectionURL_(h,v,b,B,K){const we={v:"5"};return!(0,fe.Yr)()&&typeof location<"u"&&location.hostname&&Bl.test(location.hostname)&&(we.r="f"),v&&(we.s=v),b&&(we.ls=b),B&&(we[A]=B),K&&(we.p=K),Je(h,z,we)}open(h,v){this.onDisconnect=v,this.onMessage=h,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let b;if((0,fe.Yr)()){b={headers:{"User-Agent":`Firebase/5/${qa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(b.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(b.headers["X-Firebase-AppCheck"]=this.appCheckToken);const K=process.env,we=0===this.connURL.indexOf("wss://")?K.HTTPS_PROXY||K.https_proxy:K.HTTP_PROXY||K.http_proxy;we&&(b.proxy={origin:we})}this.mySock=new ls(this.connURL,[],b)}catch(b){this.log_("Error instantiating WebSocket.");const B=b.message||b.data;return B&&this.log_(B),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=b=>{this.handleIncomingFrame(b)},this.mySock.onerror=b=>{this.log_("WebSocket error.  Closing connection.");const B=b.message||b.data;B&&this.log_(B),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let h=!1;if(typeof navigator<"u"&&navigator.userAgent){const b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(h=!0)}return!h&&null!==ls&&!p.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||!0===fs.get("previous_websocket_failure")}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(h){if(this.frames.push(h),this.frames.length===this.totalFrames){const v=this.frames.join("");this.frames=null;const b=(0,fe.cI)(v);this.onMessage(b)}}handleNewFrameCount_(h){this.totalFrames=h,this.frames=[]}extractFrameCount_(h){if((0,fe.hu)(null===this.frames,"We already have a frame buffer"),h.length<=6){const v=Number(h);if(!isNaN(v))return this.handleNewFrameCount_(v),null}return this.handleNewFrameCount_(1),h}handleIncomingFrame(h){if(null===this.mySock)return;const v=h.data;if(this.bytesReceived+=v.length,this.stats_.incrementCounter("bytes_received",v.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(v);else{const b=this.extractFrameCount_(v);null!==b&&this.appendFrame_(b)}}send(h){this.resetKeepAlive();const v=(0,fe.Wl)(h);this.bytesSent+=v.length,this.stats_.incrementCounter("bytes_sent",v.length);const b=Fl(v,16384);b.length>1&&this.sendString_(String(b.length));for(let B=0;B<b.length;B++)this.sendString_(b[B])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(h){try{this.mySock.send(h)}catch(v){this.log_("Exception thrown from WebSocket.send():",v.message||v.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),Vh=(()=>{class p{constructor(h){this.initTransports_(h)}static get ALL_TRANSPORTS(){return[bo,Sa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(h){const v=Sa&&Sa.isAvailable();let b=v&&!Sa.previouslyFailed();if(h.webSocketOnly&&(v||fo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),b=!0),b)this.transports_=[Sa];else{const B=this.transports_=[];for(const K of p.ALL_TRANSPORTS)K&&K.isAvailable()&&B.push(K);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class ha{constructor(d,h,v,b,B,K,we,We,lt,$t){this.id=d,this.repoInfo_=h,this.applicationId_=v,this.appCheckToken_=b,this.authToken_=B,this.onMessage_=K,this.onReady_=we,this.onDisconnect_=We,this.onKill_=lt,this.lastSessionId=$t,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ro("c:"+this.id+":"),this.transportManager_=new Vh(h),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(h,v)},Math.floor(0));const b=d.healthyTimeout||0;b>0&&(this.healthyTimeout_=Ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(b)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return h=>{d===this.conn_?this.onConnectionLost_(h):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return h=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(h):d===this.secondaryConn_?this.onSecondaryMessageReceived_(h):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const h=d.t;"a"===h?this.upgradeIfSecondaryHealthy_():"r"===h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===h&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const h=yo("t",d),v=yo("d",d);if("c"===h)this.onSecondaryControl_(v);else{if("d"!==h)throw new Error("Unknown protocol layer: "+h);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const h=yo("t",d),v=yo("d",d);"c"===h?this.onControl_(v):"d"===h&&this.onDataMessage_(v)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const h=yo("t",d);if("d"in d){const v=d.d;if("h"===h){const b=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(b.h=this.repoInfo_.host),this.onHandshake_(b)}else if("n"===h){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let b=0;b<this.pendingDataMessages.length;++b)this.onDataMessage_(this.pendingDataMessages[b]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===h?this.onConnectionShutdown_(v):"r"===h?this.onReset_(v):"e"===h?vo("Server Error: "+v):"o"===h?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vo("Unknown control packet command: "+h)}}onHandshake_(d){const h=d.ts,v=d.v,b=d.h;this.sessionId=d.s,this.repoInfo_.host=b,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,h),"5"!==v&&fo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const h=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(h,v),Ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,h){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(h,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Sd{put(d,h,v,b){}merge(d,h,v,b){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,h,v){}onDisconnectMerge(d,h,v){}onDisconnectCancel(d,h){}reportStats(d){}}class Qa{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,fe.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...h){if(Array.isArray(this.listeners_[d])){const v=[...this.listeners_[d]];for(let b=0;b<v.length;b++)v[b].callback.apply(v[b].context,h)}}on(d,h,v){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:h,context:v});const b=this.getInitialEvent(d);b&&h.apply(v,b)}off(d,h,v){this.validateEventType_(d);const b=this.listeners_[d]||[];for(let B=0;B<b.length;B++)if(b[B].callback===h&&(!v||v===b[B].context))return void b.splice(B,1)}validateEventType_(d){(0,fe.hu)(this.allowedEvents_.find(h=>h===d),"Unknown event: "+d)}}class en extends Qa{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,fe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new en}getInitialEvent(d){return(0,fe.hu)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class _i{constructor(d,h){if(void 0===h){this.pieces_=d.split("/");let v=0;for(let b=0;b<this.pieces_.length;b++)this.pieces_[b].length>0&&(this.pieces_[v]=this.pieces_[b],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=h}toString(){let d="";for(let h=this.pieceNum_;h<this.pieces_.length;h++)""!==this.pieces_[h]&&(d+="/"+this.pieces_[h]);return d||"/"}}function Qn(){return new _i("")}function xr(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function os(p){return p.pieces_.length-p.pieceNum_}function Xr(p){let d=p.pieceNum_;return d<p.pieces_.length&&d++,new _i(p.pieces_,d)}function Ss(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Dt(p,d=0){return p.pieces_.slice(p.pieceNum_+d)}function Pa(p){if(p.pieceNum_>=p.pieces_.length)return null;const d=[];for(let h=p.pieceNum_;h<p.pieces_.length-1;h++)d.push(p.pieces_[h]);return new _i(d,0)}function ni(p,d){const h=[];for(let v=p.pieceNum_;v<p.pieces_.length;v++)h.push(p.pieces_[v]);if(d instanceof _i)for(let v=d.pieceNum_;v<d.pieces_.length;v++)h.push(d.pieces_[v]);else{const v=d.split("/");for(let b=0;b<v.length;b++)v[b].length>0&&h.push(v[b])}return new _i(h,0)}function or(p){return p.pieceNum_>=p.pieces_.length}function Ni(p,d){const h=xr(p),v=xr(d);if(null===h)return d;if(h===v)return Ni(Xr(p),Xr(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function fa(p,d){if(os(p)!==os(d))return!1;for(let h=p.pieceNum_,v=d.pieceNum_;h<=p.pieces_.length;h++,v++)if(p.pieces_[h]!==d.pieces_[v])return!1;return!0}function Yi(p,d){let h=p.pieceNum_,v=d.pieceNum_;if(os(p)>os(d))return!1;for(;h<p.pieces_.length;){if(p.pieces_[h]!==d.pieces_[v])return!1;++h,++v}return!0}class Zu{constructor(d,h){this.errorPrefix_=h,this.parts_=Dt(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,fe.ug)(this.parts_[v]);O(this)}}function O(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+T(p))}function T(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class L extends Qa{constructor(){let d,h;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(h="visibilitychange",d="hidden"):typeof document.mozHidden<"u"?(h="mozvisibilitychange",d="mozHidden"):typeof document.msHidden<"u"?(h="msvisibilitychange",d="msHidden"):typeof document.webkitHidden<"u"&&(h="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,h&&document.addEventListener(h,()=>{const v=!document[d];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new L}getInitialEvent(d){return(0,fe.hu)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const ne=1e3;let Ao,Gr=(()=>{class p extends Sd{constructor(h,v,b,B,K,we,We,lt){if(super(),this.repoInfo_=h,this.applicationId_=v,this.onDataUpdate_=b,this.onConnectStatus_=B,this.onServerInfoUpdate_=K,this.authTokenProvider_=we,this.appCheckTokenProvider_=We,this.authOverride_=lt,this.id=p.nextPersistentConnectionId_++,this.log_=Ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ne,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,lt&&!(0,fe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");L.getInstance().on("visible",this.onVisible_,this),-1===h.host.indexOf("fblocal")&&en.getInstance().on("online",this.onOnline_,this)}sendRequest(h,v,b){const B=++this.requestNumber_,K={r:B,a:h,b:v};this.log_((0,fe.Wl)(K)),(0,fe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(K),b&&(this.requestCBHash_[B]=b)}get(h){this.initConnection_();const v=new fe.BH,B={action:"g",request:{p:h._path.toString(),q:h._queryObject},onComplete:we=>{const We=we.d;"ok"===we.s?v.resolve(We):v.reject(We)}};return this.outstandingGets_.push(B),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),v.promise}listen(h,v,b,B){this.initConnection_();const K=h._queryIdentifier,we=h._path.toString();this.log_("Listen called for "+we+" "+K),this.listens.has(we)||this.listens.set(we,new Map),(0,fe.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,fe.hu)(!this.listens.get(we).has(K),"listen() called twice for same path/queryId.");const We={onComplete:B,hashFn:v,query:h,tag:b};this.listens.get(we).set(K,We),this.connected_&&this.sendListen_(We)}sendGet_(h){const v=this.outstandingGets_[h];this.sendRequest("g",v.request,b=>{delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),v.onComplete&&v.onComplete(b)})}sendListen_(h){const v=h.query,b=v._path.toString(),B=v._queryIdentifier;this.log_("Listen on "+b+" for "+B);const K={p:b};h.tag&&(K.q=v._queryObject,K.t=h.tag),K.h=h.hashFn(),this.sendRequest("q",K,We=>{const lt=We.d,$t=We.s;p.warnOnListenWarnings_(lt,v),(this.listens.get(b)&&this.listens.get(b).get(B))===h&&(this.log_("listen response",We),"ok"!==$t&&this.removeListen_(b,B),h.onComplete&&h.onComplete($t,lt))})}static warnOnListenWarnings_(h,v){if(h&&"object"==typeof h&&(0,fe.r3)(h,"w")){const b=(0,fe.DV)(h,"w");if(Array.isArray(b)&&~b.indexOf("no_index")){const B='".indexOn": "'+v._queryParams.getIndex().toString()+'"',K=v._path.toString();fo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${B} at ${K} to your security rules for better performance.`)}}}refreshAuthToken(h){this.authToken_=h,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(h)}reduceReconnectDelayIfAdminCredential_(h){(h&&40===h.length||(0,fe.GJ)(h))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(h){this.appCheckToken_=h,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const h=this.authToken_,v=(0,fe.w9)(h)?"auth":"gauth",b={cred:h};null===this.authOverride_?b.noauth=!0:"object"==typeof this.authOverride_&&(b.authvar=this.authOverride_),this.sendRequest(v,b,B=>{const K=B.s,we=B.d||"error";this.authToken_===h&&("ok"===K?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(K,we))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},h=>{const v=h.s,b=h.d||"error";"ok"===v?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(v,b)})}unlisten(h,v){const b=h._path.toString(),B=h._queryIdentifier;this.log_("Unlisten called for "+b+" "+B),(0,fe.hu)(h._queryParams.isDefault()||!h._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(b,B)&&this.connected_&&this.sendUnlisten_(b,B,h._queryObject,v)}sendUnlisten_(h,v,b,B){this.log_("Unlisten on "+h+" for "+v);const K={p:h};B&&(K.q=b,K.t=B),this.sendRequest("n",K)}onDisconnectPut(h,v,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",h,v,b):this.onDisconnectRequestQueue_.push({pathString:h,action:"o",data:v,onComplete:b})}onDisconnectMerge(h,v,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",h,v,b):this.onDisconnectRequestQueue_.push({pathString:h,action:"om",data:v,onComplete:b})}onDisconnectCancel(h,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",h,null,v):this.onDisconnectRequestQueue_.push({pathString:h,action:"oc",data:null,onComplete:v})}sendOnDisconnect_(h,v,b,B){const K={p:v,d:b};this.log_("onDisconnect "+h,K),this.sendRequest(h,K,we=>{B&&setTimeout(()=>{B(we.s,we.d)},Math.floor(0))})}put(h,v,b,B){this.putInternal("p",h,v,b,B)}merge(h,v,b,B){this.putInternal("m",h,v,b,B)}putInternal(h,v,b,B,K){this.initConnection_();const we={p:v,d:b};void 0!==K&&(we.h=K),this.outstandingPuts_.push({action:h,request:we,onComplete:B}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+v)}sendPut_(h){const v=this.outstandingPuts_[h].action,b=this.outstandingPuts_[h].request,B=this.outstandingPuts_[h].onComplete;this.outstandingPuts_[h].queued=this.connected_,this.sendRequest(v,b,K=>{this.log_(v+" response",K),delete this.outstandingPuts_[h],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),B&&B(K.s,K.d)})}reportStats(h){if(this.connected_){const v={c:h};this.log_("reportStats",v),this.sendRequest("s",v,b=>{"ok"!==b.s&&this.log_("reportStats","Error sending stats: "+b.d)})}}onDataMessage_(h){if("r"in h){this.log_("from server: "+(0,fe.Wl)(h));const v=h.r,b=this.requestCBHash_[v];b&&(delete this.requestCBHash_[v],b(h.b))}else{if("error"in h)throw"A server-side error has occurred: "+h.error;"a"in h&&this.onDataPush_(h.a,h.b)}}onDataPush_(h,v){this.log_("handleServerMessage",h,v),"d"===h?this.onDataUpdate_(v.p,v.d,!1,v.t):"m"===h?this.onDataUpdate_(v.p,v.d,!0,v.t):"c"===h?this.onListenRevoked_(v.p,v.q):"ac"===h?this.onAuthRevoked_(v.s,v.d):"apc"===h?this.onAppCheckRevoked_(v.s,v.d):"sd"===h?this.onSecurityDebugPacket_(v):vo("Unrecognized action received from server: "+(0,fe.Wl)(h)+"\nAre you using the latest client?")}onReady_(h,v){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(h),this.lastSessionId=v,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(h){(0,fe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(h))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(h){h&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ne,this.realtime_||this.scheduleConnect_(0)),this.visible_=h}onOnline_(h){h?(this.log_("Browser went online."),this.reconnectDelay_=ne,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ne),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const h=(new Date).getTime()-this.lastConnectionAttemptTime_;let v=Math.max(0,this.reconnectDelay_-h);v=Math.random()*v,this.log_("Trying to reconnect in "+v+"ms"),this.scheduleConnect_(v),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var h=this;return(0,Aa.Z)(function*(){if(h.shouldReconnect_()){h.log_("Making a connection attempt"),h.lastConnectionAttemptTime_=(new Date).getTime(),h.lastConnectionEstablishedTime_=null;const v=h.onDataMessage_.bind(h),b=h.onReady_.bind(h),B=h.onRealtimeDisconnect_.bind(h),K=h.id+":"+p.nextConnectionId_++,we=h.lastSessionId;let We=!1,lt=null;const $t=function(){lt?lt.close():(We=!0,B())};h.realtime_={close:$t,sendRequest:function(Wn){(0,fe.hu)(lt,"sendRequest call when we're not connected not allowed."),lt.sendRequest(Wn)}};const tn=h.forceTokenRefresh_;h.forceTokenRefresh_=!1;try{const[Wn,hr]=yield Promise.all([h.authTokenProvider_.getToken(tn),h.appCheckTokenProvider_.getToken(tn)]);We?ai("getToken() completed but was canceled"):(ai("getToken() completed. Creating connection."),h.authToken_=Wn&&Wn.accessToken,h.appCheckToken_=hr&&hr.token,lt=new ha(K,h.repoInfo_,h.applicationId_,h.appCheckToken_,h.authToken_,v,b,B,$i=>{fo($i+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")},we))}catch(Wn){h.log_("Failed to get token: "+Wn),We||(h.repoInfo_.nodeAdmin&&fo(Wn),$t())}}})()}interrupt(h){ai("Interrupting connection for reason: "+h),this.interruptReasons_[h]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(h){ai("Resuming connection for reason: "+h),delete this.interruptReasons_[h],(0,fe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ne,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(h){const v=h-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:v})}cancelSentTransactions_(){for(let h=0;h<this.outstandingPuts_.length;h++){const v=this.outstandingPuts_[h];v&&"h"in v.request&&v.queued&&(v.onComplete&&v.onComplete("disconnect"),delete this.outstandingPuts_[h],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(h,v){let b;b=v?v.map(K=>ps(K)).join("$"):"default";const B=this.removeListen_(h,b);B&&B.onComplete&&B.onComplete("permission_denied")}removeListen_(h,v){const b=new _i(h).toString();let B;if(this.listens.has(b)){const K=this.listens.get(b);B=K.get(v),K.delete(v),0===K.size&&this.listens.delete(b)}else B=void 0;return B}onAuthRevoked_(h,v){ai("Auth token revoked: "+h+"/"+v),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===h||"permission_denied"===h)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(h,v){ai("App check token revoked: "+h+"/"+v),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===h||"permission_denied"===h)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(h){this.securityDebugCallback_?this.securityDebugCallback_(h):"msg"in h&&console.log("FIREBASE: "+h.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const h of this.listens.values())for(const v of h.values())this.sendListen_(v);for(let h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){const h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(let h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)}sendConnectStats_(){const h={};let v="js";(0,fe.Yr)()&&(v=this.repoInfo_.nodeAdmin?"admin_node":"node"),h["sdk."+v+"."+qa.replace(/\./g,"-")]=1,(0,fe.uI)()?h["framework.cordova"]=1:(0,fe.b$)()&&(h["framework.reactnative"]=1),this.reportStats(h)}shouldReconnect_(){const h=en.getInstance().currentlyOnline();return(0,fe.xb)(this.interruptReasons_)&&h}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class sr{constructor(d,h){this.name=d,this.node=h}static Wrap(d,h){return new sr(d,h)}}class oi{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,h){const v=new sr(mi,d),b=new sr(mi,h);return 0!==this.compare(v,b)}minPost(){return sr.MIN}}class js extends oi{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(d){Ao=d}compare(d,h){return bs(d.name,h.name)}isDefinedOn(d){throw(0,fe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,h){return!1}minPost(){return sr.MIN}maxPost(){return new sr(jo,Ao)}makePost(d,h){return(0,fe.hu)("string"==typeof d,"KeyIndex indexValue must always be a string."),new sr(d,Ao)}toString(){return".key"}}const Vi=new js;class us{constructor(d,h,v,b,B=null){this.isReverse_=b,this.resultGenerator_=B,this.nodeStack_=[];let K=1;for(;!d.isEmpty();)if(K=h?v(d.key,h):1,b&&(K*=-1),K<0)d=this.isReverse_?d.left:d.right;else{if(0===K){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let h,d=this.nodeStack_.pop();if(h=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return h}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let $c,Jr=(()=>{class p{constructor(h,v,b,B,K){this.key=h,this.value=v,this.color=null!=b?b:p.RED,this.left=null!=B?B:zo.EMPTY_NODE,this.right=null!=K?K:zo.EMPTY_NODE}copy(h,v,b,B,K){return new p(null!=h?h:this.key,null!=v?v:this.value,null!=b?b:this.color,null!=B?B:this.left,null!=K?K:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(h){return this.left.inorderTraversal(h)||!!h(this.key,this.value)||this.right.inorderTraversal(h)}reverseTraversal(h){return this.right.reverseTraversal(h)||h(this.key,this.value)||this.left.reverseTraversal(h)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(h,v,b){let B=this;const K=b(h,B.key);return B=K<0?B.copy(null,null,null,B.left.insert(h,v,b),null):0===K?B.copy(null,v,null,null,null):B.copy(null,null,null,null,B.right.insert(h,v,b)),B.fixUp_()}removeMin_(){if(this.left.isEmpty())return zo.EMPTY_NODE;let h=this;return!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.removeMin_(),null),h.fixUp_()}remove(h,v){let b,B;if(b=this,v(h,b.key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(h,v),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===v(h,b.key)){if(b.right.isEmpty())return zo.EMPTY_NODE;B=b.right.min_(),b=b.copy(B.key,B.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(h,v))}return b.fixUp_()}isRed_(){return this.color}fixUp_(){let h=this;return h.right.isRed_()&&!h.left.isRed_()&&(h=h.rotateLeft_()),h.left.isRed_()&&h.left.left.isRed_()&&(h=h.rotateRight_()),h.left.isRed_()&&h.right.isRed_()&&(h=h.colorFlip_()),h}moveRedLeft_(){let h=this.colorFlip_();return h.right.left.isRed_()&&(h=h.copy(null,null,null,null,h.right.rotateRight_()),h=h.rotateLeft_(),h=h.colorFlip_()),h}moveRedRight_(){let h=this.colorFlip_();return h.left.left.isRed_()&&(h=h.rotateRight_(),h=h.colorFlip_()),h}rotateLeft_(){const h=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,h,null)}rotateRight_(){const h=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,h)}colorFlip_(){const h=this.left.copy(null,null,!this.left.color,null,null),v=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,h,v)}checkMaxDepth_(){const h=this.check_();return Math.pow(2,h)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const h=this.left.check_();if(h!==this.right.check_())throw new Error("Black depths differ");return h+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class zo{constructor(d,h=zo.EMPTY_NODE){this.comparator_=d,this.root_=h}insert(d,h){return new zo(this.comparator_,this.root_.insert(d,h,this.comparator_).copy(null,null,Jr.BLACK,null,null))}remove(d){return new zo(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,Jr.BLACK,null,null))}get(d){let h,v=this.root_;for(;!v.isEmpty();){if(h=this.comparator_(d,v.key),0===h)return v.value;h<0?v=v.left:h>0&&(v=v.right)}return null}getPredecessorKey(d){let h,v=this.root_,b=null;for(;!v.isEmpty();){if(h=this.comparator_(d,v.key),0===h){if(v.left.isEmpty())return b?b.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}h<0?v=v.left:h>0&&(b=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new us(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,h){return new us(this.root_,d,this.comparator_,!1,h)}getReverseIteratorFrom(d,h){return new us(this.root_,d,this.comparator_,!0,h)}getReverseIterator(d){return new us(this.root_,null,this.comparator_,!0,d)}}function Bh(p,d){return bs(p.name,d.name)}function Rd(p,d){return bs(p,d)}zo.EMPTY_NODE=new class Qu{copy(d,h,v,b,B){return this}insert(d,h,v){return new Jr(d,h,null)}remove(d,h){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jl=function(p){return"number"==typeof p?"number:"+_l(p):"string:"+p},Xa=function(p){if(p.isLeafNode()){const d=p.val();(0,fe.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,fe.r3)(d,".sv"),"Priority must be a string or number.")}else(0,fe.hu)(p===$c||p.isEmpty(),"priority of unexpected type.");(0,fe.hu)(p===$c||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Uc,Hl,cu,xa=(()=>{class p{constructor(h,v=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=h,this.priorityNode_=v,this.lazyHash_=null,(0,fe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Xa(this.priorityNode_)}static set __childrenNodeConstructor(h){Uc=h}static get __childrenNodeConstructor(){return Uc}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(h){return new p(this.value_,h)}getImmediateChild(h){return".priority"===h?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(h){return or(h)?this:".priority"===xr(h)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(h,v){return null}updateImmediateChild(h,v){return".priority"===h?this.updatePriority(v):v.isEmpty()&&".priority"!==h?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(h,v).updatePriority(this.priorityNode_)}updateChild(h,v){const b=xr(h);return null===b?v:v.isEmpty()&&".priority"!==b?this:((0,fe.hu)(".priority"!==b||1===os(h),".priority must be the last token in a path"),this.updateImmediateChild(b,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xr(h),v)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(h,v){return!1}val(h){return h&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let h="";this.priorityNode_.isEmpty()||(h+="priority:"+jl(this.priorityNode_.val())+":");const v=typeof this.value_;h+=v+":",h+="number"===v?_l(this.value_):this.value_,this.lazyHash_=H(h)}return this.lazyHash_}getValue(){return this.value_}compareTo(h){return h===p.__childrenNodeConstructor.EMPTY_NODE?1:h instanceof p.__childrenNodeConstructor?-1:((0,fe.hu)(h.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(h))}compareToLeafNode_(h){const v=typeof h.value_,b=typeof this.value_,B=p.VALUE_TYPE_ORDER.indexOf(v),K=p.VALUE_TYPE_ORDER.indexOf(b);return(0,fe.hu)(B>=0,"Unknown leaf type: "+v),(0,fe.hu)(K>=0,"Unknown leaf type: "+b),B===K?"object"===b?0:this.value_<h.value_?-1:this.value_===h.value_?0:1:K-B}withIndex(){return this}isIndexed(){return!0}equals(h){return h===this||!!h.isLeafNode()&&(this.value_===h.value_&&this.priorityNode_.equals(h.priorityNode_))}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const kr=new class hu extends oi{compare(d,h){const v=d.node.getPriority(),b=h.node.getPriority(),B=v.compareTo(b);return 0===B?bs(d.name,h.name):B}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,h){return!d.getPriority().equals(h.getPriority())}minPost(){return sr.MIN}maxPost(){return new sr(jo,new xa("[PRIORITY-POST]",cu))}makePost(d,h){const v=Hl(d);return new sr(h,new xa("[PRIORITY-POST]",v))}toString(){return".priority"}},Ja=Math.log(2);class Js{constructor(d){this.count=parseInt(Math.log(d+1)/Ja,10),this.current_=this.count-1;const b=(B=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&b}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const pa=function(p,d,h,v){p.sort(d);const b=function(We,lt){const $t=lt-We;let qt,tn;if(0===$t)return null;if(1===$t)return qt=p[We],tn=h?h(qt):qt,new Jr(tn,qt.node,Jr.BLACK,null,null);{const Wn=parseInt($t/2,10)+We,hr=b(We,Wn),$i=b(Wn+1,lt);return qt=p[Wn],tn=h?h(qt):qt,new Jr(tn,qt.node,Jr.BLACK,hr,$i)}},we=function(We){let lt=null,$t=null,qt=p.length;const tn=function(hr,$i){const Ts=qt-hr,Ac=qt;qt-=hr;const Sc=b(Ts+1,Ac),Ch=p[Ts],Pp=h?h(Ch):Ch;Wn(new Jr(Pp,Ch.node,$i,null,Sc))},Wn=function(hr){lt?(lt.left=hr,lt=hr):($t=hr,lt=hr)};for(let hr=0;hr<We.count;++hr){const $i=We.nextBitIsOne(),Ts=Math.pow(2,We.count-(hr+1));$i?tn(Ts,Jr.BLACK):(tn(Ts,Jr.BLACK),tn(Ts,Jr.RED))}return $t}(new Js(p.length));return new zo(v||d,we)};let zi;const ga={};class Eo{constructor(d,h){this.indexes_=d,this.indexSet_=h}static get Default(){return(0,fe.hu)(ga&&kr,"ChildrenNode.ts has not been loaded"),zi=zi||new Eo({".priority":ga},{".priority":kr}),zi}get(d){const h=(0,fe.DV)(this.indexes_,d);if(!h)throw new Error("No index defined for "+d);return h instanceof zo?h:null}hasIndex(d){return(0,fe.r3)(this.indexSet_,d.toString())}addIndex(d,h){(0,fe.hu)(d!==Vi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let b=!1;const B=h.getIterator(sr.Wrap);let we,K=B.getNext();for(;K;)b=b||d.isDefinedOn(K.node),v.push(K),K=B.getNext();we=b?pa(v,d.getCompare()):ga;const We=d.toString(),lt=Object.assign({},this.indexSet_);lt[We]=d;const $t=Object.assign({},this.indexes_);return $t[We]=we,new Eo($t,lt)}addToIndexes(d,h){const v=(0,fe.UI)(this.indexes_,(b,B)=>{const K=(0,fe.DV)(this.indexSet_,B);if((0,fe.hu)(K,"Missing index implementation for "+B),b===ga){if(K.isDefinedOn(d.node)){const we=[],We=h.getIterator(sr.Wrap);let lt=We.getNext();for(;lt;)lt.name!==d.name&&we.push(lt),lt=We.getNext();return we.push(d),pa(we,K.getCompare())}return ga}{const we=h.get(d.name);let We=b;return we&&(We=We.remove(new sr(d.name,we))),We.insert(d,d.node)}});return new Eo(v,this.indexSet_)}removeFromIndexes(d,h){const v=(0,fe.UI)(this.indexes_,b=>{if(b===ga)return b;{const B=h.get(d.name);return B?b.remove(new sr(d.name,B)):b}});return new Eo(v,this.indexSet_)}}let bi,Ar=(()=>{class p{constructor(h,v,b){this.children_=h,this.priorityNode_=v,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&Xa(this.priorityNode_),this.children_.isEmpty()&&(0,fe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bi||(bi=new p(new zo(Rd),null,Eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bi}updatePriority(h){return this.children_.isEmpty()?this:new p(this.children_,h,this.indexMap_)}getImmediateChild(h){if(".priority"===h)return this.getPriority();{const v=this.children_.get(h);return null===v?bi:v}}getChild(h){const v=xr(h);return null===v?this:this.getImmediateChild(v).getChild(Xr(h))}hasChild(h){return null!==this.children_.get(h)}updateImmediateChild(h,v){if((0,fe.hu)(v,"We should always be passing snapshot nodes"),".priority"===h)return this.updatePriority(v);{const b=new sr(h,v);let B,K;v.isEmpty()?(B=this.children_.remove(h),K=this.indexMap_.removeFromIndexes(b,this.children_)):(B=this.children_.insert(h,v),K=this.indexMap_.addToIndexes(b,this.children_));const we=B.isEmpty()?bi:this.priorityNode_;return new p(B,we,K)}}updateChild(h,v){const b=xr(h);if(null===b)return v;{(0,fe.hu)(".priority"!==xr(h)||1===os(h),".priority must be the last token in a path");const B=this.getImmediateChild(b).updateChild(Xr(h),v);return this.updateImmediateChild(b,B)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(h){if(this.isEmpty())return null;const v={};let b=0,B=0,K=!0;if(this.forEachChild(kr,(we,We)=>{v[we]=We.val(h),b++,K&&p.INTEGER_REGEXP_.test(we)?B=Math.max(B,Number(we)):K=!1}),!h&&K&&B<2*b){const we=[];for(const We in v)we[We]=v[We];return we}return h&&!this.getPriority().isEmpty()&&(v[".priority"]=this.getPriority().val()),v}hash(){if(null===this.lazyHash_){let h="";this.getPriority().isEmpty()||(h+="priority:"+jl(this.getPriority().val())+":"),this.forEachChild(kr,(v,b)=>{const B=b.hash();""!==B&&(h+=":"+v+":"+B)}),this.lazyHash_=""===h?"":H(h)}return this.lazyHash_}getPredecessorChildName(h,v,b){const B=this.resolveIndex_(b);if(B){const K=B.getPredecessorKey(new sr(h,v));return K?K.name:null}return this.children_.getPredecessorKey(h)}getFirstChildName(h){const v=this.resolveIndex_(h);if(v){const b=v.minKey();return b&&b.name}return this.children_.minKey()}getFirstChild(h){const v=this.getFirstChildName(h);return v?new sr(v,this.children_.get(v)):null}getLastChildName(h){const v=this.resolveIndex_(h);if(v){const b=v.maxKey();return b&&b.name}return this.children_.maxKey()}getLastChild(h){const v=this.getLastChildName(h);return v?new sr(v,this.children_.get(v)):null}forEachChild(h,v){const b=this.resolveIndex_(h);return b?b.inorderTraversal(B=>v(B.name,B.node)):this.children_.inorderTraversal(v)}getIterator(h){return this.getIteratorFrom(h.minPost(),h)}getIteratorFrom(h,v){const b=this.resolveIndex_(v);if(b)return b.getIteratorFrom(h,B=>B);{const B=this.children_.getIteratorFrom(h.name,sr.Wrap);let K=B.peek();for(;null!=K&&v.compare(K,h)<0;)B.getNext(),K=B.peek();return B}}getReverseIterator(h){return this.getReverseIteratorFrom(h.maxPost(),h)}getReverseIteratorFrom(h,v){const b=this.resolveIndex_(v);if(b)return b.getReverseIteratorFrom(h,B=>B);{const B=this.children_.getReverseIteratorFrom(h.name,sr.Wrap);let K=B.peek();for(;null!=K&&v.compare(K,h)>0;)B.getNext(),K=B.peek();return B}}compareTo(h){return this.isEmpty()?h.isEmpty()?0:-1:h.isLeafNode()||h.isEmpty()?1:h===ss?-1:0}withIndex(h){if(h===Vi||this.indexMap_.hasIndex(h))return this;{const v=this.indexMap_.addIndex(h,this.children_);return new p(this.children_,this.priorityNode_,v)}}isIndexed(h){return h===Vi||this.indexMap_.hasIndex(h)}equals(h){if(h===this)return!0;if(h.isLeafNode())return!1;{const v=h;if(this.getPriority().equals(v.getPriority())){if(this.children_.count()===v.children_.count()){const b=this.getIterator(kr),B=v.getIterator(kr);let K=b.getNext(),we=B.getNext();for(;K&&we;){if(K.name!==we.name||!K.node.equals(we.node))return!1;K=b.getNext(),we=B.getNext()}return null===K&&null===we}return!1}return!1}}resolveIndex_(h){return h===Vi?null:this.indexMap_.get(h.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const ss=new class fu extends Ar{constructor(){super(new zo(Rd),Ar.EMPTY_NODE,Eo.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return Ar.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sr,{MIN:{value:new sr(mi,Ar.EMPTY_NODE)},MAX:{value:new sr(jo,ss)}}),js.__EMPTY_NODE=Ar.EMPTY_NODE,xa.__childrenNodeConstructor=Ar,function $h(p){$c=p}(ss),function Xu(p){cu=p}(ss);const jc=!0;function Wi(p,d=null){if(null===p)return Ar.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,fe.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new xa(p,Wi(d));if(p instanceof Array||!jc){let h=Ar.EMPTY_NODE;return wi(p,(v,b)=>{if((0,fe.r3)(p,v)&&"."!==v.substring(0,1)){const B=Wi(b);(B.isLeafNode()||!B.isEmpty())&&(h=h.updateImmediateChild(v,B))}}),h.updatePriority(Wi(d))}{const h=[];let v=!1;if(wi(p,(K,we)=>{if("."!==K.substring(0,1)){const We=Wi(we);We.isEmpty()||(v=v||!We.getPriority().isEmpty(),h.push(new sr(K,We)))}}),0===h.length)return Ar.EMPTY_NODE;const B=pa(h,Bh,K=>K.name,Rd);if(v){const K=pa(h,kr.getCompare());return new Ar(B,Wi(d),new Eo({".priority":K},{".priority":kr}))}return new Ar(B,Wi(d),Eo.Default)}}!function du(p){Hl=p}(Wi);class Mo extends oi{constructor(d){super(),this.indexPath_=d,(0,fe.hu)(!or(d)&&".priority"!==xr(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,h){const v=this.extractChild(d.node),b=this.extractChild(h.node),B=v.compareTo(b);return 0===B?bs(d.name,h.name):B}makePost(d,h){const v=Wi(d),b=Ar.EMPTY_NODE.updateChild(this.indexPath_,v);return new sr(h,b)}maxPost(){const d=Ar.EMPTY_NODE.updateChild(this.indexPath_,ss);return new sr(jo,d)}toString(){return Dt(this.indexPath_,0).join("/")}}const ea=new class zl extends oi{compare(d,h){const v=d.node.compareTo(h.node);return 0===v?bs(d.name,h.name):v}isDefinedOn(d){return!0}indexedValueChanged(d,h){return!d.equals(h)}minPost(){return sr.MIN}maxPost(){return sr.MAX}makePost(d,h){const v=Wi(d);return new sr(h,v)}toString(){return".value"}};function Hs(p,d,h){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:h}}class Oa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,fe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,fe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,fe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kr}copy(){const d=new Oa;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.startAfterSet_=this.startAfterSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.endBeforeSet_=this.endBeforeSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function wl(p){const d={};if(p.isDefault())return d;let h;if(p.index_===kr?h="$priority":p.index_===ea?h="$value":p.index_===Vi?h="$key":((0,fe.hu)(p.index_ instanceof Mo,"Unrecognized index type!"),h=p.index_.toString()),d.orderBy=(0,fe.Wl)(h),p.startSet_){const v=p.startAfterSet_?"startAfter":"startAt";d[v]=(0,fe.Wl)(p.indexStartValue_),p.startNameSet_&&(d[v]+=","+(0,fe.Wl)(p.indexStartName_))}if(p.endSet_){const v=p.endBeforeSet_?"endBefore":"endAt";d[v]=(0,fe.Wl)(p.indexEndValue_),p.endNameSet_&&(d[v]+=","+(0,fe.Wl)(p.indexEndName_))}return p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_),d}function rl(p){const d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_),d.sin=!p.startAfterSet_),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_),d.ein=!p.endBeforeSet_),p.limitSet_){d.l=p.limit_;let h=p.viewFrom_;""===h&&(h=p.isViewFromLeft()?"l":"r"),d.vf=h}return p.index_!==kr&&(d.i=p.index_.toString()),d}class Ms extends Sd{constructor(d,h,v,b){super(),this.repoInfo_=d,this.onDataUpdate_=h,this.authTokenProvider_=v,this.appCheckTokenProvider_=b,this.log_=Ro("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,h){return void 0!==h?"tag$"+h:((0,fe.hu)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,h,v,b){const B=d._path.toString();this.log_("Listen called for "+B+" "+d._queryIdentifier);const K=Ms.getListenId_(d,v),we={};this.listens_[K]=we;const We=wl(d._queryParams);this.restRequest_(B+".json",We,(lt,$t)=>{let qt=$t;if(404===lt&&(qt=null,lt=null),null===lt&&this.onDataUpdate_(B,qt,!1,v),(0,fe.DV)(this.listens_,K)===we){let tn;tn=lt?401===lt?"permission_denied":"rest_error:"+lt:"ok",b(tn,null)}})}unlisten(d,h){const v=Ms.getListenId_(d,h);delete this.listens_[v]}get(d){const h=wl(d._queryParams),v=d._path.toString(),b=new fe.BH;return this.restRequest_(v+".json",h,(B,K)=>{let we=K;404===B&&(we=null,B=null),null===B?(this.onDataUpdate_(v,we,!1,null),b.resolve(we)):b.reject(new Error(we))}),b.promise}refreshAuthToken(d){}restRequest_(d,h={},v){return h.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([b,B])=>{b&&b.accessToken&&(h.auth=b.accessToken),B&&B.token&&(h.ac=B.token);const K=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,fe.xO)(h);this.log_("Sending REST request for "+K);const we=new XMLHttpRequest;we.onreadystatechange=()=>{if(v&&4===we.readyState){this.log_("REST Response for "+K+" received. status:",we.status,"response:",we.responseText);let We=null;if(we.status>=200&&we.status<300){try{We=(0,fe.cI)(we.responseText)}catch{fo("Failed to parse JSON response for "+K+": "+we.responseText)}v(null,We)}else 401!==we.status&&404!==we.status&&fo("Got unsuccessful REST response for "+K+" Status: "+we.status),v(we.status);v=null}},we.open("GET",K,!0),we.send()})}}class Uh{constructor(){this.rootNode_=Ar.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,h){this.rootNode_=this.rootNode_.updateChild(d,h)}}function bl(){return{value:null,children:new Map}}function Na(p,d,h){if(or(d))p.value=h,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,h);else{const v=xr(d);p.children.has(v)||p.children.set(v,bl()),Na(p.children.get(v),d=Xr(d),h)}}function gu(p,d,h){null!==p.value?h(d,p.value):function as(p,d){p.children.forEach((h,v)=>{d(v,h)})}(p,(v,b)=>{gu(b,new _i(d.toString()+"/"+v),h)})}class jh{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),h=Object.assign({},d);return this.last_&&wi(this.last_,(v,b)=>{h[v]=h[v]-b}),this.last_=d,h}}class zc{constructor(d,h){this.server_=h,this.statsToReport_={},this.statsListener_=new jh(d);const v=1e4+2e4*Math.random();Ka(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const d=this.statsListener_.get(),h={};let v=!1;wi(d,(b,B)=>{B>0&&(0,fe.r3)(this.statsToReport_,b)&&(h[b]=B,v=!0)}),v&&this.server_.reportStats(h),Ka(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var si=function(p){return p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",p}(si||{});function _a(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class il{constructor(d,h,v){this.path=d,this.affectedTree=h,this.revert=v,this.type=si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(or(this.path)){if(null!=this.affectedTree.value)return(0,fe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const h=this.affectedTree.subtree(new _i(d));return new il(Qn(),h,this.revert)}}return(0,fe.hu)(xr(this.path)===d,"operationForChild called for unrelated child."),new il(Xr(this.path),this.affectedTree,this.revert)}}class Gs{constructor(d,h,v){this.source=d,this.path=h,this.snap=v,this.type=si.OVERWRITE}operationForChild(d){return or(this.path)?new Gs(this.source,Qn(),this.snap.getImmediateChild(d)):new Gs(this.source,Xr(this.path),this.snap)}}class $r{constructor(d,h,v){this.source=d,this.path=h,this.children=v,this.type=si.MERGE}operationForChild(d){if(or(this.path)){const h=this.children.subtree(new _i(d));return h.isEmpty()?null:h.value?new Gs(this.source,Qn(),h.value):new $r(this.source,Qn(),h)}return(0,fe.hu)(xr(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new $r(this.source,Xr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ui{constructor(d,h,v){this.node_=d,this.fullyInitialized_=h,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(or(d))return this.isFullyInitialized()&&!this.filtered_;const h=xr(d);return this.isCompleteForChild(h)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}function _u(p,d,h,v,b,B){const K=v.filter(we=>we.type===h);K.sort((we,We)=>function Hh(p,d,h){if(null==d.childName||null==h.childName)throw(0,fe.g5)("Should only compare child_ events.");const v=new sr(d.childName,d.snapshotNode),b=new sr(h.childName,h.snapshotNode);return p.index_.compare(v,b)}(p,we,We)),K.forEach(we=>{const We=function Wc(p,d,h){return"value"===d.type||"child_removed"===d.type||(d.prevName=h.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,we,B);b.forEach(lt=>{lt.respondsTo(we.type)&&d.push(lt.createEvent(We,p.query_))})})}function Gc(p,d){return{eventCache:p,serverCache:d}}function va(p,d,h,v){return Gc(new ui(d,h,v),p.serverCache)}function xd(p,d,h,v){return Gc(p.eventCache,new ui(d,h,v))}function qc(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function go(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let Od;class Zi{constructor(d,h=(()=>(Od||(Od=new zo(la)),Od))()){this.value=d,this.children=h}static fromObject(d){let h=new Zi(null);return wi(d,(v,b)=>{h=h.set(new _i(v),b)}),h}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,h){if(null!=this.value&&h(this.value))return{path:Qn(),value:this.value};if(or(d))return null;{const v=xr(d),b=this.children.get(v);if(null!==b){const B=b.findRootMostMatchingPathAndValue(Xr(d),h);return null!=B?{path:ni(new _i(v),B.path),value:B.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(or(d))return this;{const h=xr(d),v=this.children.get(h);return null!==v?v.subtree(Xr(d)):new Zi(null)}}set(d,h){if(or(d))return new Zi(h,this.children);{const v=xr(d),B=(this.children.get(v)||new Zi(null)).set(Xr(d),h),K=this.children.insert(v,B);return new Zi(this.value,K)}}remove(d){if(or(d))return this.children.isEmpty()?new Zi(null):new Zi(null,this.children);{const h=xr(d),v=this.children.get(h);if(v){const b=v.remove(Xr(d));let B;return B=b.isEmpty()?this.children.remove(h):this.children.insert(h,b),null===this.value&&B.isEmpty()?new Zi(null):new Zi(this.value,B)}return this}}get(d){if(or(d))return this.value;{const h=xr(d),v=this.children.get(h);return v?v.get(Xr(d)):null}}setTree(d,h){if(or(d))return h;{const v=xr(d),B=(this.children.get(v)||new Zi(null)).setTree(Xr(d),h);let K;return K=B.isEmpty()?this.children.remove(v):this.children.insert(v,B),new Zi(this.value,K)}}fold(d){return this.fold_(Qn(),d)}fold_(d,h){const v={};return this.children.inorderTraversal((b,B)=>{v[b]=B.fold_(ni(d,b),h)}),h(d,this.value,v)}findOnPath(d,h){return this.findOnPath_(d,Qn(),h)}findOnPath_(d,h,v){const b=!!this.value&&v(h,this.value);if(b)return b;if(or(d))return null;{const B=xr(d),K=this.children.get(B);return K?K.findOnPath_(Xr(d),ni(h,B),v):null}}foreachOnPath(d,h){return this.foreachOnPath_(d,Qn(),h)}foreachOnPath_(d,h,v){if(or(d))return this;{this.value&&v(h,this.value);const b=xr(d),B=this.children.get(b);return B?B.foreachOnPath_(Xr(d),ni(h,b),v):new Zi(null)}}foreach(d){this.foreach_(Qn(),d)}foreach_(d,h){this.children.inorderTraversal((v,b)=>{b.foreach_(ni(d,v),h)}),this.value&&h(d,this.value)}foreachChild(d){this.children.inorderTraversal((h,v)=>{v.value&&d(h,v.value)})}}class Do{constructor(d){this.writeTree_=d}static empty(){return new Do(new Zi(null))}}function Fa(p,d,h){if(or(d))return new Do(new Zi(h));{const v=p.writeTree_.findRootMostValueAndPath(d);if(null!=v){const b=v.path;let B=v.value;const K=Ni(b,d);return B=B.updateChild(K,h),new Do(p.writeTree_.set(b,B))}{const b=new Zi(h),B=p.writeTree_.setTree(d,b);return new Do(B)}}}function Yc(p,d,h){let v=p;return wi(h,(b,B)=>{v=Fa(v,ni(d,b),B)}),v}function tc(p,d){if(or(d))return Do.empty();{const h=p.writeTree_.setTree(d,new Zi(null));return new Do(h)}}function ol(p,d){return null!=xs(p,d)}function xs(p,d){const h=p.writeTree_.findRootMostValueAndPath(d);return null!=h?p.writeTree_.get(h.path).getChild(Ni(h.path,d)):null}function nc(p){const d=[],h=p.writeTree_.value;return null!=h?h.isLeafNode()||h.forEachChild(kr,(v,b)=>{d.push(new sr(v,b))}):p.writeTree_.children.inorderTraversal((v,b)=>{null!=b.value&&d.push(new sr(v,b.value))}),d}function ya(p,d){if(or(d))return p;{const h=xs(p,d);return new Do(null!=h?new Zi(h):p.writeTree_.subtree(d))}}function rc(p){return p.writeTree_.isEmpty()}function Wo(p,d){return ic(Qn(),p.writeTree_,d)}function ic(p,d,h){if(null!=d.value)return h.updateChild(p,d.value);{let v=null;return d.children.inorderTraversal((b,B)=>{".priority"===b?((0,fe.hu)(null!==B.value,"Priority writes must always be leaf nodes"),v=B.value):h=ic(ni(p,b),B,h)}),!h.getChild(p).isEmpty()&&null!==v&&(h=h.updateChild(ni(p,".priority"),v)),h}}function Go(p,d){return I(d,p)}function ql(p,d){if(p.snap)return Yi(p.path,d);for(const h in p.children)if(p.children.hasOwnProperty(h)&&Yi(ni(p.path,h),d))return!0;return!1}function Zc(p){return p.visible}function Qc(p,d,h){let v=Do.empty();for(let b=0;b<p.length;++b){const B=p[b];if(d(B)){const K=B.path;let we;if(B.snap)Yi(h,K)?(we=Ni(h,K),v=Fa(v,we,B.snap)):Yi(K,h)&&(we=Ni(K,h),v=Fa(v,Qn(),B.snap.getChild(we)));else{if(!B.children)throw(0,fe.g5)("WriteRecord should have .snap or .children");if(Yi(h,K))we=Ni(h,K),v=Yc(v,we,B.children);else if(Yi(K,h))if(we=Ni(K,h),or(we))v=Yc(v,Qn(),B.children);else{const We=(0,fe.DV)(B.children,xr(we));if(We){const lt=We.getChild(Xr(we));v=Fa(v,Qn(),lt)}}}}}return v}function yu(p,d,h,v,b){if(v||b){const B=ya(p.visibleWrites,d);return!b&&rc(B)?h:b||null!=h||ol(B,Qn())?Wo(Qc(p.allWrites,function(lt){return(lt.visible||b)&&(!v||!~v.indexOf(lt.writeId))&&(Yi(lt.path,d)||Yi(d,lt.path))},d),h||Ar.EMPTY_NODE):null}{const B=xs(p.visibleWrites,d);if(null!=B)return B;{const K=ya(p.visibleWrites,d);return rc(K)?h:null!=h||ol(K,Qn())?Wo(K,h||Ar.EMPTY_NODE):null}}}function oc(p,d,h,v){return yu(p.writeTree,p.treePath,d,h,v)}function qs(p,d){return function La(p,d,h){let v=Ar.EMPTY_NODE;const b=xs(p.visibleWrites,d);if(b)return b.isLeafNode()||b.forEachChild(kr,(B,K)=>{v=v.updateImmediateChild(B,K)}),v;if(h){const B=ya(p.visibleWrites,d);return h.forEachChild(kr,(K,we)=>{const We=Wo(ya(B,new _i(K)),we);v=v.updateImmediateChild(K,We)}),nc(B).forEach(K=>{v=v.updateImmediateChild(K.name,K.node)}),v}return nc(ya(p.visibleWrites,d)).forEach(K=>{v=v.updateImmediateChild(K.name,K.node)}),v}(p.writeTree,p.treePath,d)}function sc(p,d,h,v){return function Fd(p,d,h,v,b){(0,fe.hu)(v||b,"Either existingEventSnap or existingServerSnap must exist");const B=ni(d,h);if(ol(p.visibleWrites,B))return null;{const K=ya(p.visibleWrites,B);return rc(K)?b.getChild(h):Wo(K,b.getChild(h))}}(p.writeTree,p.treePath,d,h,v)}function Jo(p,d){return function Eu(p,d){return xs(p.visibleWrites,d)}(p.writeTree,ni(p.treePath,d))}function Yl(p,d,h){return function na(p,d,h,v){const b=ni(d,h),B=xs(p.visibleWrites,b);return null!=B?B:v.isCompleteForChild(h)?Wo(ya(p.visibleWrites,b),v.getNode().getImmediateChild(h)):null}(p.writeTree,p.treePath,d,h)}function Al(p,d){return I(ni(p.treePath,d),p.writeTree)}function I(p,d){return{treePath:p,writeTree:d}}class m{constructor(){this.changeMap=new Map}trackChildChange(d){const h=d.type,v=d.childName;(0,fe.hu)("child_added"===h||"child_changed"===h||"child_removed"===h,"Only child changes supported for tracking"),(0,fe.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const b=this.changeMap.get(v);if(b){const B=b.type;if("child_added"===h&&"child_removed"===B)this.changeMap.set(v,Hs(v,d.snapshotNode,b.snapshotNode));else if("child_removed"===h&&"child_added"===B)this.changeMap.delete(v);else if("child_removed"===h&&"child_changed"===B)this.changeMap.set(v,function el(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}(v,b.oldSnap));else if("child_changed"===h&&"child_added"===B)this.changeMap.set(v,function _s(p,d){return{type:"child_added",snapshotNode:d,childName:p}}(v,d.snapshotNode));else{if("child_changed"!==h||"child_changed"!==B)throw(0,fe.g5)("Illegal combination of changes: "+d+" occurred after "+b);this.changeMap.set(v,Hs(v,d.snapshotNode,b.oldSnap))}}else this.changeMap.set(v,d)}getChanges(){return Array.from(this.changeMap.values())}}const S=new class y{getCompleteChild(d){return null}getChildAfterChild(d,h,v){return null}};class X{constructor(d,h,v=null){this.writes_=d,this.viewCache_=h,this.optCompleteServerCache_=v}getCompleteChild(d){const h=this.viewCache_.eventCache;if(h.isCompleteForChild(d))return h.getNode().getImmediateChild(d);{const v=null!=this.optCompleteServerCache_?new ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yl(this.writes_,d,v)}}getChildAfterChild(d,h,v){const b=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:go(this.viewCache_),B=function Ld(p,d,h,v,b,B){return function Iu(p,d,h,v,b,B,K){let we;const We=ya(p.visibleWrites,d),lt=xs(We,Qn());if(null!=lt)we=lt;else{if(null==h)return[];we=Wo(We,h)}if(we=we.withIndex(K),we.isEmpty()||we.isLeafNode())return[];{const $t=[],qt=K.getCompare(),tn=B?we.getReverseIteratorFrom(v,K):we.getIteratorFrom(v,K);let Wn=tn.getNext();for(;Wn&&$t.length<b;)0!==qt(Wn,v)&&$t.push(Wn),Wn=tn.getNext();return $t}}(p.writeTree,p.treePath,d,h,v,b,B)}(this.writes_,b,h,1,v,d);return 0===B.length?null:B[0]}}function zn(p,d,h,v,b,B){const K=d.eventCache;if(null!=Jo(v,h))return d;{let we,We;if(or(h))if((0,fe.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const lt=go(d),qt=qs(v,lt instanceof Ar?lt:Ar.EMPTY_NODE);we=p.filter.updateFullNode(d.eventCache.getNode(),qt,B)}else{const lt=oc(v,go(d));we=p.filter.updateFullNode(d.eventCache.getNode(),lt,B)}else{const lt=xr(h);if(".priority"===lt){(0,fe.hu)(1===os(h),"Can't have a priority with additional path components");const $t=K.getNode();We=d.serverCache.getNode();const qt=sc(v,h,$t,We);we=null!=qt?p.filter.updatePriority($t,qt):K.getNode()}else{const $t=Xr(h);let qt;if(K.isCompleteForChild(lt)){We=d.serverCache.getNode();const tn=sc(v,h,K.getNode(),We);qt=null!=tn?K.getNode().getImmediateChild(lt).updateChild($t,tn):K.getNode().getImmediateChild(lt)}else qt=Yl(v,lt,d.serverCache);we=null!=qt?p.filter.updateChild(K.getNode(),lt,qt,$t,b,B):K.getNode()}}return va(d,we,K.isFullyInitialized()||or(h),p.filter.filtersNodes())}}function nr(p,d,h,v,b,B,K,we){const We=d.serverCache;let lt;const $t=K?p.filter:p.filter.getIndexedFilter();if(or(h))lt=$t.updateFullNode(We.getNode(),v,null);else if($t.filtersNodes()&&!We.isFiltered()){const Wn=We.getNode().updateChild(h,v);lt=$t.updateFullNode(We.getNode(),Wn,null)}else{const Wn=xr(h);if(!We.isCompleteForPath(h)&&os(h)>1)return d;const hr=Xr(h),Ts=We.getNode().getImmediateChild(Wn).updateChild(hr,v);lt=".priority"===Wn?$t.updatePriority(We.getNode(),Ts):$t.updateChild(We.getNode(),Wn,Ts,hr,S,null)}const qt=xd(d,lt,We.isFullyInitialized()||or(h),$t.filtersNodes());return zn(p,qt,h,b,new X(b,qt,B),we)}function qr(p,d,h,v,b,B,K){const we=d.eventCache;let We,lt;const $t=new X(b,d,B);if(or(h))lt=p.filter.updateFullNode(d.eventCache.getNode(),v,K),We=va(d,lt,!0,p.filter.filtersNodes());else{const qt=xr(h);if(".priority"===qt)lt=p.filter.updatePriority(d.eventCache.getNode(),v),We=va(d,lt,we.isFullyInitialized(),we.isFiltered());else{const tn=Xr(h),Wn=we.getNode().getImmediateChild(qt);let hr;if(or(tn))hr=v;else{const $i=$t.getCompleteChild(qt);hr=null!=$i?".priority"===Ss(tn)&&$i.getChild(Pa(tn)).isEmpty()?$i:$i.updateChild(tn,v):Ar.EMPTY_NODE}We=Wn.equals(hr)?d:va(d,p.filter.updateChild(we.getNode(),qt,hr,tn,$t,K),we.isFullyInitialized(),p.filter.filtersNodes())}}return We}function cs(p,d){return p.eventCache.isCompleteForChild(d)}function Zl(p,d,h){return h.foreach((v,b)=>{d=d.updateChild(v,b)}),d}function Sl(p,d,h,v,b,B,K,we){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let lt,We=d;lt=or(h)?v:new Zi(null).setTree(h,v);const $t=d.serverCache.getNode();return lt.children.inorderTraversal((qt,tn)=>{if($t.hasChild(qt)){const hr=Zl(0,d.serverCache.getNode().getImmediateChild(qt),tn);We=nr(p,We,new _i(qt),hr,b,B,K,we)}}),lt.children.inorderTraversal((qt,tn)=>{const Wn=!d.serverCache.isCompleteForChild(qt)&&null===tn.value;if(!$t.hasChild(qt)&&!Wn){const $i=Zl(0,d.serverCache.getNode().getImmediateChild(qt),tn);We=nr(p,We,new _i(qt),$i,b,B,K,we)}}),We}function $d(p,d){const h=go(p.viewCache_);return h&&(p.query._queryParams.loadsAllData()||!or(d)&&!h.getImmediateChild(xr(d)).isEmpty())?h.getChild(d):null}function Io(p,d,h,v){d.type===si.MERGE&&null!==d.source.queryId&&((0,fe.hu)(go(p.viewCache_),"We should always have a full cache before handling merges"),(0,fe.hu)(qc(p.viewCache_),"Missing event cache, even though we have a server cache"));const b=p.viewCache_,B=function Nt(p,d,h,v,b){const B=new m;let K,we;if(h.type===si.OVERWRITE){const lt=h;lt.source.fromUser?K=qr(p,d,lt.path,lt.snap,v,b,B):((0,fe.hu)(lt.source.fromServer,"Unknown source."),we=lt.source.tagged||d.serverCache.isFiltered()&&!or(lt.path),K=nr(p,d,lt.path,lt.snap,v,b,we,B))}else if(h.type===si.MERGE){const lt=h;lt.source.fromUser?K=function Kl(p,d,h,v,b,B,K){let we=d;return v.foreach((We,lt)=>{const $t=ni(h,We);cs(d,xr($t))&&(we=qr(p,we,$t,lt,b,B,K))}),v.foreach((We,lt)=>{const $t=ni(h,We);cs(d,xr($t))||(we=qr(p,we,$t,lt,b,B,K))}),we}(p,d,lt.path,lt.children,v,b,B):((0,fe.hu)(lt.source.fromServer,"Unknown source."),we=lt.source.tagged||d.serverCache.isFiltered(),K=Sl(p,d,lt.path,lt.children,v,b,we,B))}else if(h.type===si.ACK_USER_WRITE){const lt=h;K=lt.revert?function Va(p,d,h,v,b,B){let K;if(null!=Jo(v,h))return d;{const we=new X(v,d,b),We=d.eventCache.getNode();let lt;if(or(h)||".priority"===xr(h)){let $t;if(d.serverCache.isFullyInitialized())$t=oc(v,go(d));else{const qt=d.serverCache.getNode();(0,fe.hu)(qt instanceof Ar,"serverChildren would be complete if leaf node"),$t=qs(v,qt)}lt=p.filter.updateFullNode(We,$t,B)}else{const $t=xr(h);let qt=Yl(v,$t,d.serverCache);null==qt&&d.serverCache.isCompleteForChild($t)&&(qt=We.getImmediateChild($t)),lt=null!=qt?p.filter.updateChild(We,$t,qt,Xr(h),we,B):d.eventCache.getNode().hasChild($t)?p.filter.updateChild(We,$t,Ar.EMPTY_NODE,Xr(h),we,B):We,lt.isEmpty()&&d.serverCache.isFullyInitialized()&&(K=oc(v,go(d)),K.isLeafNode()&&(lt=p.filter.updateFullNode(lt,K,B)))}return K=d.serverCache.isFullyInitialized()||null!=Jo(v,Qn()),va(d,lt,K,p.filter.filtersNodes())}}(p,d,lt.path,v,b,B):function sl(p,d,h,v,b,B,K){if(null!=Jo(b,h))return d;const we=d.serverCache.isFiltered(),We=d.serverCache;if(null!=v.value){if(or(h)&&We.isFullyInitialized()||We.isCompleteForPath(h))return nr(p,d,h,We.getNode().getChild(h),b,B,we,K);if(or(h)){let lt=new Zi(null);return We.getNode().forEachChild(Vi,($t,qt)=>{lt=lt.set(new _i($t),qt)}),Sl(p,d,h,lt,b,B,we,K)}return d}{let lt=new Zi(null);return v.foreach(($t,qt)=>{const tn=ni(h,$t);We.isCompleteForPath(tn)&&(lt=lt.set($t,We.getNode().getChild(tn)))}),Sl(p,d,h,lt,b,B,we,K)}}(p,d,lt.path,lt.affectedTree,v,b,B)}else{if(h.type!==si.LISTEN_COMPLETE)throw(0,fe.g5)("Unknown operation type: "+h.type);K=function Vd(p,d,h,v,b){const B=d.serverCache;return zn(p,xd(d,B.getNode(),B.isFullyInitialized()||or(h),B.isFiltered()),h,v,S,b)}(p,d,h.path,v,B)}const We=B.getChanges();return function un(p,d,h){const v=d.eventCache;if(v.isFullyInitialized()){const b=v.getNode().isLeafNode()||v.getNode().isEmpty(),B=qc(p);(h.length>0||!p.eventCache.isFullyInitialized()||b&&!v.getNode().equals(B)||!v.getNode().getPriority().equals(B.getPriority()))&&h.push(function Ki(p){return{type:"value",snapshotNode:p}}(qc(d)))}}(d,K,We),{viewCache:K,changes:We}}(p.processor_,b,d,h,v);return function _t(p,d){(0,fe.hu)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,fe.hu)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,B.viewCache),(0,fe.hu)(B.viewCache.serverCache.isFullyInitialized()||!b.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=B.viewCache,function Du(p,d,h,v){return function Md(p,d,h,v){const b=[],B=[];return d.forEach(K=>{"child_changed"===K.type&&p.index_.indexedValueChanged(K.oldSnap,K.snapshotNode)&&B.push(function Ju(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(K.childName,K.snapshotNode))}),_u(p,b,"child_removed",d,v,h),_u(p,b,"child_added",d,v,h),_u(p,b,"child_moved",B,v,h),_u(p,b,"child_changed",d,v,h),_u(p,b,"value",d,v,h),b}(p.eventGenerator_,d,h,v?[v]:p.eventRegistrations_)}(p,B.changes,B.viewCache.eventCache.getNode(),null)}let wu,Yh;function Ql(p,d,h,v){const b=d.source.queryId;if(null!==b){const B=p.views.get(b);return(0,fe.hu)(null!=B,"SyncTree gave us an op for an invalid query."),Io(B,d,h,v)}{let B=[];for(const K of p.views.values())B=B.concat(Io(K,d,h,v));return B}}function Ea(p,d){let h=null;for(const v of p.views.values())h=h||$d(v,d);return h}class $f{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Zi(null),this.pendingWriteTree_=function zh(){return{visibleWrites:Do.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kh(p,d,h,v,b){return function Nd(p,d,h,v,b){(0,fe.hu)(v>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===b&&(b=!0),p.allWrites.push({path:d,snap:h,writeId:v,visible:b}),b&&(p.visibleWrites=Fa(p.visibleWrites,d,h)),p.lastWriteId=v}(p.pendingWriteTree_,d,h,v,b),b?hc(p,new Gs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,h)):[]}function ul(p,d,h=!1){const v=function Kc(p,d){for(let h=0;h<p.allWrites.length;h++){const v=p.allWrites[h];if(v.writeId===d)return v}return null}(p.pendingWriteTree_,d);if(function kd(p,d){const h=p.allWrites.findIndex(we=>we.writeId===d);(0,fe.hu)(h>=0,"removeWrite called with nonexistent writeId.");const v=p.allWrites[h];p.allWrites.splice(h,1);let b=v.visible,B=!1,K=p.allWrites.length-1;for(;b&&K>=0;){const we=p.allWrites[K];we.visible&&(K>=h&&ql(we,v.path)?b=!1:Yi(v.path,we.path)&&(B=!0)),K--}return!!b&&(B?(function ys(p){p.visibleWrites=Qc(p.allWrites,Zc,Qn()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(v.snap?p.visibleWrites=tc(p.visibleWrites,v.path):wi(v.children,We=>{p.visibleWrites=tc(p.visibleWrites,ni(v.path,We))}),!0))}(p.pendingWriteTree_,d)){let B=new Zi(null);return null!=v.snap?B=B.set(Qn(),!0):wi(v.children,K=>{B=B.set(new _i(K),!0)}),hc(p,new il(v.path,B,h))}return[]}function ed(p,d,h){return hc(p,new Gs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,h))}function Wd(p,d,h){const b=p.pendingWriteTree_,B=p.syncPointTree_.findOnPath(d,(K,we)=>{const lt=Ea(we,Ni(K,d));if(lt)return lt});return yu(b,d,B,h,!0)}function hc(p,d){return jf(d,p.syncPointTree_,null,Go(p.pendingWriteTree_,Qn()))}function jf(p,d,h,v){if(or(p.path))return Hf(p,d,h,v);{const b=d.get(Qn());null==h&&null!=b&&(h=Ea(b,Qn()));let B=[];const K=xr(p.path),we=p.operationForChild(K),We=d.children.get(K);if(We&&we){const lt=h?h.getImmediateChild(K):null,$t=Al(v,K);B=B.concat(jf(we,We,lt,$t))}return b&&(B=B.concat(Ql(b,p,v,h))),B}}function Hf(p,d,h,v){const b=d.get(Qn());null==h&&null!=b&&(h=Ea(b,Qn()));let B=[];return d.children.inorderTraversal((K,we)=>{const We=h?h.getImmediateChild(K):null,lt=Al(v,K),$t=p.operationForChild(K);$t&&(B=B.concat(Hf($t,we,We,lt)))}),b&&(B=B.concat(Ql(b,p,v,h))),B}function Wf(p,d){return p.tagToQueryMap.get(d)}function pc(p){const d=p.indexOf("$");return(0,fe.hu)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new _i(p.substr(0,d))}}function Gd(p,d,h){const v=p.syncPointTree_.get(d);return(0,fe.hu)(v,"Missing sync point for query tag that we're tracking"),Ql(v,h,Go(p.pendingWriteTree_,d),null)}class mc{constructor(d){this.node_=d}getImmediateChild(d){const h=this.node_.getImmediateChild(d);return new mc(h)}node(){return this.node_}}class Su{constructor(d,h){this.syncTree_=d,this.path_=h}getImmediateChild(d){const h=ni(this.path_,d);return new Su(this.syncTree_,h)}node(){return Wd(this.syncTree_,this.path_)}}const Ba=function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p},_c=function(p,d,h){return p&&"object"==typeof p?((0,fe.hu)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?Jp(p[".sv"],d,h):"object"==typeof p[".sv"]?qd(p[".sv"],d):void(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},Jp=function(p,d,h){if("timestamp"===p)return h.timestamp;(0,fe.hu)(!1,"Unexpected server value: "+p)},qd=function(p,d,h){p.hasOwnProperty("increment")||(0,fe.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const v=p.increment;"number"!=typeof v&&(0,fe.hu)(!1,"Unexpected increment value: "+v);const b=d.node();if((0,fe.hu)(null!==b&&typeof b<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!b.isLeafNode())return v;const K=b.getValue();return"number"!=typeof K?v:K+v},Gf=function(p,d,h,v){return Xh(d,new Su(h,p),v)},Qh=function(p,d,h){return Xh(p,new mc(d),h)};function Xh(p,d,h){const v=p.getPriority().val(),b=_c(v,d.getImmediateChild(".priority"),h);let B;if(p.isLeafNode()){const K=p,we=_c(K.getValue(),d,h);return we!==K.getValue()||b!==K.getPriority().val()?new xa(we,Wi(b)):p}{const K=p;return B=K,b!==K.getPriority().val()&&(B=B.updatePriority(new xa(b))),K.forEachChild(kr,(we,We)=>{const lt=Xh(We,d.getImmediateChild(we),h);lt!==We&&(B=B.updateImmediateChild(we,lt))}),B}}class qf{constructor(d="",h=null,v={children:{},childCount:0}){this.name=d,this.parent=h,this.node=v}}function Yd(p,d){let h=d instanceof _i?d:new _i(d),v=p,b=xr(h);for(;null!==b;){const B=(0,fe.DV)(v.node.children,b)||{children:{},childCount:0};v=new qf(b,v,B),h=Xr(h),b=xr(h)}return v}function ra(p){return p.node.value}function vc(p,d){p.node.value=d,ef(p)}function Jh(p){return p.node.childCount>0}function rd(p,d){wi(p.node.children,(h,v)=>{d(new qf(h,p,v))})}function Kd(p,d,h,v){h&&!v&&d(p),rd(p,b=>{Kd(b,d,!0,v)}),h&&v&&d(p)}function $a(p){return new _i(null===p.parent?p.name:$a(p.parent)+"/"+p.name)}function ef(p){null!==p.parent&&function ng(p,d,h){const v=function eg(p){return void 0===ra(p)&&!Jh(p)}(h),b=(0,fe.r3)(p.node.children,d);v&&b?(delete p.node.children[d],p.node.childCount--,ef(p)):!v&&!b&&(p.node.children[d]=h.node,p.node.childCount++,ef(p))}(p.parent,p.name,p)}const um=/[\[\].#$\/\u0000-\u001F\u007F]/,yc=/[\[\].#$\u0000-\u001F\u007F]/,cl=10485760,Zd=function(p){return"string"==typeof p&&0!==p.length&&!um.test(p)},id=function(p,d,h){const v=h instanceof _i?new Zu(h,p):h;if(void 0===d)throw new Error(p+"contains undefined "+T(v));if("function"==typeof d)throw new Error(p+"contains a function "+T(v)+" with contents = "+d.toString());if(Di(d))throw new Error(p+"contains "+d.toString()+" "+T(v));if("string"==typeof d&&d.length>cl/3&&(0,fe.ug)(d)>cl)throw new Error(p+"contains a string greater than "+cl+" utf8 bytes "+T(v)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let b=!1,B=!1;if(wi(d,(K,we)=>{if(".value"===K)b=!0;else if(".priority"!==K&&".sv"!==K&&(B=!0,!Zd(K)))throw new Error(p+" contains an invalid key ("+K+") "+T(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function C(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,fe.ug)(d),O(p)})(v,K),id(p,we,v),function R(p){const d=p.parts_.pop();p.byteLength_-=(0,fe.ug)(d),p.parts_.length>0&&(p.byteLength_-=1)}(v)}),b&&B)throw new Error(p+' contains ".value" child '+T(v)+" in addition to actual children.")}},Ru=function(p,d){const h=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!Zd(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==h.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),function(p){return"string"==typeof p&&0!==p.length&&!yc.test(p)}(p)}(h))throw new Error((0,fe.gK)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Zf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Da(p,d,h){(function sd(p,d){let h=null;for(let v=0;v<d.length;v++){const b=d[v],B=b.getPath();null!==h&&!fa(B,h.path)&&(p.eventLists_.push(h),h=null),null===h&&(h={events:[],path:B}),h.events.push(b)}h&&p.eventLists_.push(h)})(p,h),function Xf(p,d){p.recursionDepth_++;let h=!0;for(let v=0;v<p.eventLists_.length;v++){const b=p.eventLists_[v];b&&(d(b.path)?(Jf(p.eventLists_[v]),p.eventLists_[v]=null):h=!1)}h&&(p.eventLists_=[]),p.recursionDepth_--}(p,v=>Yi(v,d)||Yi(d,v))}function Jf(p){for(let d=0;d<p.events.length;d++){const h=p.events[d];if(null!==h){p.events[d]=null;const v=h.getEventRunner();zt&&ai("event: "+h.toString()),ua(v)}}}const Pu=25;class eu{constructor(d,h,v,b){this.repoInfo_=d,this.forceRestClient_=h,this.authTokenProvider_=v,this.appCheckProvider_=b,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bl(),this.transactionQueueTree_=new qf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ep(p){const h=p.infoData_.getNode(new _i(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+h}function Xd(p){return Ba({timestamp:ep(p)})}function cm(p,d,h,v,b){p.dataUpdateCount++;const B=new _i(d);h=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,h):h;let K=[];if(b)if(v){const We=(0,fe.UI)(h,lt=>Wi(lt));K=function zd(p,d,h,v){const b=Wf(p,v);if(b){const B=pc(b),K=B.path,we=B.queryId,We=Ni(K,d),lt=Zi.fromObject(h);return Gd(p,K,new $r(_a(we),We,lt))}return[]}(p.serverSyncTree_,B,We,b)}else{const We=Wi(h);K=function cc(p,d,h,v){const b=Wf(p,v);if(null!=b){const B=pc(b),K=B.path,we=B.queryId,We=Ni(K,d);return Gd(p,K,new Gs(_a(we),We,h))}return[]}(p.serverSyncTree_,B,We,b)}else if(v){const We=(0,fe.UI)(h,lt=>Wi(lt));K=function Zh(p,d,h){const v=Zi.fromObject(h);return hc(p,new $r({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,v))}(p.serverSyncTree_,B,We)}else{const We=Wi(h);K=ed(p.serverSyncTree_,B,We)}let we=B;K.length>0&&(we=Pl(p,B)),Da(p.eventQueue_,we,K)}function rg(p,d){tu(p,"connected",d),!1===d&&function ig(p){ja(p,"onDisconnectEvents");const d=Xd(p),h=bl();gu(p.onDisconnect_,Qn(),(b,B)=>{const K=Gf(b,B,p.serverSyncTree_,d);Na(h,b,K)});let v=[];gu(h,Qn(),(b,B)=>{v=v.concat(ed(p.serverSyncTree_,b,B));const K=function Ou(p,d){const h=$a(sp(p,d)),v=Yd(p.transactionQueueTree_,d);return function tg(p,d,h){let v=h?p:p.parent;for(;null!==v;){if(d(v))return!0;v=v.parent}}(v,b=>{Ha(p,b)}),Ha(p,v),Kd(v,b=>{Ha(p,b)}),h}(p,b);Pl(p,K)}),p.onDisconnect_=bl(),Da(p.eventQueue_,Qn(),v)}(p)}function tu(p,d,h){const v=new _i("/.info/"+d),b=Wi(h);p.infoData_.updateSnapshot(v,b);const B=ed(p.infoSyncTree_,v,b);Da(p.eventQueue_,v,B)}function Os(p){return p.nextWriteId_++}function ja(p,...d){let h="";p.persistentConnection_&&(h=p.persistentConnection_.id+":"),ai(h,...d)}function ip(p,d,h){return Wd(p.serverSyncTree_,d,h)||Ar.EMPTY_NODE}function xu(p,d=p.transactionQueueTree_){if(d||Ic(p,d),ra(d)){const h=Cs(p,d);(0,fe.hu)(h.length>0,"Sending zero length transaction queue"),h.every(b=>0===b.status)&&function rf(p,d,h){const v=h.map(lt=>lt.currentWriteId),b=ip(p,d,v);let B=b;const K=b.hash();for(let lt=0;lt<h.length;lt++){const $t=h[lt];(0,fe.hu)(0===$t.status,"tryToSendTransactionQueue_: items in queue should all be run."),$t.status=1,$t.retryCount++;const qt=Ni(d,$t.path);B=B.updateChild(qt,$t.currentOutputSnapshotRaw)}const we=B.val(!0),We=d;p.server_.put(We.toString(),we,lt=>{ja(p,"transaction put response",{path:We.toString(),status:lt});let $t=[];if("ok"===lt){const qt=[];for(let tn=0;tn<h.length;tn++)h[tn].status=2,$t=$t.concat(ul(p.serverSyncTree_,h[tn].currentWriteId)),h[tn].onComplete&&qt.push(()=>h[tn].onComplete(null,!0,h[tn].currentOutputSnapshotResolved)),h[tn].unwatcher();Ic(p,Yd(p.transactionQueueTree_,d)),xu(p,p.transactionQueueTree_),Da(p.eventQueue_,d,$t);for(let tn=0;tn<qt.length;tn++)ua(qt[tn])}else{if("datastale"===lt)for(let qt=0;qt<h.length;qt++)h[qt].status=3===h[qt].status?4:0;else{fo("transaction at "+We.toString()+" failed: "+lt);for(let qt=0;qt<h.length;qt++)h[qt].status=4,h[qt].abortReason=lt}Pl(p,d)}},K)}(p,$a(d),h)}else Jh(d)&&rd(d,h=>{xu(p,h)})}function Pl(p,d){const h=sp(p,d),v=$a(h);return function op(p,d,h){if(0===d.length)return;const v=[];let b=[];const K=d.filter(we=>0===we.status).map(we=>we.currentWriteId);for(let we=0;we<d.length;we++){const We=d[we],lt=Ni(h,We.path);let qt,$t=!1;if((0,fe.hu)(null!==lt,"rerunTransactionsUnderNode_: relativePath should not be null."),4===We.status)$t=!0,qt=We.abortReason,b=b.concat(ul(p.serverSyncTree_,We.currentWriteId,!0));else if(0===We.status)if(We.retryCount>=Pu)$t=!0,qt="maxretry",b=b.concat(ul(p.serverSyncTree_,We.currentWriteId,!0));else{const tn=ip(p,We.path,K);We.currentInputSnapshot=tn;const Wn=d[we].update(tn.val());if(void 0!==Wn){id("transaction failed: Data returned ",Wn,We.path);let hr=Wi(Wn);"object"==typeof Wn&&null!=Wn&&(0,fe.r3)(Wn,".priority")||(hr=hr.updatePriority(tn.getPriority()));const Ts=We.currentWriteId,Ac=Xd(p),Sc=Qh(hr,tn,Ac);We.currentOutputSnapshotRaw=hr,We.currentOutputSnapshotResolved=Sc,We.currentWriteId=Os(p),K.splice(K.indexOf(Ts),1),b=b.concat(Kh(p.serverSyncTree_,We.path,Sc,We.currentWriteId,We.applyLocally)),b=b.concat(ul(p.serverSyncTree_,Ts,!0))}else $t=!0,qt="nodata",b=b.concat(ul(p.serverSyncTree_,We.currentWriteId,!0))}Da(p.eventQueue_,h,b),b=[],$t&&(d[we].status=2,setTimeout(d[we].unwatcher,Math.floor(0)),d[we].onComplete&&v.push("nodata"===qt?()=>d[we].onComplete(null,!1,d[we].currentInputSnapshot):()=>d[we].onComplete(new Error(qt),!1,null)))}Ic(p,p.transactionQueueTree_);for(let we=0;we<v.length;we++)ua(v[we]);xu(p,p.transactionQueueTree_)}(p,Cs(p,h),v),v}function sp(p,d){let h,v=p.transactionQueueTree_;for(h=xr(d);null!==h&&void 0===ra(v);)v=Yd(v,h),h=xr(d=Xr(d));return v}function Cs(p,d){const h=[];return ap(p,d,h),h.sort((v,b)=>v.order-b.order),h}function ap(p,d,h){const v=ra(d);if(v)for(let b=0;b<v.length;b++)h.push(v[b]);rd(d,b=>{ap(p,b,h)})}function Ic(p,d){const h=ra(d);if(h){let v=0;for(let b=0;b<h.length;b++)2!==h[b].status&&(h[v]=h[b],v++);h.length=v,vc(d,h.length>0?h:void 0)}rd(d,v=>{Ic(p,v)})}function Ha(p,d){const h=ra(d);if(h){const v=[];let b=[],B=-1;for(let K=0;K<h.length;K++)3===h[K].status||(1===h[K].status?((0,fe.hu)(B===K-1,"All SENT items should be at beginning of queue."),B=K,h[K].status=3,h[K].abortReason="set"):((0,fe.hu)(0===h[K].status,"Unexpected transaction status in abort"),h[K].unwatcher(),b=b.concat(ul(p.serverSyncTree_,h[K].currentWriteId,!0)),h[K].onComplete&&v.push(h[K].onComplete.bind(null,new Error("set"),!1,null))));-1===B?vc(d,void 0):h.length=B+1,Da(p.eventQueue_,$a(d),b);for(let K=0;K<v.length;K++)ua(v[K])}}const nh=function(p,d){const h=Nu(p),v=h.namespace;return"firebase.com"===h.domain&&Li(h.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==h.domain&&Li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),h.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new U(h.host,h.secure,v,"ws"===h.scheme||"wss"===h.scheme,d,"",v!==h.subdomain),path:new _i(h.pathString)}},Nu=function(p){let d="",h="",v="",b="",B="",K=!0,we="https",We=443;if("string"==typeof p){let lt=p.indexOf("//");lt>=0&&(we=p.substring(0,lt-1),p=p.substring(lt+2));let $t=p.indexOf("/");-1===$t&&($t=p.length);let qt=p.indexOf("?");-1===qt&&(qt=p.length),d=p.substring(0,Math.min($t,qt)),$t<qt&&(b=function za(p){let d="";const h=p.split("/");for(let v=0;v<h.length;v++)if(h[v].length>0){let b=h[v];try{b=decodeURIComponent(b.replace(/\+/g," "))}catch{}d+="/"+b}return d}(p.substring($t,qt)));const tn=function Cc(p){const d={};"?"===p.charAt(0)&&(p=p.substring(1));for(const h of p.split("&")){if(0===h.length)continue;const v=h.split("=");2===v.length?d[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):fo(`Invalid query segment '${h}' in query '${p}'`)}return d}(p.substring(Math.min(p.length,qt)));lt=d.indexOf(":"),lt>=0?(K="https"===we||"wss"===we,We=parseInt(d.substring(lt+1),10)):lt=d.length;const Wn=d.slice(0,lt);if("localhost"===Wn.toLowerCase())h="localhost";else if(Wn.split(".").length<=2)h=Wn;else{const hr=d.indexOf(".");v=d.substring(0,hr).toLowerCase(),h=d.substring(hr+1),B=v}"ns"in tn&&(B=tn.ns)}return{host:d,port:We,domain:h,subdomain:v,secure:K,scheme:we,pathString:b,namespace:B}};class wa{constructor(d,h,v,b){this._repo=d,this._path=h,this._queryParams=v,this._orderByCalled=b}get key(){return or(this._path)?null:Ss(this._path)}get ref(){return new oa(this._repo,this._path)}get _queryIdentifier(){const d=rl(this._queryParams),h=ps(d);return"{}"===h?"default":h}get _queryObject(){return rl(this._queryParams)}isEqual(d){if(!((d=(0,fe.m9)(d))instanceof wa))return!1;const h=this._repo===d._repo,v=fa(this._path,d._path);return h&&v&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Cl(p){let d="";for(let h=p.pieceNum_;h<p.pieces_.length;h++)""!==p.pieces_[h]&&(d+="/"+encodeURIComponent(String(p.pieces_[h])));return d||"/"}(this._path)}}class oa extends wa{constructor(d,h){super(d,h,new Oa,!1)}get parent(){const d=Pa(this._path);return null===d?null:new oa(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}(function Xc(p){(0,fe.hu)(!wu,"__referenceConstructor has already been defined"),wu=p})(oa),function lm(p){(0,fe.hu)(!Yh,"__referenceConstructor has already been defined"),Yh=p}(oa);const mf={};class pp{constructor(d,h){this._repoInternal=d,this.app=h,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ld(p,d,h){if(p.stats_=vr(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new Ms(p.repoInfo_,(v,b,B,K)=>{cm(p,v,b,B,K)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>rg(p,!0),0);else{if(typeof h<"u"&&null!==h){if("object"!=typeof h)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,fe.Wl)(h)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}p.persistentConnection_=new Gr(p.repoInfo_,d,(v,b,B,K)=>{cm(p,v,b,B,K)},v=>{rg(p,v)},v=>{!function Ec(p,d){wi(d,(h,v)=>{tu(p,h,v)})}(p,v)},p.authTokenProvider_,p.appCheckProvider_,h),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(v=>{p.server_.refreshAuthToken(v)}),p.appCheckProvider_.addTokenChangeListener(v=>{p.server_.refreshAppCheckToken(v.token)}),p.statsReporter_=function Br(p,d){const h=p.toString();return Tr[h]||(Tr[h]=d()),Tr[h]}(p.repoInfo_,()=>new zc(p.stats_,p.server_)),p.infoData_=new Uh,p.infoSyncTree_=new $f({startListening:(v,b,B,K)=>{let we=[];const We=p.infoData_.getNode(v._path);return We.isEmpty()||(we=ed(p.infoSyncTree_,v._path,We),setTimeout(()=>{K("ok")},0)),we},stopListening:()=>{}}),tu(p,"connected",!1),p.serverSyncTree_=new $f({startListening:(v,b,B,K)=>(p.server_.listen(v,B,b,(we,We)=>{const lt=K(we,We);Da(p.eventQueue_,v._path,lt)}),[]),stopListening:(v,b)=>{p.server_.unlisten(v,b)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oa(this._repo,Qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fp(p,d){const h=mf[d];(!h||h[p.key]!==p)&&Li(`Database ${d}(${p.repoInfo_}) has already been deleted.`),function th(p){p.persistentConnection_&&p.persistentConnection_.interrupt("repo_interrupt")}(p),delete h[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&Li("Cannot call "+d+" on a deleted database.")}}function vf(p=(0,ge.getApp)(),d){const h=(0,ge._getProvider)(p,"database").getImmediate({identifier:d});if(!h._instanceStarted){const v=(0,fe.P0)("database");v&&function _p(p,d,h,v={}){(p=(0,fe.m9)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&Li("Cannot call useEmulator() after instance has already been initialized.");const b=p._repoInternal;let B;if(b.repoInfo_.nodeAdmin)v.mockUserToken&&Li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),B=new is(is.OWNER);else if(v.mockUserToken){const K="string"==typeof v.mockUserToken?v.mockUserToken:(0,fe.Sg)(v.mockUserToken,p.app.options.projectId);B=new is(K)}!function wc(p,d,h,v){p.repoInfo_=new U(`${d}:${h}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams,!0),v&&(p.authTokenProvider_=v)}(b,d,h,B)}(h,...v)}return h}Gr.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},Gr.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)},function vm(p){(function kl(p){qa=p})(ge.SDK_VERSION),(0,ge._registerComponent)(new $e.wA("database",(d,{instanceIdentifier:h})=>function fg(p,d,h,v,b){let B=v||p.options.databaseURL;void 0===B&&(p.options.projectId||Li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ai("Using default host for project ",p.options.projectId),B=`${p.options.projectId}-default-rtdb.firebaseio.com`);let We,lt,K=nh(B,b),we=K.repoInfo;typeof process<"u"&&process.env&&(lt=process.env.FIREBASE_DATABASE_EMULATOR_HOST),lt?(We=!0,B=`http://${lt}?ns=${we.namespace}`,K=nh(B,b),we=K.repoInfo):We=!K.repoInfo.secure;const $t=b&&We?new is(is.OWNER):new ms(p.name,p.options,d);Ru("Invalid Firebase Database URL",K),or(K.path)||Li("Database URL must point to the root of a Firebase Database (not including a child path).");const qt=function mm(p,d,h,v){let b=mf[d.name];b||(b={},mf[d.name]=b);let B=b[p.toURLString()];return B&&Li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),B=new eu(p,!1,h,v),b[p.toURLString()]=B,B}(we,p,$t,new Yu(p.name,h));return new pp(qt,p)}(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),h),"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Qo,"1.0.1",p),(0,ge.registerVersion)(Qo,"1.0.1","esm2017")}();class Lu{constructor(d){return d}}const Ml="database",Vu=new V.OlP("angularfire2.database-instances");function yp(p){return(d,h)=>{const v=d.runOutsideAngular(()=>p(h));return new Lu(v)}}const _h={provide:class bc{constructor(){return(0,Ze.vb)(Ml)}},deps:[[new V.FiY,Vu]]},Em={provide:Lu,useFactory:function O_(p,d){const h=(0,Ze.JM)(Ml,p,d);return h&&new Lu(h)},deps:[[new V.FiY,Vu],Qe]};let Ef=(()=>{var p;class d{constructor(){(0,Ke.KN)("angularfire",Ze.q4.full,"rtdb")}}return p=d,(0,He.Z)(d,"\u0275fac",function(v){return new(v||p)}),(0,He.Z)(d,"\u0275mod",V.oAB({type:p})),(0,He.Z)(d,"\u0275inj",V.cJS({providers:[Em,_h]})),d})();function Im(p,...d){return{ngModule:Ef,providers:[{provide:Vu,useFactory:yp(p),multi:!0,deps:[V.R0b,V.zs3,Ze.HU,ze,[new V.FiY,mt],[new V.FiY,Ze.Rf],...d]}]}}const L_=(0,Ze.u3)(vf,!0);var Rp=N(7213);const xl_firebaseConfig={apiKey:"AIzaSyB67XMBnKbUSZUz-2UKFOjW-hc36Cc7YpA",authDomain:"registrapp-3ea1b.firebaseapp.com",databaseURL:"https://registrapp-3ea1b-default-rtdb.firebaseio.com",projectId:"registrapp-3ea1b",storageBucket:"registrapp-3ea1b.appspot.com",messagingSenderId:"924476188769",appId:"1:924476188769:web:5b499bf3316d4188dbe220"};let Ih=(()=>{var p;class d{}return(p=d).\u0275fac=function(v){return new(v||p)},p.\u0275mod=V.oAB({type:p,bootstrap:[Me]}),p.\u0275inj=V.cJS({providers:[{provide:ee.wN,useClass:de.r4}],imports:[l.b2,Pe.Pc.forRoot(),ie,Fe.hO.initializeApp(xl_firebaseConfig),Rp.ww,me.UX,Be.JF,te(()=>dt(xl_firebaseConfig)),bt(()=>fr(Le())),Pi(()=>ve(Le())),Im(()=>L_())]}),d})();(0,V.G48)(),l.q6().bootstrapModule(Ih).catch(p=>console.log(p))},5619:(cn,ft,N)=>{"use strict";N.d(ft,{X:()=>V});var l=N(8645);class V extends l.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const Pe=super._subscribe(de);return!Pe.closed&&de.next(this._value),Pe}getValue(){const{hasError:de,thrownError:Pe,_value:Ae}=this;if(de)throw Pe;return this._throwIfClosed(),Ae}next(de){super.next(this._value=de)}}},5592:(cn,ft,N)=>{"use strict";N.d(ft,{y:()=>Me});var l=N(305),V=N(7394),ee=N(4850),de=N(8407),Pe=N(2653),Ae=N(4674),Te=N(1441);let Me=(()=>{class Be{constructor(He){He&&(this._subscribe=He)}lift(He){const Ke=new Be;return Ke.source=this,Ke.operator=He,Ke}subscribe(He,Ke,Ze){const Qe=function me(Be){return Be&&Be instanceof l.Lv||function ie(Be){return Be&&(0,Ae.m)(Be.next)&&(0,Ae.m)(Be.error)&&(0,Ae.m)(Be.complete)}(Be)&&(0,V.Nn)(Be)}(He)?He:new l.Hp(He,Ke,Ze);return(0,Te.x)(()=>{const{operator:ze,source:rt}=this;Qe.add(ze?ze.call(Qe,rt):rt?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(He){try{return this._subscribe(He)}catch(Ke){He.error(Ke)}}forEach(He,Ke){return new(Ke=ot(Ke))((Ze,Qe)=>{const ze=new l.Hp({next:rt=>{try{He(rt)}catch(vt){Qe(vt),ze.unsubscribe()}},error:Qe,complete:Ze});this.subscribe(ze)})}_subscribe(He){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(He)}[ee.L](){return this}pipe(...He){return(0,de.U)(He)(this)}toPromise(He){return new(He=ot(He))((Ke,Ze)=>{let Qe;this.subscribe(ze=>Qe=ze,ze=>Ze(ze),()=>Ke(Qe))})}}return Be.create=Fe=>new Be(Fe),Be})();function ot(Be){var Fe;return null!==(Fe=null!=Be?Be:Pe.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(cn,ft,N)=>{"use strict";N.d(ft,{x:()=>Te});var l=N(5592),V=N(7394);const de=(0,N(2306).d)(ot=>function(){ot(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=N(9039),Ae=N(1441);let Te=(()=>{class ot extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Be=new Me(this,this);return Be.operator=me,Be}_throwIfClosed(){if(this.closed)throw new de}next(me){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(me)}})}error(me){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Be}=this;for(;Be.length;)Be.shift().error(me)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Be,isStopped:Fe,observers:He}=this;return Be||Fe?V.Lc:(this.currentObservers=null,He.push(me),new V.w0(()=>{this.currentObservers=null,(0,Pe.P)(He,me)}))}_checkFinalizedStatuses(me){const{hasError:Be,thrownError:Fe,isStopped:He}=this;Be?me.error(Fe):He&&me.complete()}asObservable(){const me=new l.y;return me.source=this,me}}return ot.create=(ie,me)=>new Me(ie,me),ot})();class Me extends Te{constructor(ie,me){super(),this.destination=ie,this.source=me}next(ie){var me,Be;null===(Be=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Be||Be.call(me,ie)}error(ie){var me,Be;null===(Be=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Be||Be.call(me,ie)}complete(){var ie,me;null===(me=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===me||me.call(ie)}_subscribe(ie){var me,Be;return null!==(Be=null===(me=this.source)||void 0===me?void 0:me.subscribe(ie))&&void 0!==Be?Be:V.Lc}}},305:(cn,ft,N)=>{"use strict";N.d(ft,{Hp:()=>Ze,Lv:()=>Be});var l=N(4674),V=N(7394),ee=N(2653),de=N(3894),Pe=N(2420);const Ae=ot("C",void 0,void 0);function ot(Se,Xe,Ve){return{kind:Se,value:Xe,error:Ve}}var ie=N(7599),me=N(1441);class Be extends V.w0{constructor(Xe){super(),this.isStopped=!1,Xe?(this.destination=Xe,(0,V.Nn)(Xe)&&Xe.add(this)):this.destination=vt}static create(Xe,Ve,Oe){return new Ze(Xe,Ve,Oe)}next(Xe){this.isStopped?rt(function Me(Se){return ot("N",Se,void 0)}(Xe),this):this._next(Xe)}error(Xe){this.isStopped?rt(function Te(Se){return ot("E",void 0,Se)}(Xe),this):(this.isStopped=!0,this._error(Xe))}complete(){this.isStopped?rt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xe){this.destination.next(Xe)}_error(Xe){try{this.destination.error(Xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function He(Se,Xe){return Fe.call(Se,Xe)}class Ke{constructor(Xe){this.partialObserver=Xe}next(Xe){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Xe)}catch(Oe){Qe(Oe)}}error(Xe){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Xe)}catch(Oe){Qe(Oe)}else Qe(Xe)}complete(){const{partialObserver:Xe}=this;if(Xe.complete)try{Xe.complete()}catch(Ve){Qe(Ve)}}}class Ze extends Be{constructor(Xe,Ve,Oe){let Ce;if(super(),(0,l.m)(Xe)||!Xe)Ce={next:null!=Xe?Xe:void 0,error:null!=Ve?Ve:void 0,complete:null!=Oe?Oe:void 0};else{let te;this&&ee.config.useDeprecatedNextContext?(te=Object.create(Xe),te.unsubscribe=()=>this.unsubscribe(),Ce={next:Xe.next&&He(Xe.next,te),error:Xe.error&&He(Xe.error,te),complete:Xe.complete&&He(Xe.complete,te)}):Ce=Xe}this.destination=new Ke(Ce)}}function Qe(Se){ee.config.useDeprecatedSynchronousErrorHandling?(0,me.O)(Se):(0,de.h)(Se)}function rt(Se,Xe){const{onStoppedNotification:Ve}=ee.config;Ve&&ie.z.setTimeout(()=>Ve(Se,Xe))}const vt={closed:!0,next:Pe.Z,error:function ze(Se){throw Se},complete:Pe.Z}},7394:(cn,ft,N)=>{"use strict";N.d(ft,{Lc:()=>Ae,w0:()=>Pe,Nn:()=>Te});var l=N(4674);const ee=(0,N(2306).d)(ot=>function(me){ot(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Be,Fe)=>`${Fe+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var de=N(9039);class Pe{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const He of me)He.remove(this);else me.remove(this);const{initialTeardown:Be}=this;if((0,l.m)(Be))try{Be()}catch(He){ie=He instanceof ee?He.errors:[He]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const He of Fe)try{Me(He)}catch(Ke){ie=null!=ie?ie:[],Ke instanceof ee?ie=[...ie,...Ke.errors]:ie.push(Ke)}}if(ie)throw new ee(ie)}}add(ie){var me;if(ie&&ie!==this)if(this.closed)Me(ie);else{if(ie instanceof Pe){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ie)}}_hasParent(ie){const{_parentage:me}=this;return me===ie||Array.isArray(me)&&me.includes(ie)}_addParent(ie){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ie),me):me?[me,ie]:ie}_removeParent(ie){const{_parentage:me}=this;me===ie?this._parentage=null:Array.isArray(me)&&(0,de.P)(me,ie)}remove(ie){const{_finalizers:me}=this;me&&(0,de.P)(me,ie),ie instanceof Pe&&ie._removeParent(this)}}Pe.EMPTY=(()=>{const ot=new Pe;return ot.closed=!0,ot})();const Ae=Pe.EMPTY;function Te(ot){return ot instanceof Pe||ot&&"closed"in ot&&(0,l.m)(ot.remove)&&(0,l.m)(ot.add)&&(0,l.m)(ot.unsubscribe)}function Me(ot){(0,l.m)(ot)?ot():ot.unsubscribe()}},2653:(cn,ft,N)=>{"use strict";N.d(ft,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(cn,ft,N)=>{"use strict";N.d(ft,{a:()=>ie});var l=N(5592),V=N(7453),ee=N(2459),de=N(2737),Pe=N(7400),Ae=N(4564),Te=N(2714),Me=N(8251),ot=N(7103);function ie(...Fe){const He=(0,Ae.yG)(Fe),Ke=(0,Ae.jO)(Fe),{args:Ze,keys:Qe}=(0,V.D)(Fe);if(0===Ze.length)return(0,ee.D)([],He);const ze=new l.y(function me(Fe,He,Ke=de.y){return Ze=>{Be(He,()=>{const{length:Qe}=Fe,ze=new Array(Qe);let rt=Qe,vt=Qe;for(let Se=0;Se<Qe;Se++)Be(He,()=>{const Xe=(0,ee.D)(Fe[Se],He);let Ve=!1;Xe.subscribe((0,Me.x)(Ze,Oe=>{ze[Se]=Oe,Ve||(Ve=!0,vt--),vt||Ze.next(Ke(ze.slice()))},()=>{--rt||Ze.complete()}))},Ze)},Ze)}}(Ze,He,Qe?rt=>(0,Te.n)(Qe,rt):de.y));return Ke?ze.pipe((0,Pe.Z)(Ke)):ze}function Be(Fe,He,Ke){Fe?(0,ot.f)(Ke,Fe,He):He()}},5211:(cn,ft,N)=>{"use strict";N.d(ft,{z:()=>Pe});var l=N(7537),ee=N(4564),de=N(2459);function Pe(...Ae){return function V(){return(0,l.J)(1)}()((0,de.D)(Ae,(0,ee.yG)(Ae)))}},6232:(cn,ft,N)=>{"use strict";N.d(ft,{E:()=>V});const V=new(N(5592).y)(Pe=>Pe.complete())},2459:(cn,ft,N)=>{"use strict";N.d(ft,{D:()=>Xe});var l=N(4829),V=N(3093),ee=N(5137),Ae=N(5592),Me=N(4971),ot=N(4674),ie=N(7103);function Be(Ve,Oe){if(!Ve)throw new Error("Iterable cannot be null");return new Ae.y(Ce=>{(0,ie.f)(Ce,Oe,()=>{const te=Ve[Symbol.asyncIterator]();(0,ie.f)(Ce,Oe,()=>{te.next().then(je=>{je.done?Ce.complete():Ce.next(je.value)})},0,!0)})})}var Fe=N(8382),He=N(4026),Ke=N(4266),Ze=N(3664),Qe=N(5726),ze=N(9853),rt=N(541);function Xe(Ve,Oe){return Oe?function Se(Ve,Oe){if(null!=Ve){if((0,Fe.c)(Ve))return function de(Ve,Oe){return(0,l.Xf)(Ve).pipe((0,ee.R)(Oe),(0,V.Q)(Oe))}(Ve,Oe);if((0,Ke.z)(Ve))return function Te(Ve,Oe){return new Ae.y(Ce=>{let te=0;return Oe.schedule(function(){te===Ve.length?Ce.complete():(Ce.next(Ve[te++]),Ce.closed||this.schedule())})})}(Ve,Oe);if((0,He.t)(Ve))return function Pe(Ve,Oe){return(0,l.Xf)(Ve).pipe((0,ee.R)(Oe),(0,V.Q)(Oe))}(Ve,Oe);if((0,Qe.D)(Ve))return Be(Ve,Oe);if((0,Ze.T)(Ve))return function me(Ve,Oe){return new Ae.y(Ce=>{let te;return(0,ie.f)(Ce,Oe,()=>{te=Ve[Me.h](),(0,ie.f)(Ce,Oe,()=>{let je,Le;try{({value:je,done:Le}=te.next())}catch(st){return void Ce.error(st)}Le?Ce.complete():Ce.next(je)},0,!0)}),()=>(0,ot.m)(null==te?void 0:te.return)&&te.return()})}(Ve,Oe);if((0,rt.L)(Ve))return function vt(Ve,Oe){return Be((0,rt.Q)(Ve),Oe)}(Ve,Oe)}throw(0,ze.z)(Ve)}(Ve,Oe):(0,l.Xf)(Ve)}},2438:(cn,ft,N)=>{"use strict";N.d(ft,{R:()=>ie});var l=N(4829),V=N(5592),ee=N(1631),de=N(4266),Pe=N(4674),Ae=N(7400);const Te=["addListener","removeListener"],Me=["addEventListener","removeEventListener"],ot=["on","off"];function ie(Ke,Ze,Qe,ze){if((0,Pe.m)(Qe)&&(ze=Qe,Qe=void 0),ze)return ie(Ke,Ze,Qe).pipe((0,Ae.Z)(ze));const[rt,vt]=function He(Ke){return(0,Pe.m)(Ke.addEventListener)&&(0,Pe.m)(Ke.removeEventListener)}(Ke)?Me.map(Se=>Xe=>Ke[Se](Ze,Xe,Qe)):function Be(Ke){return(0,Pe.m)(Ke.addListener)&&(0,Pe.m)(Ke.removeListener)}(Ke)?Te.map(me(Ke,Ze)):function Fe(Ke){return(0,Pe.m)(Ke.on)&&(0,Pe.m)(Ke.off)}(Ke)?ot.map(me(Ke,Ze)):[];if(!rt&&(0,de.z)(Ke))return(0,ee.z)(Se=>ie(Se,Ze,Qe))((0,l.Xf)(Ke));if(!rt)throw new TypeError("Invalid event target");return new V.y(Se=>{const Xe=(...Ve)=>Se.next(1<Ve.length?Ve:Ve[0]);return rt(Xe),()=>vt(Xe)})}function me(Ke,Ze){return Qe=>ze=>Ke[Qe](Ze,ze)}},4829:(cn,ft,N)=>{"use strict";N.d(ft,{Xf:()=>Fe});var l=N(7582),V=N(4266),ee=N(4026),de=N(5592),Pe=N(8382),Ae=N(5726),Te=N(9853),Me=N(3664),ot=N(541),ie=N(4674),me=N(3894),Be=N(4850);function Fe(Se){if(Se instanceof de.y)return Se;if(null!=Se){if((0,Pe.c)(Se))return function He(Se){return new de.y(Xe=>{const Ve=Se[Be.L]();if((0,ie.m)(Ve.subscribe))return Ve.subscribe(Xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,V.z)(Se))return function Ke(Se){return new de.y(Xe=>{for(let Ve=0;Ve<Se.length&&!Xe.closed;Ve++)Xe.next(Se[Ve]);Xe.complete()})}(Se);if((0,ee.t)(Se))return function Ze(Se){return new de.y(Xe=>{Se.then(Ve=>{Xe.closed||(Xe.next(Ve),Xe.complete())},Ve=>Xe.error(Ve)).then(null,me.h)})}(Se);if((0,Ae.D)(Se))return ze(Se);if((0,Me.T)(Se))return function Qe(Se){return new de.y(Xe=>{for(const Ve of Se)if(Xe.next(Ve),Xe.closed)return;Xe.complete()})}(Se);if((0,ot.L)(Se))return function rt(Se){return ze((0,ot.Q)(Se))}(Se)}throw(0,Te.z)(Se)}function ze(Se){return new de.y(Xe=>{(function vt(Se,Xe){var Ve,Oe,Ce,te;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,l.KL)(Se);!(Oe=yield Ve.next()).done;)if(Xe.next(Oe.value),Xe.closed)return}catch(je){Ce={error:je}}finally{try{Oe&&!Oe.done&&(te=Ve.return)&&(yield te.call(Ve))}finally{if(Ce)throw Ce.error}}Xe.complete()})})(Se,Xe).catch(Ve=>Xe.error(Ve))})}},3019:(cn,ft,N)=>{"use strict";N.d(ft,{T:()=>Ae});var l=N(7537),V=N(4829),ee=N(6232),de=N(4564),Pe=N(2459);function Ae(...Te){const Me=(0,de.yG)(Te),ot=(0,de._6)(Te,1/0),ie=Te;return ie.length?1===ie.length?(0,V.Xf)(ie[0]):(0,l.J)(ot)((0,Pe.D)(ie,Me)):ee.E}},2096:(cn,ft,N)=>{"use strict";N.d(ft,{of:()=>ee});var l=N(4564),V=N(2459);function ee(...de){const Pe=(0,l.yG)(de);return(0,V.D)(de,Pe)}},8251:(cn,ft,N)=>{"use strict";N.d(ft,{x:()=>V});var l=N(305);function V(de,Pe,Ae,Te,Me){return new ee(de,Pe,Ae,Te,Me)}class ee extends l.Lv{constructor(Pe,Ae,Te,Me,ot,ie){super(Pe),this.onFinalize=ot,this.shouldUnsubscribe=ie,this._next=Ae?function(me){try{Ae(me)}catch(Be){Pe.error(Be)}}:super._next,this._error=Me?function(me){try{Me(me)}catch(Be){Pe.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(me){Pe.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},6328:(cn,ft,N)=>{"use strict";N.d(ft,{b:()=>ee});var l=N(1631),V=N(4674);function ee(de,Pe){return(0,V.m)(Pe)?(0,l.z)(de,Pe,1):(0,l.z)(de,1)}},3572:(cn,ft,N)=>{"use strict";N.d(ft,{d:()=>ee});var l=N(9360),V=N(8251);function ee(de){return(0,l.e)((Pe,Ae)=>{let Te=!1;Pe.subscribe((0,V.x)(Ae,Me=>{Te=!0,Ae.next(Me)},()=>{Te||Ae.next(de),Ae.complete()}))})}},3997:(cn,ft,N)=>{"use strict";N.d(ft,{x:()=>de});var l=N(2737),V=N(9360),ee=N(8251);function de(Ae,Te=l.y){return Ae=null!=Ae?Ae:Pe,(0,V.e)((Me,ot)=>{let ie,me=!0;Me.subscribe((0,ee.x)(ot,Be=>{const Fe=Te(Be);(me||!Ae(ie,Fe))&&(me=!1,ie=Fe,ot.next(Be))}))})}function Pe(Ae,Te){return Ae===Te}},2181:(cn,ft,N)=>{"use strict";N.d(ft,{h:()=>ee});var l=N(9360),V=N(8251);function ee(de,Pe){return(0,l.e)((Ae,Te)=>{let Me=0;Ae.subscribe((0,V.x)(Te,ot=>de.call(Pe,ot,Me++)&&Te.next(ot)))})}},4716:(cn,ft,N)=>{"use strict";N.d(ft,{x:()=>V});var l=N(9360);function V(ee){return(0,l.e)((de,Pe)=>{try{de.subscribe(Pe)}finally{Pe.add(ee)}})}},1374:(cn,ft,N)=>{"use strict";N.d(ft,{P:()=>Te});var l=N(6973),V=N(2181),ee=N(8180),de=N(3572),Pe=N(3026),Ae=N(2737);function Te(Me,ot){const ie=arguments.length>=2;return me=>me.pipe(Me?(0,V.h)((Be,Fe)=>Me(Be,Fe,me)):Ae.y,(0,ee.q)(1),ie?(0,de.d)(ot):(0,Pe.T)(()=>new l.K))}},7398:(cn,ft,N)=>{"use strict";N.d(ft,{U:()=>ee});var l=N(9360),V=N(8251);function ee(de,Pe){return(0,l.e)((Ae,Te)=>{let Me=0;Ae.subscribe((0,V.x)(Te,ot=>{Te.next(de.call(Pe,ot,Me++))}))})}},7537:(cn,ft,N)=>{"use strict";N.d(ft,{J:()=>ee});var l=N(1631),V=N(2737);function ee(de=1/0){return(0,l.z)(V.y,de)}},1631:(cn,ft,N)=>{"use strict";N.d(ft,{z:()=>Me});var l=N(7398),V=N(4829),ee=N(9360),de=N(7103),Pe=N(8251),Te=N(4674);function Me(ot,ie,me=1/0){return(0,Te.m)(ie)?Me((Be,Fe)=>(0,l.U)((He,Ke)=>ie(Be,He,Fe,Ke))((0,V.Xf)(ot(Be,Fe))),me):("number"==typeof ie&&(me=ie),(0,ee.e)((Be,Fe)=>function Ae(ot,ie,me,Be,Fe,He,Ke,Ze){const Qe=[];let ze=0,rt=0,vt=!1;const Se=()=>{vt&&!Qe.length&&!ze&&ie.complete()},Xe=Oe=>ze<Be?Ve(Oe):Qe.push(Oe),Ve=Oe=>{He&&ie.next(Oe),ze++;let Ce=!1;(0,V.Xf)(me(Oe,rt++)).subscribe((0,Pe.x)(ie,te=>{null==Fe||Fe(te),He?Xe(te):ie.next(te)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(ze--;Qe.length&&ze<Be;){const te=Qe.shift();Ke?(0,de.f)(ie,Ke,()=>Ve(te)):Ve(te)}Se()}catch(te){ie.error(te)}}))};return ot.subscribe((0,Pe.x)(ie,Xe,()=>{vt=!0,Se()})),()=>{null==Ze||Ze()}}(Be,Fe,ot,me)))}},3093:(cn,ft,N)=>{"use strict";N.d(ft,{Q:()=>de});var l=N(7103),V=N(9360),ee=N(8251);function de(Pe,Ae=0){return(0,V.e)((Te,Me)=>{Te.subscribe((0,ee.x)(Me,ot=>(0,l.f)(Me,Pe,()=>Me.next(ot),Ae),()=>(0,l.f)(Me,Pe,()=>Me.complete(),Ae),ot=>(0,l.f)(Me,Pe,()=>Me.error(ot),Ae)))})}},6699:(cn,ft,N)=>{"use strict";N.d(ft,{R:()=>de});var l=N(9360),V=N(8251);function de(Pe,Ae){return(0,l.e)(function ee(Pe,Ae,Te,Me,ot){return(ie,me)=>{let Be=Te,Fe=Ae,He=0;ie.subscribe((0,V.x)(me,Ke=>{const Ze=He++;Fe=Be?Pe(Fe,Ke,Ze):(Be=!0,Ke),Me&&me.next(Fe)},ot&&(()=>{Be&&me.next(Fe),me.complete()})))}}(Pe,Ae,arguments.length>=2,!0))}},3020:(cn,ft,N)=>{"use strict";N.d(ft,{B:()=>Pe});var l=N(4829),V=N(8645),ee=N(305),de=N(9360);function Pe(Te={}){const{connector:Me=(()=>new V.x),resetOnError:ot=!0,resetOnComplete:ie=!0,resetOnRefCountZero:me=!0}=Te;return Be=>{let Fe,He,Ke,Ze=0,Qe=!1,ze=!1;const rt=()=>{null==He||He.unsubscribe(),He=void 0},vt=()=>{rt(),Fe=Ke=void 0,Qe=ze=!1},Se=()=>{const Xe=Fe;vt(),null==Xe||Xe.unsubscribe()};return(0,de.e)((Xe,Ve)=>{Ze++,!ze&&!Qe&&rt();const Oe=Ke=null!=Ke?Ke:Me();Ve.add(()=>{Ze--,0===Ze&&!ze&&!Qe&&(He=Ae(Se,me))}),Oe.subscribe(Ve),!Fe&&Ze>0&&(Fe=new ee.Hp({next:Ce=>Oe.next(Ce),error:Ce=>{ze=!0,rt(),He=Ae(vt,ot,Ce),Oe.error(Ce)},complete:()=>{Qe=!0,rt(),He=Ae(vt,ie),Oe.complete()}}),(0,l.Xf)(Xe).subscribe(Fe))})(Be)}}function Ae(Te,Me,...ot){if(!0===Me)return void Te();if(!1===Me)return;const ie=new ee.Hp({next:()=>{ie.unsubscribe(),Te()}});return(0,l.Xf)(Me(...ot)).subscribe(ie)}},7921:(cn,ft,N)=>{"use strict";N.d(ft,{O:()=>de});var l=N(5211),V=N(4564),ee=N(9360);function de(...Pe){const Ae=(0,V.yG)(Pe);return(0,ee.e)((Te,Me)=>{(Ae?(0,l.z)(Pe,Te,Ae):(0,l.z)(Pe,Te)).subscribe(Me)})}},5137:(cn,ft,N)=>{"use strict";N.d(ft,{R:()=>V});var l=N(9360);function V(ee,de=0){return(0,l.e)((Pe,Ae)=>{Ae.add(ee.schedule(()=>Pe.subscribe(Ae),de))})}},4664:(cn,ft,N)=>{"use strict";N.d(ft,{w:()=>de});var l=N(4829),V=N(9360),ee=N(8251);function de(Pe,Ae){return(0,V.e)((Te,Me)=>{let ot=null,ie=0,me=!1;const Be=()=>me&&!ot&&Me.complete();Te.subscribe((0,ee.x)(Me,Fe=>{null==ot||ot.unsubscribe();let He=0;const Ke=ie++;(0,l.Xf)(Pe(Fe,Ke)).subscribe(ot=(0,ee.x)(Me,Ze=>Me.next(Ae?Ae(Fe,Ze,Ke,He++):Ze),()=>{ot=null,Be()}))},()=>{me=!0,Be()}))})}},8180:(cn,ft,N)=>{"use strict";N.d(ft,{q:()=>de});var l=N(6232),V=N(9360),ee=N(8251);function de(Pe){return Pe<=0?()=>l.E:(0,V.e)((Ae,Te)=>{let Me=0;Ae.subscribe((0,ee.x)(Te,ot=>{++Me<=Pe&&(Te.next(ot),Pe<=Me&&Te.complete())}))})}},9397:(cn,ft,N)=>{"use strict";N.d(ft,{b:()=>Pe});var l=N(4674),V=N(9360),ee=N(8251),de=N(2737);function Pe(Ae,Te,Me){const ot=(0,l.m)(Ae)||Te||Me?{next:Ae,error:Te,complete:Me}:Ae;return ot?(0,V.e)((ie,me)=>{var Be;null===(Be=ot.subscribe)||void 0===Be||Be.call(ot);let Fe=!0;ie.subscribe((0,ee.x)(me,He=>{var Ke;null===(Ke=ot.next)||void 0===Ke||Ke.call(ot,He),me.next(He)},()=>{var He;Fe=!1,null===(He=ot.complete)||void 0===He||He.call(ot),me.complete()},He=>{var Ke;Fe=!1,null===(Ke=ot.error)||void 0===Ke||Ke.call(ot,He),me.error(He)},()=>{var He,Ke;Fe&&(null===(He=ot.unsubscribe)||void 0===He||He.call(ot)),null===(Ke=ot.finalize)||void 0===Ke||Ke.call(ot)}))}):de.y}},3026:(cn,ft,N)=>{"use strict";N.d(ft,{T:()=>de});var l=N(6973),V=N(9360),ee=N(8251);function de(Ae=Pe){return(0,V.e)((Te,Me)=>{let ot=!1;Te.subscribe((0,ee.x)(Me,ie=>{ot=!0,Me.next(ie)},()=>ot?Me.complete():Me.error(Ae())))})}function Pe(){return new l.K}},1954:(cn,ft,N)=>{"use strict";N.d(ft,{o:()=>Pe});var l=N(7394);class V extends l.w0{constructor(Te,Me){super()}schedule(Te,Me=0){return this}}const ee={setInterval(Ae,Te,...Me){const{delegate:ot}=ee;return null!=ot&&ot.setInterval?ot.setInterval(Ae,Te,...Me):setInterval(Ae,Te,...Me)},clearInterval(Ae){const{delegate:Te}=ee;return((null==Te?void 0:Te.clearInterval)||clearInterval)(Ae)},delegate:void 0};var de=N(9039);class Pe extends V{constructor(Te,Me){super(Te,Me),this.scheduler=Te,this.work=Me,this.pending=!1}schedule(Te,Me=0){var ot;if(this.closed)return this;this.state=Te;const ie=this.id,me=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(me,ie,Me)),this.pending=!0,this.delay=Me,this.id=null!==(ot=this.id)&&void 0!==ot?ot:this.requestAsyncId(me,this.id,Me),this}requestAsyncId(Te,Me,ot=0){return ee.setInterval(Te.flush.bind(Te,this),ot)}recycleAsyncId(Te,Me,ot=0){if(null!=ot&&this.delay===ot&&!1===this.pending)return Me;null!=Me&&ee.clearInterval(Me)}execute(Te,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ot=this._execute(Te,Me);if(ot)return ot;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Me){let ie,ot=!1;try{this.work(Te)}catch(me){ot=!0,ie=me||new Error("Scheduled action threw falsy error")}if(ot)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Me}=this,{actions:ot}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ot,this),null!=Te&&(this.id=this.recycleAsyncId(Me,Te,null)),this.delay=null,super.unsubscribe()}}}},2631:(cn,ft,N)=>{"use strict";N.d(ft,{v:()=>ee});var l=N(4552);class V{constructor(Pe,Ae=V.now){this.schedulerActionCtor=Pe,this.now=Ae}schedule(Pe,Ae=0,Te){return new this.schedulerActionCtor(this,Pe).schedule(Te,Ae)}}V.now=l.l.now;class ee extends V{constructor(Pe,Ae=V.now){super(Pe,Ae),this.actions=[],this._active=!1}flush(Pe){const{actions:Ae}=this;if(this._active)return void Ae.push(Pe);let Te;this._active=!0;do{if(Te=Pe.execute(Pe.state,Pe.delay))break}while(Pe=Ae.shift());if(this._active=!1,Te){for(;Pe=Ae.shift();)Pe.unsubscribe();throw Te}}}},6321:(cn,ft,N)=>{"use strict";N.d(ft,{z:()=>ee});var l=N(1954);const ee=new(N(2631).v)(l.o)},4552:(cn,ft,N)=>{"use strict";N.d(ft,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(cn,ft,N)=>{"use strict";N.d(ft,{z:()=>l});const l={setTimeout(V,ee,...de){const{delegate:Pe}=l;return null!=Pe&&Pe.setTimeout?Pe.setTimeout(V,ee,...de):setTimeout(V,ee,...de)},clearTimeout(V){const{delegate:ee}=l;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(V)},delegate:void 0}},4971:(cn,ft,N)=>{"use strict";N.d(ft,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(cn,ft,N)=>{"use strict";N.d(ft,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(cn,ft,N)=>{"use strict";N.d(ft,{K:()=>V});const V=(0,N(2306).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(cn,ft,N)=>{"use strict";N.d(ft,{_6:()=>Ae,jO:()=>de,yG:()=>Pe});var l=N(4674);function ee(Te){return Te[Te.length-1]}function de(Te){return(0,l.m)(ee(Te))?Te.pop():void 0}function Pe(Te){return function V(Te){return Te&&(0,l.m)(Te.schedule)}(ee(Te))?Te.pop():void 0}function Ae(Te,Me){return"number"==typeof ee(Te)?Te.pop():Me}},7453:(cn,ft,N)=>{"use strict";N.d(ft,{D:()=>Pe});const{isArray:l}=Array,{getPrototypeOf:V,prototype:ee,keys:de}=Object;function Pe(Te){if(1===Te.length){const Me=Te[0];if(l(Me))return{args:Me,keys:null};if(function Ae(Te){return Te&&"object"==typeof Te&&V(Te)===ee}(Me)){const ot=de(Me);return{args:ot.map(ie=>Me[ie]),keys:ot}}}return{args:Te,keys:null}}},9039:(cn,ft,N)=>{"use strict";function l(V,ee){if(V){const de=V.indexOf(ee);0<=de&&V.splice(de,1)}}N.d(ft,{P:()=>l})},2306:(cn,ft,N)=>{"use strict";function l(V){const de=V(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}N.d(ft,{d:()=>l})},2714:(cn,ft,N)=>{"use strict";function l(V,ee){return V.reduce((de,Pe,Ae)=>(de[Pe]=ee[Ae],de),{})}N.d(ft,{n:()=>l})},1441:(cn,ft,N)=>{"use strict";N.d(ft,{O:()=>de,x:()=>ee});var l=N(2653);let V=null;function ee(Pe){if(l.config.useDeprecatedSynchronousErrorHandling){const Ae=!V;if(Ae&&(V={errorThrown:!1,error:null}),Pe(),Ae){const{errorThrown:Te,error:Me}=V;if(V=null,Te)throw Me}}else Pe()}function de(Pe){l.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=Pe)}},7103:(cn,ft,N)=>{"use strict";function l(V,ee,de,Pe=0,Ae=!1){const Te=ee.schedule(function(){de(),Ae?V.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(V.add(Te),!Ae)return Te}N.d(ft,{f:()=>l})},2737:(cn,ft,N)=>{"use strict";function l(V){return V}N.d(ft,{y:()=>l})},4266:(cn,ft,N)=>{"use strict";N.d(ft,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(cn,ft,N)=>{"use strict";N.d(ft,{D:()=>V});var l=N(4674);function V(ee){return Symbol.asyncIterator&&(0,l.m)(null==ee?void 0:ee[Symbol.asyncIterator])}},4674:(cn,ft,N)=>{"use strict";function l(V){return"function"==typeof V}N.d(ft,{m:()=>l})},8382:(cn,ft,N)=>{"use strict";N.d(ft,{c:()=>ee});var l=N(4850),V=N(4674);function ee(de){return(0,V.m)(de[l.L])}},3664:(cn,ft,N)=>{"use strict";N.d(ft,{T:()=>ee});var l=N(4971),V=N(4674);function ee(de){return(0,V.m)(null==de?void 0:de[l.h])}},4026:(cn,ft,N)=>{"use strict";N.d(ft,{t:()=>V});var l=N(4674);function V(ee){return(0,l.m)(null==ee?void 0:ee.then)}},541:(cn,ft,N)=>{"use strict";N.d(ft,{L:()=>de,Q:()=>ee});var l=N(7582),V=N(4674);function ee(Pe){return(0,l.FC)(this,arguments,function*(){const Te=Pe.getReader();try{for(;;){const{value:Me,done:ot}=yield(0,l.qq)(Te.read());if(ot)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Me)}}finally{Te.releaseLock()}})}function de(Pe){return(0,V.m)(null==Pe?void 0:Pe.getReader)}},9360:(cn,ft,N)=>{"use strict";N.d(ft,{A:()=>V,e:()=>ee});var l=N(4674);function V(de){return(0,l.m)(null==de?void 0:de.lift)}function ee(de){return Pe=>{if(V(Pe))return Pe.lift(function(Ae){try{return de(Ae,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(cn,ft,N)=>{"use strict";N.d(ft,{Z:()=>de});var l=N(7398);const{isArray:V}=Array;function de(Pe){return(0,l.U)(Ae=>function ee(Pe,Ae){return V(Ae)?Pe(...Ae):Pe(Ae)}(Pe,Ae))}},2420:(cn,ft,N)=>{"use strict";function l(){}N.d(ft,{Z:()=>l})},8407:(cn,ft,N)=>{"use strict";N.d(ft,{U:()=>ee,z:()=>V});var l=N(2737);function V(...de){return ee(de)}function ee(de){return 0===de.length?l.y:1===de.length?de[0]:function(Ae){return de.reduce((Te,Me)=>Me(Te),Ae)}}},3894:(cn,ft,N)=>{"use strict";N.d(ft,{h:()=>ee});var l=N(2653),V=N(7599);function ee(de){V.z.setTimeout(()=>{const{onUnhandledError:Pe}=l.config;if(!Pe)throw de;Pe(de)})}},9853:(cn,ft,N)=>{"use strict";function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ft,{z:()=>l})},863:(cn,ft,N)=>{var l={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9302,433],"./ion-datetime_3.entry.js":[7059,9302,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[3432,3432],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function V(ee){if(!N.o(l,ee))return Promise.resolve().then(()=>{var Ae=new Error("Cannot find module '"+ee+"'");throw Ae.code="MODULE_NOT_FOUND",Ae});var de=l[ee],Pe=de[0];return Promise.all(de.slice(1).map(N.e)).then(()=>N(Pe))}V.keys=()=>Object.keys(l),V.id=863,cn.exports=V},6814:(cn,ft,N)=>{"use strict";N.d(ft,{Do:()=>Ze,EM:()=>Ui,HT:()=>de,JF:()=>xo,K0:()=>Ae,Mx:()=>Or,O5:()=>gi,PM:()=>an,S$:()=>Fe,V_:()=>Me,Ye:()=>Qe,b0:()=>Ke,bD:()=>Y,ez:()=>pe,q:()=>ee,sg:()=>zr,tP:()=>Ue,w_:()=>Pe});var l=N(5879);let V=null;function ee(){return V}function de(A){V||(V=A)}class Pe{}const Ae=new l.OlP("DocumentToken");let Te=(()=>{var A;class z{historyGo(U){throw new Error("Not implemented")}}return(A=z).\u0275fac=function(U){return new(U||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(ot)},providedIn:"platform"}),z})();const Me=new l.OlP("Location Initialized");let ot=(()=>{var A;class z extends Te{constructor(){super(),this._doc=(0,l.f3M)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(U){const Ie=ee().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("popstate",U,!1),()=>Ie.removeEventListener("popstate",U)}onHashChange(U){const Ie=ee().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("hashchange",U,!1),()=>Ie.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Ie,Je){this._history.pushState(U,Ie,Je)}replaceState(U,Ie,Je){this._history.replaceState(U,Ie,Je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return(A=z).\u0275fac=function(U){return new(U||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return new A},providedIn:"platform"}),z})();function ie(A,z){if(0==A.length)return z;if(0==z.length)return A;let ke=0;return A.endsWith("/")&&ke++,z.startsWith("/")&&ke++,2==ke?A+z.substring(1):1==ke?A+z:A+"/"+z}function me(A){const z=A.match(/#|\?|$/),ke=z&&z.index||A.length;return A.slice(0,ke-("/"===A[ke-1]?1:0))+A.slice(ke)}function Be(A){return A&&"?"!==A[0]?"?"+A:A}let Fe=(()=>{var A;class z{historyGo(U){throw new Error("Not implemented")}}return(A=z).\u0275fac=function(U){return new(U||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(Ke)},providedIn:"root"}),z})();const He=new l.OlP("appBaseHref");let Ke=(()=>{var A;class z extends Fe{constructor(U,Ie){var Je,Vt,dn;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(Je=null!==(Vt=null!=Ie?Ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Vt?Vt:null===(dn=(0,l.f3M)(Ae).location)||void 0===dn?void 0:dn.origin)&&void 0!==Je?Je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ie(this._baseHref,U)}path(U=!1){const Ie=this._platformLocation.pathname+Be(this._platformLocation.search),Je=this._platformLocation.hash;return Je&&U?`${Ie}${Je}`:Ie}pushState(U,Ie,Je,Vt){const dn=this.prepareExternalUrl(Je+Be(Vt));this._platformLocation.pushState(U,Ie,dn)}replaceState(U,Ie,Je,Vt){const dn=this.prepareExternalUrl(Je+Be(Vt));this._platformLocation.replaceState(U,Ie,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Ie,Je;null===(Ie=(Je=this._platformLocation).historyGo)||void 0===Ie||Ie.call(Je,U)}}return(A=z).\u0275fac=function(U){return new(U||A)(l.LFG(Te),l.LFG(He,8))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),z})(),Ze=(()=>{var A;class z extends Fe{constructor(U,Ie){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Ie&&(this._baseHref=Ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Ie=this._platformLocation.hash;return null==Ie&&(Ie="#"),Ie.length>0?Ie.substring(1):Ie}prepareExternalUrl(U){const Ie=ie(this._baseHref,U);return Ie.length>0?"#"+Ie:Ie}pushState(U,Ie,Je,Vt){let dn=this.prepareExternalUrl(Je+Be(Vt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.pushState(U,Ie,dn)}replaceState(U,Ie,Je,Vt){let dn=this.prepareExternalUrl(Je+Be(Vt));0==dn.length&&(dn=this._platformLocation.pathname),this._platformLocation.replaceState(U,Ie,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var Ie,Je;null===(Ie=(Je=this._platformLocation).historyGo)||void 0===Ie||Ie.call(Je,U)}}return(A=z).\u0275fac=function(U){return new(U||A)(l.LFG(Te),l.LFG(He,8))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac}),z})(),Qe=(()=>{var A;class z{constructor(U){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Ie=this._locationStrategy.getBaseHref();this._basePath=function Se(A){if(new RegExp("^(https?:)?//").test(A)){const[,ke]=A.split(/\/\/[^\/]+/);return ke}return A}(me(vt(Ie))),this._locationStrategy.onPopState(Je=>{this._subject.emit({url:this.path(!0),pop:!0,state:Je.state,type:Je.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Ie=""){return this.path()==this.normalize(U+Be(Ie))}normalize(U){return z.stripTrailingSlash(function rt(A,z){if(!A||!z.startsWith(A))return z;const ke=z.substring(A.length);return""===ke||["/",";","?","#"].includes(ke[0])?ke:z}(this._basePath,vt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Ie="",Je=null){this._locationStrategy.pushState(Je,"",U,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Be(Ie)),Je)}replaceState(U,Ie="",Je=null){this._locationStrategy.replaceState(Je,"",U,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Be(Ie)),Je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var Ie,Je;null===(Ie=(Je=this._locationStrategy).historyGo)||void 0===Ie||Ie.call(Je,U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ie=>{this._notifyUrlChangeListeners(Ie.url,Ie.state)})),()=>{const Ie=this._urlChangeListeners.indexOf(U);var Je;this._urlChangeListeners.splice(Ie,1),0===this._urlChangeListeners.length&&(null===(Je=this._urlChangeSubscription)||void 0===Je||Je.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Ie){this._urlChangeListeners.forEach(Je=>Je(U,Ie))}subscribe(U,Ie,Je){return this._subject.subscribe({next:U,error:Ie,complete:Je})}}return(A=z).normalizeQueryParams=Be,A.joinWithSlash=ie,A.stripTrailingSlash=me,A.\u0275fac=function(U){return new(U||A)(l.LFG(Fe))},A.\u0275prov=l.Yz7({token:A,factory:function(){return function ze(){return new Qe((0,l.LFG)(Fe))}()},providedIn:"root"}),z})();function vt(A){return A.replace(/\/index.html$/,"")}function Or(A,z){z=encodeURIComponent(z);for(const ke of A.split(";")){const U=ke.indexOf("="),[Ie,Je]=-1==U?[ke,""]:[ke.slice(0,U),ke.slice(U+1)];if(Ie.trim()===z)return decodeURIComponent(Je)}return null}class Ln{constructor(z,ke,U,Ie){this.$implicit=z,this.ngForOf=ke,this.index=U,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{var A;class z{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Ie,Je){this._viewContainer=U,this._template=Ie,this._differs=Je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Ie=this._viewContainer;U.forEachOperation((Je,Vt,dn)=>{if(null==Je.previousIndex)Ie.createEmbeddedView(this._template,new Ln(Je.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)Ie.remove(null===Vt?void 0:Vt);else if(null!==Vt){const Tr=Ie.get(Vt);Ie.move(Tr,dn),Pi(Tr,Je)}});for(let Je=0,Vt=Ie.length;Je<Vt;Je++){const Tr=Ie.get(Je).context;Tr.index=Je,Tr.count=Vt,Tr.ngForOf=this._ngForOf}U.forEachIdentityChange(Je=>{Pi(Ie.get(Je.currentIndex),Je)})}static ngTemplateContextGuard(U,Ie){return!0}}return(A=z).\u0275fac=function(U){return new(U||A)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},A.\u0275dir=l.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function Pi(A,z){A.context.$implicit=z.item}let gi=(()=>{var A;class z{constructor(U,Ie){this._viewContainer=U,this._context=new no,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ie}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Co("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Co("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Ie){return!0}}return(A=z).\u0275fac=function(U){return new(U||A)(l.Y36(l.s_b),l.Y36(l.Rgc))},A.\u0275dir=l.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class no{constructor(){this.$implicit=null,this.ngIf=null}}function Co(A,z){if(z&&!z.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,l.AaK)(z)}'.`)}let Ue=(()=>{var A;class z{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const Ie=this._viewContainerRef;if(this._viewRef&&Ie.remove(Ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Je,ngTemplateOutletContext:Vt,ngTemplateOutletInjector:dn}=this;this._viewRef=Ie.createEmbeddedView(Je,Vt,dn?{injector:dn}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(A=z).\u0275fac=function(U){return new(U||A)(l.Y36(l.s_b))},A.\u0275dir=l.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),z})(),pe=(()=>{var A;class z{}return(A=z).\u0275fac=function(U){return new(U||A)},A.\u0275mod=l.oAB({type:A}),A.\u0275inj=l.cJS({}),z})();const Y="browser",ve="server";function an(A){return A===ve}let Ui=(()=>{var A;class z{}return(A=z).\u0275prov=(0,l.Yz7)({token:A,providedIn:"root",factory:()=>new Ji((0,l.LFG)(Ae),window)}),z})();class Ji{constructor(z,ke){this.document=z,this.window=ke,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const ke=function Fo(A,z){const ke=A.getElementById(z)||A.getElementsByName(z)[0];if(ke)return ke;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const U=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Ie=U.currentNode;for(;Ie;){const Je=Ie.shadowRoot;if(Je){const Vt=Je.getElementById(z)||Je.querySelector(`[name="${z}"]`);if(Vt)return Vt}Ie=U.nextNode()}}return null}(this.document,z);ke&&(this.scrollToElement(ke),ke.focus())}setHistoryScrollRestoration(z){this.supportsScrolling()&&(this.window.history.scrollRestoration=z)}scrollToElement(z){const ke=z.getBoundingClientRect(),U=ke.left+this.window.pageXOffset,Ie=ke.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(U-Je[0],Ie-Je[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xo{}},9862:(cn,ft,N)=>{"use strict";N.d(ft,{JF:()=>$,eN:()=>ge});var l=N(5879),V=N(2096),ee=N(2459),de=N(5592),Pe=N(6328),Ae=N(2181),Te=N(7398),Me=N(4716),ot=N(4664),ie=N(6814);class me{}class Be{}class Fe{constructor(Ge){this.normalizedNames=new Map,this.lazyUpdate=null,Ge?"string"==typeof Ge?this.lazyInit=()=>{this.headers=new Map,Ge.split("\n").forEach(Tt=>{const xe=Tt.indexOf(":");if(xe>0){const qe=Tt.slice(0,xe),ct=qe.toLowerCase(),Lt=Tt.slice(xe+1).trim();this.maybeSetNormalizedName(qe,ct),this.headers.has(ct)?this.headers.get(ct).push(Lt):this.headers.set(ct,[Lt])}})}:typeof Headers<"u"&&Ge instanceof Headers?(this.headers=new Map,Ge.forEach((Tt,xe)=>{this.setHeaderEntries(xe,Tt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ge).forEach(([Tt,xe])=>{this.setHeaderEntries(Tt,xe)})}:this.headers=new Map}has(Ge){return this.init(),this.headers.has(Ge.toLowerCase())}get(Ge){this.init();const Tt=this.headers.get(Ge.toLowerCase());return Tt&&Tt.length>0?Tt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ge){return this.init(),this.headers.get(Ge.toLowerCase())||null}append(Ge,Tt){return this.clone({name:Ge,value:Tt,op:"a"})}set(Ge,Tt){return this.clone({name:Ge,value:Tt,op:"s"})}delete(Ge,Tt){return this.clone({name:Ge,value:Tt,op:"d"})}maybeSetNormalizedName(Ge,Tt){this.normalizedNames.has(Tt)||this.normalizedNames.set(Tt,Ge)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ge=>this.applyUpdate(Ge)),this.lazyUpdate=null))}copyFrom(Ge){Ge.init(),Array.from(Ge.headers.keys()).forEach(Tt=>{this.headers.set(Tt,Ge.headers.get(Tt)),this.normalizedNames.set(Tt,Ge.normalizedNames.get(Tt))})}clone(Ge){const Tt=new Fe;return Tt.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,Tt.lazyUpdate=(this.lazyUpdate||[]).concat([Ge]),Tt}applyUpdate(Ge){const Tt=Ge.name.toLowerCase();switch(Ge.op){case"a":case"s":let xe=Ge.value;if("string"==typeof xe&&(xe=[xe]),0===xe.length)return;this.maybeSetNormalizedName(Ge.name,Tt);const qe=("a"===Ge.op?this.headers.get(Tt):void 0)||[];qe.push(...xe),this.headers.set(Tt,qe);break;case"d":const ct=Ge.value;if(ct){let Lt=this.headers.get(Tt);if(!Lt)return;Lt=Lt.filter(Ot=>-1===ct.indexOf(Ot)),0===Lt.length?(this.headers.delete(Tt),this.normalizedNames.delete(Tt)):this.headers.set(Tt,Lt)}else this.headers.delete(Tt),this.normalizedNames.delete(Tt)}}setHeaderEntries(Ge,Tt){const xe=(Array.isArray(Tt)?Tt:[Tt]).map(ct=>ct.toString()),qe=Ge.toLowerCase();this.headers.set(qe,xe),this.maybeSetNormalizedName(Ge,qe)}forEach(Ge){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tt=>Ge(this.normalizedNames.get(Tt),this.headers.get(Tt)))}}class Ke{encodeKey(Ge){return rt(Ge)}encodeValue(Ge){return rt(Ge)}decodeKey(Ge){return decodeURIComponent(Ge)}decodeValue(Ge){return decodeURIComponent(Ge)}}const Qe=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rt(nt){return encodeURIComponent(nt).replace(Qe,(Ge,Tt)=>{var xe;return null!==(xe=ze[Tt])&&void 0!==xe?xe:Ge})}function vt(nt){return`${nt}`}class Se{constructor(Ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ge.encoder||new Ke,Ge.fromString){if(Ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ze(nt,Ge){const Tt=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(qe=>{const ct=qe.indexOf("="),[Lt,Ot]=-1==ct?[Ge.decodeKey(qe),""]:[Ge.decodeKey(qe.slice(0,ct)),Ge.decodeValue(qe.slice(ct+1))],hn=Tt.get(Lt)||[];hn.push(Ot),Tt.set(Lt,hn)}),Tt}(Ge.fromString,this.encoder)}else Ge.fromObject?(this.map=new Map,Object.keys(Ge.fromObject).forEach(Tt=>{const xe=Ge.fromObject[Tt],qe=Array.isArray(xe)?xe.map(vt):[vt(xe)];this.map.set(Tt,qe)})):this.map=null}has(Ge){return this.init(),this.map.has(Ge)}get(Ge){this.init();const Tt=this.map.get(Ge);return Tt?Tt[0]:null}getAll(Ge){return this.init(),this.map.get(Ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ge,Tt){return this.clone({param:Ge,value:Tt,op:"a"})}appendAll(Ge){const Tt=[];return Object.keys(Ge).forEach(xe=>{const qe=Ge[xe];Array.isArray(qe)?qe.forEach(ct=>{Tt.push({param:xe,value:ct,op:"a"})}):Tt.push({param:xe,value:qe,op:"a"})}),this.clone(Tt)}set(Ge,Tt){return this.clone({param:Ge,value:Tt,op:"s"})}delete(Ge,Tt){return this.clone({param:Ge,value:Tt,op:"d"})}toString(){return this.init(),this.keys().map(Ge=>{const Tt=this.encoder.encodeKey(Ge);return this.map.get(Ge).map(xe=>Tt+"="+this.encoder.encodeValue(xe)).join("&")}).filter(Ge=>""!==Ge).join("&")}clone(Ge){const Tt=new Se({encoder:this.encoder});return Tt.cloneFrom=this.cloneFrom||this,Tt.updates=(this.updates||[]).concat(Ge),Tt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ge=>this.map.set(Ge,this.cloneFrom.map.get(Ge))),this.updates.forEach(Ge=>{switch(Ge.op){case"a":case"s":const Tt=("a"===Ge.op?this.map.get(Ge.param):void 0)||[];Tt.push(vt(Ge.value)),this.map.set(Ge.param,Tt);break;case"d":if(void 0===Ge.value){this.map.delete(Ge.param);break}{let xe=this.map.get(Ge.param)||[];const qe=xe.indexOf(vt(Ge.value));-1!==qe&&xe.splice(qe,1),xe.length>0?this.map.set(Ge.param,xe):this.map.delete(Ge.param)}}}),this.cloneFrom=this.updates=null)}}class Ve{constructor(){this.map=new Map}set(Ge,Tt){return this.map.set(Ge,Tt),this}get(Ge){return this.map.has(Ge)||this.map.set(Ge,Ge.defaultValue()),this.map.get(Ge)}delete(Ge){return this.map.delete(Ge),this}has(Ge){return this.map.has(Ge)}keys(){return this.map.keys()}}function Ce(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function te(nt){return typeof Blob<"u"&&nt instanceof Blob}function je(nt){return typeof FormData<"u"&&nt instanceof FormData}class st{constructor(Ge,Tt,xe,qe){let ct;if(this.url=Tt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ge.toUpperCase(),function Oe(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||qe?(this.body=void 0!==xe?xe:null,ct=qe):ct=xe,ct&&(this.reportProgress=!!ct.reportProgress,this.withCredentials=!!ct.withCredentials,ct.responseType&&(this.responseType=ct.responseType),ct.headers&&(this.headers=ct.headers),ct.context&&(this.context=ct.context),ct.params&&(this.params=ct.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new Ve),this.params){const Lt=this.params.toString();if(0===Lt.length)this.urlWithParams=Tt;else{const Ot=Tt.indexOf("?");this.urlWithParams=Tt+(-1===Ot?"?":Ot<Tt.length-1?"&":"")+Lt}}else this.params=new Se,this.urlWithParams=Tt}serializeBody(){return null===this.body?null:Ce(this.body)||te(this.body)||je(this.body)||function Le(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:te(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ge={}){var Tt;const xe=Ge.method||this.method,qe=Ge.url||this.url,ct=Ge.responseType||this.responseType,Lt=void 0!==Ge.body?Ge.body:this.body,Ot=void 0!==Ge.withCredentials?Ge.withCredentials:this.withCredentials,hn=void 0!==Ge.reportProgress?Ge.reportProgress:this.reportProgress;let En=Ge.headers||this.headers,cr=Ge.params||this.params;const _r=null!==(Tt=Ge.context)&&void 0!==Tt?Tt:this.context;return void 0!==Ge.setHeaders&&(En=Object.keys(Ge.setHeaders).reduce((ir,Or)=>ir.set(Or,Ge.setHeaders[Or]),En)),Ge.setParams&&(cr=Object.keys(Ge.setParams).reduce((ir,Or)=>ir.set(Or,Ge.setParams[Or]),cr)),new st(xe,qe,Lt,{params:cr,headers:En,context:_r,reportProgress:hn,responseType:ct,withCredentials:Ot})}}var dt=function(nt){return nt[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt}(dt||{});class Et{constructor(Ge,Tt=200,xe="OK"){this.headers=Ge.headers||new Fe,this.status=void 0!==Ge.status?Ge.status:Tt,this.statusText=Ge.statusText||xe,this.url=Ge.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Et{constructor(Ge={}){super(Ge),this.type=dt.ResponseHeader}clone(Ge={}){return new Yt({headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class ln extends Et{constructor(Ge={}){super(Ge),this.type=dt.Response,this.body=void 0!==Ge.body?Ge.body:null}clone(Ge={}){return new ln({body:void 0!==Ge.body?Ge.body:this.body,headers:Ge.headers||this.headers,status:void 0!==Ge.status?Ge.status:this.status,statusText:Ge.statusText||this.statusText,url:Ge.url||this.url||void 0})}}class rn extends Et{constructor(Ge){super(Ge,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ge.url||"(unknown url)"}`:`Http failure response for ${Ge.url||"(unknown url)"}: ${Ge.status} ${Ge.statusText}`,this.error=Ge.error||null}}function fe(nt,Ge){return{body:Ge,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let ge=(()=>{var nt;class Ge{constructor(xe){this.handler=xe}request(xe,qe,ct={}){let Lt;if(xe instanceof st)Lt=xe;else{let En,cr;En=ct.headers instanceof Fe?ct.headers:new Fe(ct.headers),ct.params&&(cr=ct.params instanceof Se?ct.params:new Se({fromObject:ct.params})),Lt=new st(xe,qe,void 0!==ct.body?ct.body:null,{headers:En,context:ct.context,params:cr,reportProgress:ct.reportProgress,responseType:ct.responseType||"json",withCredentials:ct.withCredentials})}const Ot=(0,V.of)(Lt).pipe((0,Pe.b)(En=>this.handler.handle(En)));if(xe instanceof st||"events"===ct.observe)return Ot;const hn=Ot.pipe((0,Ae.h)(En=>En instanceof ln));switch(ct.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return hn.pipe((0,Te.U)(En=>{if(null!==En.body&&!(En.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return En.body}));case"blob":return hn.pipe((0,Te.U)(En=>{if(null!==En.body&&!(En.body instanceof Blob))throw new Error("Response is not a Blob.");return En.body}));case"text":return hn.pipe((0,Te.U)(En=>{if(null!==En.body&&"string"!=typeof En.body)throw new Error("Response is not a string.");return En.body}));default:return hn.pipe((0,Te.U)(En=>En.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${ct.observe}}`)}}delete(xe,qe={}){return this.request("DELETE",xe,qe)}get(xe,qe={}){return this.request("GET",xe,qe)}head(xe,qe={}){return this.request("HEAD",xe,qe)}jsonp(xe,qe){return this.request("JSONP",xe,{params:(new Se).append(qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,qe={}){return this.request("OPTIONS",xe,qe)}patch(xe,qe,ct={}){return this.request("PATCH",xe,fe(ct,qe))}post(xe,qe,ct={}){return this.request("POST",xe,fe(ct,qe))}put(xe,qe,ct={}){return this.request("PUT",xe,fe(ct,qe))}}return(nt=Ge).\u0275fac=function(xe){return new(xe||nt)(l.LFG(me))},nt.\u0275prov=l.Yz7({token:nt,factory:nt.\u0275fac}),Ge})();function Wt(nt,Ge){return Ge(nt)}function jt(nt,Ge){return(Tt,xe)=>Ge.intercept(Tt,{handle:qe=>nt(qe,xe)})}const Pt=new l.OlP(""),wt=new l.OlP(""),bt=new l.OlP("");function Ut(){let nt=null;return(Ge,Tt)=>{var xe;null===nt&&(nt=(null!==(xe=(0,l.f3M)(Pt,{optional:!0}))&&void 0!==xe?xe:[]).reduceRight(jt,Wt));const qe=(0,l.f3M)(l.HDt),ct=qe.add();return nt(Ge,Tt).pipe((0,Me.x)(()=>qe.remove(ct)))}}let Zt=(()=>{var nt;class Ge extends me{constructor(xe,qe){super(),this.backend=xe,this.injector=qe,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(xe){if(null===this.chain){const ct=Array.from(new Set([...this.injector.get(wt),...this.injector.get(bt,[])]));this.chain=ct.reduceRight((Lt,Ot)=>function An(nt,Ge,Tt){return(xe,qe)=>Tt.runInContext(()=>Ge(xe,ct=>nt(ct,qe)))}(Lt,Ot,this.injector),Wt)}const qe=this.pendingTasks.add();return this.chain(xe,ct=>this.backend.handle(ct)).pipe((0,Me.x)(()=>this.pendingTasks.remove(qe)))}}return(nt=Ge).\u0275fac=function(xe){return new(xe||nt)(l.LFG(Be),l.LFG(l.lqb))},nt.\u0275prov=l.Yz7({token:nt,factory:nt.\u0275fac}),Ge})();const Pr=/^\)\]\}',?\n/;let Cn=(()=>{var nt;class Ge{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new l.vHH(-2800,!1);const qe=this.xhrFactory;return(qe.\u0275loadImpl?(0,ee.D)(qe.\u0275loadImpl()):(0,V.of)(null)).pipe((0,ot.w)(()=>new de.y(Lt=>{const Ot=qe.build();if(Ot.open(xe.method,xe.urlWithParams),xe.withCredentials&&(Ot.withCredentials=!0),xe.headers.forEach((Mr,pr)=>Ot.setRequestHeader(Mr,pr.join(","))),xe.headers.has("Accept")||Ot.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const Mr=xe.detectContentTypeHeader();null!==Mr&&Ot.setRequestHeader("Content-Type",Mr)}if(xe.responseType){const Mr=xe.responseType.toLowerCase();Ot.responseType="json"!==Mr?Mr:"text"}const hn=xe.serializeBody();let En=null;const cr=()=>{if(null!==En)return En;const Mr=Ot.statusText||"OK",pr=new Fe(Ot.getAllResponseHeaders()),br=function ci(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(Ot)||xe.url;return En=new Yt({headers:pr,status:Ot.status,statusText:Mr,url:br}),En},_r=()=>{let{headers:Mr,status:pr,statusText:br,url:Ln}=cr(),zr=null;204!==pr&&(zr=typeof Ot.response>"u"?Ot.responseText:Ot.response),0===pr&&(pr=zr?200:0);let Pi=pr>=200&&pr<300;if("json"===xe.responseType&&"string"==typeof zr){const yi=zr;zr=zr.replace(Pr,"");try{zr=""!==zr?JSON.parse(zr):null}catch(gi){zr=yi,Pi&&(Pi=!1,zr={error:gi,text:zr})}}Pi?(Lt.next(new ln({body:zr,headers:Mr,status:pr,statusText:br,url:Ln||void 0})),Lt.complete()):Lt.error(new rn({error:zr,headers:Mr,status:pr,statusText:br,url:Ln||void 0}))},ir=Mr=>{const{url:pr}=cr(),br=new rn({error:Mr,status:Ot.status||0,statusText:Ot.statusText||"Unknown Error",url:pr||void 0});Lt.error(br)};let Or=!1;const mo=Mr=>{Or||(Lt.next(cr()),Or=!0);let pr={type:dt.DownloadProgress,loaded:Mr.loaded};Mr.lengthComputable&&(pr.total=Mr.total),"text"===xe.responseType&&Ot.responseText&&(pr.partialText=Ot.responseText),Lt.next(pr)},lr=Mr=>{let pr={type:dt.UploadProgress,loaded:Mr.loaded};Mr.lengthComputable&&(pr.total=Mr.total),Lt.next(pr)};return Ot.addEventListener("load",_r),Ot.addEventListener("error",ir),Ot.addEventListener("timeout",ir),Ot.addEventListener("abort",ir),xe.reportProgress&&(Ot.addEventListener("progress",mo),null!==hn&&Ot.upload&&Ot.upload.addEventListener("progress",lr)),Ot.send(hn),Lt.next({type:dt.Sent}),()=>{Ot.removeEventListener("error",ir),Ot.removeEventListener("abort",ir),Ot.removeEventListener("load",_r),Ot.removeEventListener("timeout",ir),xe.reportProgress&&(Ot.removeEventListener("progress",mo),null!==hn&&Ot.upload&&Ot.upload.removeEventListener("progress",lr)),Ot.readyState!==Ot.DONE&&Ot.abort()}})))}}return(nt=Ge).\u0275fac=function(xe){return new(xe||nt)(l.LFG(ie.JF))},nt.\u0275prov=l.Yz7({token:nt,factory:nt.\u0275fac}),Ge})();const mr=new l.OlP("XSRF_ENABLED"),Jn=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),On=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gr{}let Si=(()=>{var nt;class Ge{constructor(xe,qe,ct){this.doc=xe,this.platform=qe,this.cookieName=ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ie.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return(nt=Ge).\u0275fac=function(xe){return new(xe||nt)(l.LFG(ie.K0),l.LFG(l.Lbi),l.LFG(Jn))},nt.\u0275prov=l.Yz7({token:nt,factory:nt.\u0275fac}),Ge})();function Kr(nt,Ge){const Tt=nt.url.toLowerCase();if(!(0,l.f3M)(mr)||"GET"===nt.method||"HEAD"===nt.method||Tt.startsWith("http://")||Tt.startsWith("https://"))return Ge(nt);const xe=(0,l.f3M)(gr).getToken(),qe=(0,l.f3M)(On);return null!=xe&&!nt.headers.has(qe)&&(nt=nt.clone({headers:nt.headers.set(qe,xe)})),Ge(nt)}var er=function(nt){return nt[nt.Interceptors=0]="Interceptors",nt[nt.LegacyInterceptors=1]="LegacyInterceptors",nt[nt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nt[nt.NoXsrfProtection=3]="NoXsrfProtection",nt[nt.JsonpSupport=4]="JsonpSupport",nt[nt.RequestsMadeViaParent=5]="RequestsMadeViaParent",nt[nt.Fetch=6]="Fetch",nt}(er||{});function Cr(nt,Ge){return{\u0275kind:nt,\u0275providers:Ge}}function wr(...nt){const Ge=[ge,Cn,Zt,{provide:me,useExisting:Zt},{provide:Be,useExisting:Cn},{provide:wt,useValue:Kr,multi:!0},{provide:mr,useValue:!0},{provide:gr,useClass:Si}];for(const Tt of nt)Ge.push(...Tt.\u0275providers);return(0,l.MR2)(Ge)}const Lr=new l.OlP("LEGACY_INTERCEPTOR_FN");let $=(()=>{var nt;class Ge{}return(nt=Ge).\u0275fac=function(xe){return new(xe||nt)},nt.\u0275mod=l.oAB({type:nt}),nt.\u0275inj=l.cJS({providers:[wr(Cr(er.LegacyInterceptors,[{provide:Lr,useFactory:Ut},{provide:wt,useExisting:Lr,multi:!0}]))]}),Ge})()},5879:(cn,ft,N)=>{"use strict";N.d(ft,{$8M:()=>si,$WT:()=>Un,$Z:()=>km,AFp:()=>pp,AaK:()=>Be,CHM:()=>uo,CRH:()=>O0,DdM:()=>f0,EJc:()=>Nw,EpF:()=>Mv,F$t:()=>Zy,F4k:()=>xv,FYo:()=>Cm,FiY:()=>na,G48:()=>mb,Gf:()=>M0,GfV:()=>wm,GkF:()=>Wu,Gpc:()=>Ke,HDt:()=>tC,Hsn:()=>p_,JOm:()=>Jc,KtG:()=>_i,LFG:()=>Ct,LMc:()=>Gb,Lbi:()=>dh,Lck:()=>_D,MMx:()=>o0,MR2:()=>df,NdJ:()=>h_,Ojb:()=>pg,OlP:()=>Bi,Oqu:()=>Jy,P3R:()=>ug,PXZ:()=>ab,Q6J:()=>s_,QGY:()=>d_,Qsj:()=>V_,R0b:()=>We,RDi:()=>tu,Rgc:()=>D_,SBq:()=>ou,Sil:()=>Lw,Suo:()=>x0,TTD:()=>Br,TgZ:()=>l_,VuI:()=>zb,X6Q:()=>gb,XFs:()=>Dn,Xpm:()=>gt,Xq5:()=>mv,Xts:()=>uf,Y36:()=>Id,YKP:()=>n0,YNc:()=>Av,Yjl:()=>ce,Yz7:()=>Pt,Z0I:()=>Zt,ZZ4:()=>OE,_Bn:()=>t0,_UZ:()=>Sv,_c5:()=>xb,_uU:()=>sI,aQg:()=>NE,c2e:()=>eC,cJS:()=>bt,cg1:()=>eE,dDg:()=>rb,dqk:()=>Cn,eFA:()=>dC,eJc:()=>_E,ekj:()=>Qy,eoX:()=>aC,f3M:()=>Kt,g9A:()=>mp,h0i:()=>Yp,hGG:()=>Ob,hij:()=>Vv,iGM:()=>P0,ifc:()=>ct,ip1:()=>J0,jDz:()=>s0,kL8:()=>AI,lG2:()=>D,lqb:()=>Ys,lri:()=>oC,n5z:()=>mu,oAB:()=>Ft,oxw:()=>Ky,q4F:()=>wp,qFp:()=>qb,qLn:()=>xl,qOj:()=>cv,qZA:()=>u_,rWj:()=>sC,rg0:()=>Ie,sBO:()=>_b,s_b:()=>Wv,soG:()=>qv,tb:()=>AE,tp0:()=>Iu,uIk:()=>Hg,vHH:()=>Se,vpe:()=>b,wAp:()=>nm,xp6:()=>Fg,z2F:()=>sm,zSh:()=>hg,zs3:()=>Ks});var l=N(8645),V=N(7394),ee=N(5592),de=N(3019),Pe=N(5619),Ae=N(2096),Te=N(3020),Me=N(4664),ot=N(3997);function ie(t){for(let r in t)if(t[r]===ie)return r;throw Error("Could not find renamed property on target object.")}function me(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Fe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const He=ie({__forward_ref__:ie});function Ke(t){return t.__forward_ref__=Ke,t.toString=function(){return Be(this())},t}function Ze(t){return Qe(t)?t():t}function Qe(t){return"function"==typeof t&&t.hasOwnProperty(He)&&t.__forward_ref__===Ke}function ze(t){return t&&!!t.\u0275providers}const vt="https://g.co/ng/security#xss";class Se extends Error{constructor(r,o){super(function Xe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Ve(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t,r){throw new Se(-201,!1)}function kt(t,r){null==t&&function St(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ut(t){return Rn(t,mn)||Rn(t,Xn)}function Zt(t){return null!==Ut(t)}function Rn(t,r){return t.hasOwnProperty(r)?t[r]:null}function jn(t){return t&&(t.hasOwnProperty(Mn)||t.hasOwnProperty(Hr))?t[Mn]:null}const mn=ie({\u0275prov:ie}),Mn=ie({\u0275inj:ie}),Xn=ie({ngInjectableDef:ie}),Hr=ie({ngInjectorDef:ie});var Dn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Dn||{});let Kn;function fr(t){const r=Kn;return Kn=t,r}function Pr(t,r,o){const a=Ut(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Dn.Optional?null:void 0!==r?r:void Le(Be(t))}const Cn=globalThis,Lr={},Ri="__NG_DI_FLAG__",hi="ngTempTokenPath",it=/\n/gm,j="__source";let Z;function Ee(t){const r=Z;return Z=t,r}function et(t,r=Dn.Default){if(void 0===Z)throw new Se(-203,!1);return null===Z?Pr(t,void 0,r):Z.get(t,r&Dn.Optional?null:void 0,r)}function Ct(t,r=Dn.Default){return(function Vn(){return Kn}()||et)(Ze(t),r)}function Kt(t,r=Dn.Default){return Ct(t,Bn(r))}function Bn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fn(t){const r=[];for(let o=0;o<t.length;o++){const a=Ze(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Se(900,!1);let c,g=Dn.Default;for(let E=0;E<a.length;E++){const w=a[E],M=nt(w);"number"==typeof M?-1===M?c=w.token:g|=M:c=w}r.push(Ct(c,g))}else r.push(Ct(a))}return r}function ar(t,r){return t[Ri]=r,t.prototype[Ri]=r,t}function nt(t){return t[Ri]}function xe(t){return{toString:t}.toString()}var qe=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qe||{}),ct=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ct||{});const Lt={},Ot=[],hn=ie({\u0275cmp:ie}),En=ie({\u0275dir:ie}),cr=ie({\u0275pipe:ie}),_r=ie({\u0275mod:ie}),ir=ie({\u0275fac:ie}),Or=ie({__NG_ELEMENT_ID__:ie}),mo=ie({__NG_ENV_ID__:ie});function lr(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const g=r.length;if(c+g===a||t.charCodeAt(c+g)<=32)return c}o=c+1}}function Mr(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const g=o[a++],E=o[a++],w=o[a++];t.setAttribute(r,E,w,g)}else{const g=c,E=o[++a];br(g)?t.setProperty(r,g,E):t.setAttribute(r,g,E),a++}}return a}function pr(t){return 3===t||4===t||6===t}function br(t){return 64===t.charCodeAt(0)}function Ln(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||zr(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function zr(t,r,o,a,c){let g=0,E=t.length;if(-1===r)E=-1;else for(;g<t.length;){const w=t[g++];if("number"==typeof w){if(w===r){E=-1;break}if(w>r){E=g-1;break}}}for(;g<t.length;){const w=t[g];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==c&&(t[g+1]=c));if(a===t[g+1])return void(t[g+2]=c)}g++,null!==a&&g++,null!==c&&g++}-1!==E&&(t.splice(E,0,r),g=E+1),t.splice(g++,0,o),null!==a&&t.splice(g++,0,a),null!==c&&t.splice(g++,0,c)}const Pi="ng-template";function yi(t,r,o){let a=0,c=!0;for(;a<t.length;){let g=t[a++];if("string"==typeof g&&c){const E=t[a++];if(o&&"class"===g&&-1!==lr(E.toLowerCase(),r,0))return!0}else{if(1===g){for(;a<t.length&&"string"==typeof(g=t[a++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(c=!1)}}return!1}function gi(t){return 4===t.type&&t.value!==Pi}function no(t,r,o){return r===(4!==t.type||o?t.value:Pi)}function Co(t,r,o){let a=4;const c=t.attrs||[],g=function ko(t){for(let r=0;r<t.length;r++)if(pr(t[r]))return r;return t.length}(c);let E=!1;for(let w=0;w<r.length;w++){const M=r[w];if("number"!=typeof M){if(!E)if(4&a){if(a=2|1&a,""!==M&&!no(t,M,o)||""===M&&1===r.length){if(ri(a))return!1;E=!0}}else{const W=8&a?M:r[++w];if(8&a&&null!==t.attrs){if(!yi(t.attrs,W,o)){if(ri(a))return!1;E=!0}continue}const ye=Fi(8&a?"class":M,c,gi(t),o);if(-1===ye){if(ri(a))return!1;E=!0;continue}if(""!==W){let tt;tt=ye>g?"":c[ye+1].toLowerCase();const It=8&a?tt:null;if(It&&-1!==lr(It,W,0)||2&a&&W!==tt){if(ri(a))return!1;E=!0}}}}else{if(!E&&!ri(a)&&!ri(M))return!1;if(E&&ri(M))continue;E=!1,a=M|1&a}}return ri(a)||E}function ri(t){return 0==(1&t)}function Fi(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let g=!1;for(;c<r.length;){const E=r[c];if(E===t)return c;if(3===E||6===E)g=!0;else{if(1===E||2===E){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=g?1:2}return-1}return function _o(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function ro(t,r,o=!1){for(let a=0;a<r.length;a++)if(Co(t,r[a],o))return!0;return!1}function G(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function re(t,r){return t?":not("+r.trim()+")":r}function Ue(t){let r=t[0],o=1,a=2,c="",g=!1;for(;o<t.length;){let E=t[o];if("string"==typeof E)if(2&a){const w=t[++o];c+="["+E+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+E:4&a&&(c+=" "+E);else""!==c&&!ri(E)&&(r+=re(g,c),c=""),a=E,g=g||!ri(a);o++}return""!==c&&(r+=re(g,c)),r}function gt(t){return xe(()=>{var r;const o=ei(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(r=t.signals)&&void 0!==r&&r,data:t.data||{},encapsulation:t.encapsulation||ct.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""};io(a);const c=t.dependencies;return a.directiveDefs=oo(c,!1),a.pipeDefs=oo(c,!0),a.id=function ks(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function nn(t){return x(t)||he(t)}function Gt(t){return null!==t}function Ft(t){return xe(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yn(t,r){if(null==t)return Lt;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),o[c]=a,r&&(r[c]=g)}return o}function D(t){return xe(()=>{const r=ei(t);return io(r),r})}function ce(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function x(t){return t[hn]||null}function he(t){return t[En]||null}function at(t){return t[cr]||null}function Un(t){const r=x(t)||he(t)||at(t);return null!==r&&r.standalone}function Sr(t,r){const o=t[_r]||null;if(!o&&!0===r)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return o}function ei(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Lt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yn(t.inputs,r),outputs:Yn(t.outputs)}}function io(t){var r;null===(r=t.features)||void 0===r||r.forEach(o=>o(t))}function oo(t,r){if(!t)return null;const o=r?at:nn;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Gt)}const Zr=0,Tn=1,tr=2,fi=3,so=4,Yo=5,co=6,ue=7,pe=8,Y=9,ve=10,Ye=11,Bt=12,_n=13,an=14,bn=15,qn=16,Mi=17,Ui=18,Ji=19,Fo=20,ho=21,xo=22,Lo=23,ns=24,Nr=25,ws=1,Ga=2,ao=7,Ko=9,lo=11;function Bo(t){return Array.isArray(t)&&"object"==typeof t[ws]}function Vr(t){return Array.isArray(t)&&!0===t[ws]}function Zo(t){return 0!=(4&t.flags)}function Zs(t){return t.componentOffset>-1}function Qs(t){return 1==(1&t.flags)}function $o(t){return!!t.template}function Fs(t){return 0!=(512&t[tr])}function vo(t,r){return t.hasOwnProperty(ir)?t[ir]:null}let Di=null,aa=!1;function mi(t){const r=Di;return Di=t,r}const jo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function la(t){if(!gs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!rs(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Fl(t){var r;t.dirty=!0,function yo(t){if(void 0===t.liveConsumerNode)return;const r=aa;aa=!0;try{for(const o of t.liveConsumerNode)o.dirty||Fl(o)}finally{aa=r}}(t),null===(r=t.consumerMarkedDirty)||void 0===r||r.call(t,t)}function wi(t){return t&&(t.nextProducerIndex=0),mi(t)}function _l(t,r){if(mi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(gs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)vl(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rs(t){Ho(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(la(o),a!==o.version))return!0}return!1}function Ll(t){if(Ho(t),gs(t))for(let r=0;r<t.producerNode.length;r++)vl(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vl(t,r){if(function Ya(t){var r,o;null!==(r=t.liveConsumerNode)&&void 0!==r||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),Ho(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)vl(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ho(c),c.producerIndexOfThis[a]=r}}function gs(t){var r,o;return t.consumerIsAlwaysLive||(null!==(r=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==r?r:0)>0}function Ho(t){var r,o,a;null!==(r=t.producerNode)&&void 0!==r||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let po=null;function Ie(t){const r=mi(null);try{return t()}finally{mi(r)}}const Vt=()=>{},dn=(()=>({...jo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Vt}))();class vr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Br(){return Gn}function Gn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qr),li}function li(){const t=$s(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===Lt)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Qr(t,r,o,a){const c=this.declaredInputs[o],g=$s(t)||function Jt(t,r){return t[Oi]=r}(t,{previous:Lt,current:null}),E=g.current||(g.current={}),w=g.previous,M=w[c];E[c]=new vr(M&&M.currentValue,r,w===Lt),t[a]=r}Br.ngInherit=!0;const Oi="__ngSimpleChanges__";function $s(t){return t[Oi]||null}const Po=function(t,r,o){};function qi(t){for(;Array.isArray(t);)t=t[Zr];return t}function xt(t,r){return qi(r[t])}function Qt(t,r){return qi(r[t.index])}function Fc(t,r){return t.data[r]}function bo(t,r){const o=r[t];return Bo(o)?o:o[Zr]}function ls(t,r){return null==r?null:t[r]}function Sa(t){t[Mi]=0}function Vh(t){1024&t[tr]||(t[tr]|=1024,Us(t,1))}function Lc(t){1024&t[tr]&&(t[tr]&=-1025,Us(t,-1))}function Us(t,r){let o=t[fi];if(null===o)return;o[Yo]+=r;let a=o;for(o=o[fi];null!==o&&(1===r&&1===a[Yo]||-1===r&&0===a[Yo]);)o[Yo]+=r,a=o,o=o[fi]}const dr={lFrame:ur(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Hi(){return dr.bindingsEnabled}function wn(){return null!==dr.skipHydrationRootTNode}function en(){return dr.lFrame.lView}function Ur(){return dr.lFrame.tView}function uo(t){return dr.lFrame.contextLView=t,t[pe]}function _i(t){return dr.lFrame.contextLView=null,t}function Qn(){let t=xr();for(;null!==t&&64===t.type;)t=t.parent;return t}function xr(){return dr.lFrame.currentTNode}function Xr(t,r){const o=dr.lFrame;o.currentTNode=t,o.isParent=r}function Ss(){return dr.lFrame.isParent}function Cl(){dr.lFrame.isParent=!1}function fa(){return dr.lFrame.bindingIndex++}function R(t,r){const o=dr.lFrame;o.bindingIndex=o.bindingRootIndex=t,T(r)}function T(t){dr.lFrame.currentDirectiveIndex=t}function ne(){return dr.lFrame.currentQueryIndex}function Re(t){dr.lFrame.currentQueryIndex=t}function yt(t){const r=t[Tn];return 2===r.type?r.declTNode:1===r.type?t[co]:null}function gn(t,r,o){if(o&Dn.SkipSelf){let c=r,g=t;for(;!(c=c.parent,null!==c||o&Dn.Host||(c=yt(g),null===c||(g=g[an],10&c.type))););if(null===c)return!1;r=c,t=g}const a=dr.lFrame=In();return a.currentTNode=r,a.lView=t,!0}function Rt(t){const r=In(),o=t[Tn];dr.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function In(){const t=dr.lFrame,r=null===t?null:t.child;return null===r?ur(t):r}function ur(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Gr(){const t=dr.lFrame;return dr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sr=Gr;function oi(){const t=Gr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Vi(){return dr.lFrame.selectedIndex}function us(t){dr.lFrame.selectedIndex=t}function Jr(){const t=dr.lFrame;return Fc(t.tView,t.selectedIndex)}let $h=!0;function jl(){return $h}function Xa(t){$h=t}function xa(t,r){for(let W=r.directiveStart,J=r.directiveEnd;W<J;W++){const tt=t.data[W].type.prototype,{ngAfterContentInit:It,ngAfterContentChecked:Ht,ngAfterViewInit:pn,ngAfterViewChecked:kn,ngOnDestroy:rr}=tt;var o,a,c,g,E,w,M;It&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-W,It),Ht&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(W,Ht),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(W,Ht)),pn&&(null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(-W,pn),kn&&((null!==(E=t.viewHooks)&&void 0!==E?E:t.viewHooks=[]).push(W,kn),(null!==(w=t.viewCheckHooks)&&void 0!==w?w:t.viewCheckHooks=[]).push(W,kn)),null!=rr&&(null!==(M=t.destroyHooks)&&void 0!==M?M:t.destroyHooks=[]).push(W,rr)}}function Hl(t,r,o){Xu(t,r,3,o)}function cu(t,r,o,a){(3&t[tr])===o&&Xu(t,r,o,a)}function du(t,r){let o=t[tr];(3&o)===r&&(o&=8191,o+=1,t[tr]=o)}function Xu(t,r,o,a){const g=null!=a?a:-1,E=r.length-1;let w=0;for(let M=void 0!==a?65535&t[Mi]:0;M<E;M++)if("number"==typeof r[M+1]){if(w=r[M],null!=a&&w>=a)break}else r[M]<0&&(t[Mi]+=65536),(w<g||-1==g)&&(kr(t,o,r,M),t[Mi]=(4294901760&t[Mi])+M+2),M++}function hu(t,r){Po(4,t,r);const o=mi(null);try{r.call(t)}finally{mi(o),Po(5,t,r)}}function kr(t,r,o,a){const c=o[a]<0,g=o[a+1],w=t[c?-o[a]:o[a]];c?t[tr]>>13<t[Mi]>>16&&(3&t[tr])===r&&(t[tr]+=8192,hu(w,g)):hu(w,g)}const Ja=-1;class Js{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function jc(t){return t!==Ja}function Wi(t){return 32767&t}function zl(t,r){let o=function Mo(t){return t>>16}(t),a=r;for(;o>0;)a=a[an],o--;return a}let ea=!0;function Ki(t){const r=ea;return ea=t,r}const el=255,Hs=5;let Ju=0;const ta={};function zs(t,r){const o=tl(t,r);if(-1!==o)return o;const a=r[Tn];a.firstCreatePass&&(t.injectorIndex=r.length,Oa(a.data,t),Oa(r,null),Oa(a.blueprint,null));const c=Ps(t,r),g=t.injectorIndex;if(jc(c)){const E=Wi(c),w=zl(c,r),M=w[Tn].data;for(let W=0;W<8;W++)r[g+W]=w[E+W]|M[E+W]}return r[g+8]=c,g}function Oa(t,r){t.push(0,0,0,0,0,0,0,0,r)}function tl(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Ps(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=zc(c),null===a)return Ja;if(o++,c=c[an],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Ja}function Tl(t,r,o){!function Rs(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Or)&&(a=o[Or]),null==a&&(a=o[Or]=Ju++);const c=a&el;r.data[t+(c>>Hs)]|=1<<c}(t,r,o)}function Pd(t,r,o){if(o&Dn.Optional||void 0!==t)return t;Le()}function nl(t,r,o,a){if(o&Dn.Optional&&void 0===a&&(a=null),!(o&(Dn.Self|Dn.Host))){const c=t[Y],g=fr(void 0);try{return c?c.get(r,a,o&Dn.Optional):Pr(r,a,o&Dn.Optional)}finally{fr(g)}}return Pd(a,0,o)}function pu(t,r,o,a=Dn.Default,c){if(null!==t){if(2048&r[tr]&&!(a&Dn.Self)){const E=function Xo(t,r,o,a,c){let g=t,E=r;for(;null!==g&&null!==E&&2048&E[tr]&&!(512&E[tr]);){const w=Dl(g,E,o,a|Dn.Self,ta);if(w!==ta)return w;let M=g.parent;if(!M){const W=E[Fo];if(W){const J=W.get(o,ta,a);if(J!==ta)return J}M=zc(E),E=E[an]}g=M}return c}(t,r,o,a,ta);if(E!==ta)return E}const g=Dl(t,r,o,a,ta);if(g!==ta)return g}return nl(r,o,a,c)}function Dl(t,r,o,a,c){const g=function Uh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Or)?t[Or]:void 0;return"number"==typeof r?r>=0?r&el:jh:r}(o);if("function"==typeof g){if(!gn(r,t,a))return a&Dn.Host?Pd(c,0,a):nl(r,o,a,c);try{let E;if(E=g(a),null!=E||a&Dn.Optional)return E;Le()}finally{sr()}}else if("number"==typeof g){let E=null,w=tl(t,r),M=Ja,W=a&Dn.Host?r[bn][co]:null;for((-1===w||a&Dn.SkipSelf)&&(M=-1===w?Ps(t,r):r[w+8],M!==Ja&&Na(a,!1)?(E=r[Tn],w=Wi(M),r=zl(M,r)):w=-1);-1!==w;){const J=r[Tn];if(bl(g,w,J.data)){const ye=wl(w,r,o,E,a,W);if(ye!==ta)return ye}M=r[w+8],M!==Ja&&Na(a,r[Tn].data[w+8]===W)&&bl(g,w,r)?(E=J,w=Wi(M),r=zl(M,r)):w=-1}}return c}function wl(t,r,o,a,c,g){const E=r[Tn],w=E.data[t+8],J=rl(w,E,o,null==a?Zs(w)&&ea:a!=E&&0!=(3&w.type),c&Dn.Host&&g===w);return null!==J?Ms(r,E,J,w):ta}function rl(t,r,o,a,c){const g=t.providerIndexes,E=r.data,w=1048575&g,M=t.directiveStart,J=g>>20,tt=c?w+J:t.directiveEnd;for(let It=a?w:w+J;It<tt;It++){const Ht=E[It];if(It<M&&o===Ht||It>=M&&Ht.type===o)return It}if(c){const It=E[M];if(It&&$o(It)&&It.type===o)return M}return null}function Ms(t,r,o,a){let c=t[o];const g=r.data;if(function pa(t){return t instanceof Js}(c)){const E=c;E.resolving&&function Ce(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Se(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Oe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ve(t)}(g[o]));const w=Ki(E.canSeeViewProviders);E.resolving=!0;const W=E.injectImpl?fr(E.injectImpl):null;gn(t,a,Dn.Default);try{c=t[o]=E.factory(void 0,g,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Uc(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:g}=r.type.prototype;if(a){var E,w;const ye=Gn(r);(null!==(E=o.preOrderHooks)&&void 0!==E?E:o.preOrderHooks=[]).push(t,ye),(null!==(w=o.preOrderCheckHooks)&&void 0!==w?w:o.preOrderCheckHooks=[]).push(t,ye)}var M,W,J;c&&(null!==(M=o.preOrderHooks)&&void 0!==M?M:o.preOrderHooks=[]).push(0-t,c),g&&((null!==(W=o.preOrderHooks)&&void 0!==W?W:o.preOrderHooks=[]).push(t,g),(null!==(J=o.preOrderCheckHooks)&&void 0!==J?J:o.preOrderCheckHooks=[]).push(t,g))}(o,g[o],r)}finally{null!==W&&fr(W),Ki(w),E.resolving=!1,sr()}}return c}function bl(t,r,o){return!!(o[r+(t>>Hs)]&1<<t)}function Na(t,r){return!(t&Dn.Self||t&Dn.Host&&r)}class as{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return pu(this._tNode,this._lView,r,Bn(a),o)}}function jh(){return new as(Qn(),en())}function mu(t){return xe(()=>{const r=t.prototype.constructor,o=r[ir]||Hc(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const g=c[ir]||Hc(c);if(g&&g!==o)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function Hc(t){return Qe(t)?()=>{const r=Hc(Ze(t));return r&&r()}:vo(t)}function zc(t){const r=t[Tn],o=r.type;return 2===o?r.declTNode:1===o?t[co]:null}function si(t){return function ma(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const g=o[c];if(pr(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(g===r)return o[c+1];c+=2}}}return null}(Qn(),t)}const ka="__parameters__";function Gs(t,r,o){return xe(()=>{const a=function Wl(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...g){if(this instanceof c)return a.apply(this,g),this;const E=new c(...g);return w.annotation=E,w;function w(M,W,J){const ye=M.hasOwnProperty(ka)?M[ka]:Object.defineProperty(M,ka,{value:[]})[ka];for(;ye.length<=J;)ye.push(null);return(ye[J]=ye[J]||[]).push(E),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Fa(t,r){t.forEach(o=>Array.isArray(o)?Fa(o,r):r(o))}function Yc(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function tc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ol(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function Wo(t,r,o){let a=Go(t,r);return a>=0?t[1|a]=o:(a=~a,function ya(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function ic(t,r){const o=Go(t,r);if(o>=0)return t[1|o]}function Go(t,r){return function Gl(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const g=a+(c-a>>1),E=t[g<<o];if(r===E)return g<<o;E>r?c=g:a=g+1}return~(c<<o)}(t,r,1)}const na=ar(Gs("Optional"),8),Iu=ar(Gs("SkipSelf"),4);function jd(t){return 128==(128&t.flags)}var Jc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jc||{});const Ea=/^>|^->|<!--|-->|--!>|<!-$/g,Gh=/(<|>)/g,qh="\u200b$1\u200b";const bu=new Map;let Yh=0;const Zh="__ngContext__";function Is(t,r){Bo(r)?(t[Zh]=r[Ji],function es(t){bu.set(t[Ji],t)}(r)):t[Zh]=r}let fc;function td(t,r){return fc(t,r)}function pc(t){const r=t[fi];return Vr(r)?r[fi]:r}function gc(t){return Oo(t[Bt])}function Xp(t){return Oo(t[so])}function Oo(t){for(;null!==t&&!Vr(t);)t=t[so];return t}function Au(t,r,o,a,c){if(null!=a){let g,E=!1;Vr(a)?g=a:Bo(a)&&(E=!0,a=a[Zr]);const w=qi(a);0===t&&null!==o?null==c?ef(r,o,w):$a(r,o,w,c||null,!0):1===t&&null!==o?$a(r,o,w,c||null,!0):2===t?function Ua(t,r,o){const a=cl(t,r);a&&function um(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,E):3===t&&r.destroyNode(w),null!=g&&function Qf(t,r,o,a,c){const g=o[ao];g!==qi(o)&&Au(r,t,a,g,c);for(let w=lo;w<o.length;w++){const M=o[w];Ru(M[Tn],M,t,r,a,g)}}(r,t,g,o,c)}}function Ba(t,r){return t.createComment(function ll(t){return t.replace(Ea,r=>r.replace(Gh,qh))}(r))}function _c(t,r,o){return t.createElement(r,o)}function Yd(t,r){const o=t[Ko],a=o.indexOf(r);Lc(r),o.splice(a,1)}function ra(t,r){if(t.length<=lo)return;const o=lo+r,a=t[o];if(a){const c=a[qn];null!==c&&c!==t&&Yd(c,a),r>0&&(t[o-1][so]=a[so]);const g=tc(t,lo+r);!function Jp(t,r){Ru(t,r,r[Ye],2,null,null),r[Zr]=null,r[co]=null}(a[Tn],a);const E=g[Ui];null!==E&&E.detachView(g[Tn]),a[fi]=null,a[so]=null,a[tr]&=-129}return a}function vc(t,r){if(!(256&r[tr])){const o=r[Ye];r[Lo]&&Ll(r[Lo]),r[ns]&&Ll(r[ns]),o.destroyNode&&Ru(t,r,o,3,null,null),function Qh(t){let r=t[Bt];if(!r)return Jh(t[Tn],t);for(;r;){let o=null;if(Bo(r))o=r[Bt];else{const a=r[lo];a&&(o=a)}if(!o){for(;r&&!r[so]&&r!==t;)Bo(r)&&Jh(r[Tn],r),r=r[fi];null===r&&(r=t),Bo(r)&&Jh(r[Tn],r),o=r&&r[so]}r=o}}(r)}}function Jh(t,r){if(!(256&r[tr])){r[tr]&=-129,r[tr]|=256,function rd(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof Js)){const g=o[a+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const w=c[g[E]],M=g[E+1];Po(4,w,M);try{M.call(w)}finally{Po(5,w,M)}}else{Po(4,c,g);try{g.call(c)}finally{Po(5,c,g)}}}}}(t,r),function eg(t,r){const o=t.cleanup,a=r[ue];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const E=o[g+3];E>=0?a[E]():a[-E].unsubscribe(),g+=2}else o[g].call(a[o[g+1]]);null!==a&&(r[ue]=null);const c=r[ho];if(null!==c){r[ho]=null;for(let g=0;g<c.length;g++)(0,c[g])()}}(t,r),1===r[Tn].type&&r[Ye].destroy();const o=r[qn];if(null!==o&&Vr(r[fi])){o!==r[fi]&&Yd(o,r);const a=r[Ui];null!==a&&a.detachView(t)}!function $f(t){bu.delete(t[Ji])}(r)}}function Kd(t,r,o){return function tg(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Zr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:g}=t.data[a.directiveStart+c];if(g===ct.None||g===ct.Emulated)return null}return Qt(a,o)}}(t,r.parent,o)}function $a(t,r,o,a,c){t.insertBefore(r,o,a,c)}function ef(t,r,o){t.appendChild(r,o)}function ng(t,r,o,a,c){null!==a?$a(t,r,o,a,c):ef(t,r,o)}function cl(t,r){return t.parentNode(r)}function Yf(t,r,o){return ia(t,r,o)}let Ia,Ec,Jd,ia=function Kf(t,r,o){return 40&t.type?Qt(t,o):null};function Qd(t,r,o,a){const c=Kd(t,a,r),g=r[Ye],w=Yf(a.parent||r[co],a,r);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)ng(g,c,o[M],w,!1);else ng(g,c,o,w,!1);void 0!==Ia&&Ia(g,a,r,o,c)}function Jl(t,r){if(null!==r){const o=r.type;if(3&o)return Qt(r,t);if(4&o)return Ca(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Jl(t,a);{const c=t[r.index];return Vr(c)?Ca(-1,c):qi(c)}}if(32&o)return td(r,t)()||qi(t[r.index]);{const a=Rl(t,r);return null!==a?Array.isArray(a)?a[0]:Jl(pc(t[bn]),a):Jl(t,r.next)}}return null}function Rl(t,r){return null!==r?t[bn][co].projection[r.projection]:null}function Ca(t,r){const o=lo+t+1;if(o<r.length){const a=r[o],c=a[Tn].firstChild;if(null!==c)return Jl(a,c)}return r[ao]}function Ta(t,r,o,a,c,g,E){for(;null!=o;){const w=a[o.index],M=o.type;if(E&&0===r&&(w&&Is(qi(w),a),o.flags|=2),32!=(32&o.flags))if(8&M)Ta(t,r,o.child,a,c,g,!1),Au(r,t,c,w,g);else if(32&M){const W=td(o,a);let J;for(;J=W();)Au(r,t,c,J,g);Au(r,t,c,w,g)}else 16&M?sd(t,r,a,o,c,g):Au(r,t,c,w,g);o=E?o.projectionNext:o.next}}function Ru(t,r,o,a,c,g){Ta(o,a,t.firstChild,r,c,g,!1)}function sd(t,r,o,a,c,g){const E=o[bn],M=E[co].projection[a.projection];if(Array.isArray(M))for(let W=0;W<M.length;W++)Au(r,t,c,M[W],g);else{let W=M;const J=E[fi];jd(a)&&(W.flags|=128),Ta(t,r,W,J,c,g,!0)}}function Jf(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function ad(t,r,o){const{mergedAttrs:a,classes:c,styles:g}=o;null!==a&&Mr(t,r,a),null!==c&&Jf(t,r,c),null!==g&&function Xf(t,r,o){t.setAttribute(r,"style",o)}(t,r,g)}function tu(t){Ec=t}function tf(t){var r;return(null===(r=function ud(){if(void 0===Jd&&(Jd=null,Cn.trustedTypes))try{Jd=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jd}())||void 0===r?void 0:r.createScriptURL(t))||t}class eh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}function Mu(t){return t instanceof eh?t.changingThisBreaksApplicationSecurity:t}function ja(t,r){const o=function dl(t){return t instanceof eh&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${vt})`)}return o===r}const Ic=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ru=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ru||{});function fm(t){const r=lf();return r?r.sanitize(ru.URL,t)||"":ja(t,"URL")?Mu(t):function Ou(t){return(t=String(t)).match(Ic)?t:"unsafe:"+t}(Ve(t))}function lg(t){const r=lf();if(r)return tf(r.sanitize(ru.RESOURCE_URL,t)||"");if(ja(t,"ResourceURL"))return tf(Mu(t));throw new Se(904,!1)}function ug(t,r,o){return function No(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?lg:fm}(r,o)(t)}function lf(){const t=en();return t&&t[ve].sanitizer}class Bi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Pt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uf=new Bi("ENVIRONMENT_INITIALIZER"),cf=new Bi("INJECTOR",-1),pd=new Bi("INJECTOR_DEF_TYPES");class cg{get(r,o=Lr){if(o===Lr){const a=new Error(`NullInjectorError: No provider for ${Be(r)}!`);throw a.name="NullInjectorError",a}return o}}function df(t){return{\u0275providers:t}}function dg(...t){return{\u0275providers:sh(0,t),\u0275fromNgModule:!0}}function sh(t,...r){const o=[],a=new Set;let c;const g=E=>{o.push(E)};return Fa(r,E=>{const w=E;Tc(w,g,[],a)&&(c||(c=[]),c.push(w))}),void 0!==c&&ah(c,g),o}function ah(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];lh(c,g=>{r(g,a)})}}function Tc(t,r,o,a){if(!(t=Ze(t)))return!1;let c=null,g=jn(t);const E=!g&&x(t);if(g||E){if(E&&!E.standalone)return!1;c=t}else{const M=t.ngModule;if(g=jn(M),!g)return!1;c=M}const w=a.has(c);if(E){if(w)return!1;if(a.add(c),E.dependencies){const M="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const W of M)Tc(W,r,o,a)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let W;a.add(c);try{Fa(g.imports,J=>{Tc(J,r,o,a)&&(W||(W=[]),W.push(J))})}finally{}void 0!==W&&ah(W,r)}if(!w){const W=vo(c)||(()=>new c);r({provide:c,useFactory:W,deps:Ot},c),r({provide:pd,useValue:c,multi:!0},c),r({provide:uf,useValue:()=>Ct(c),multi:!0},c)}const M=g.providers;if(null!=M&&!w){const W=t;lh(M,J=>{r(J,W)})}}}return c!==t&&void 0!==t.providers}function lh(t,r){for(let o of t)ze(o)&&(o=o.\u0275providers),Array.isArray(o)?lh(o,r):r(o)}const M_=ie({provide:String,useValue:ie});function hf(t){return null!==t&&"object"==typeof t&&M_ in t}function Dc(t){return"function"==typeof t}const hg=new Bi("Set Injector scope."),uh={},x_={};let ff;function hp(){return void 0===ff&&(ff=new cg),ff}class Ys{}class Fu extends Ys{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(r,E=>this.processProvider(E)),this.records.set(cf,wc(void 0,this)),c.has("environment")&&this.records.set(Ys,wc(void 0,this));const g=this.records.get(hg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(pd.multi,Ot,Dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ee(this),a=fr(void 0);try{return r()}finally{Ee(o),fr(a)}}get(r,o=Lr,a=Dn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(mo))return r[mo](this);a=Bn(a);const g=Ee(this),E=fr(void 0);try{if(!(a&Dn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const W=function mm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Bi}(r)&&Ut(r);M=W&&this.injectableDefInScope(W)?wc(pf(r),uh):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&Dn.Self?hp():this.parent).get(r,o=a&Dn.Optional&&o===Lr?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[hi]=w[hi]||[]).unshift(Be(r)),g)throw w;return function Ge(t,r,o,a){const c=t[hi];throw r[j]&&c.unshift(r[j]),t.message=function Tt(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Be(r);if(Array.isArray(r))c=r.map(Be).join(" -> ");else if("object"==typeof r){let g=[];for(let E in r)if(r.hasOwnProperty(E)){let w=r[E];g.push(E+":"+("string"==typeof w?JSON.stringify(w):Be(w)))}c=`{${g.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(it,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[hi]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{fr(E),Ee(g)}}resolveInjectorInitializers(){const r=Ee(this),o=fr(void 0);try{const c=this.get(uf.multi,Ot,Dn.Self);for(const g of c)g()}finally{Ee(r),fr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Be(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(r){let o=Dc(r=Ze(r))?r:Ze(r&&r.provide);const a=function mf(t){return hf(t)?wc(void 0,t.useValue):wc(_f(t),uh)}(r);if(Dc(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=wc(void 0,uh,!0),c.factory=()=>Fn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===uh&&(o.value=x_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function fp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Ze(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function pf(t){const r=Ut(t),o=null!==r?r.factory:vo(t);if(null!==o)return o;if(t instanceof Bi)throw new Se(204,!1);if(t instanceof Function)return function gf(t){const r=t.length;if(r>0)throw ol(r,"?"),new Se(204,!1);const o=function Pn(t){return t&&(t[mn]||t[Xn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Se(204,!1)}function _f(t,r,o){let a;if(Dc(t)){const c=Ze(t);return vo(c)||pf(c)}if(hf(t))a=()=>Ze(t.useValue);else if(function cp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Fn(t.deps||[]));else if(function gm(t){return!(!t||!t.useExisting)}(t))a=()=>Ct(Ze(t.useExisting));else{const c=Ze(t&&(t.useClass||t.provide));if(!function fg(t){return!!t.deps}(t))return vo(c)||pf(c);a=()=>new c(...Fn(t.deps))}return a}function wc(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function ch(t,r){for(const o of t)Array.isArray(o)?ch(o,r):o&&ze(o)?ch(o.\u0275providers,r):r(o)}const pp=new Bi("AppId",{providedIn:"root",factory:()=>gp}),gp="ng",mp=new Bi("Platform Initializer"),dh=new Bi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pg=new Bi("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function Os(){if(void 0!==Ec)return Ec;if(typeof document<"u")return document;throw new Se(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Ef=(t,r,o)=>null;function gd(t,r,o=!1){return Ef(t,r,o)}class k_{}class Tp{}class yg{resolveComponentFactory(r){throw function F_(t){const r=Error(`No component factory found for ${Be(t)}.`);return r.ngComponent=t,r}(r)}}let md=(()=>{class r{}return r.NULL=new yg,r})();function Eg(){return _d(Qn(),en())}function _d(t,r){return new ou(Qt(t,r))}let ou=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=Eg,r})();function Ig(t){return t instanceof ou?t.nativeElement:t}class Cm{}let V_=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Tm(){const t=en(),o=bo(Qn().index,t);return(Bo(o)?o:t)[Ye]}(),r})(),Dm=(()=>{var t;class r{}return(t=r).\u0275prov=Pt({token:t,providedIn:"root",factory:()=>null}),r})();class wm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wp=new wm("16.2.9"),Cg={};function Sp(t,r=null,o=null,a){const c=yd(t,r,o,a);return c.resolveInjectorInitializers(),c}function yd(t,r=null,o=null,a,c=new Set){const g=[o||Ot,dg(t)];return a=a||("object"==typeof t?void 0:Be(t)),new Fu(g,r||hp(),a||null,c)}let Ks=(()=>{var t;class r{static create(a,c){if(Array.isArray(a))return Sp({name:""},c,a,"");{var g;const E=null!==(g=a.name)&&void 0!==g?g:"";return Sp({name:E},a.parent,a.providers,E)}}}return(t=r).THROW_IF_NOT_FOUND=Lr,t.NULL=new cg,t.\u0275prov=Pt({token:t,providedIn:"any",factory:()=>Ct(cf)}),t.__NG_ELEMENT_ID__=-1,r})();function Rp(t){return t.ngOriginalError}class xl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Rp(r);for(;o&&Rp(o);)o=Rp(o);return o||null}}function v(t){return r=>{setTimeout(t,void 0,r)}}const b=class h extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,g=o||(()=>null),E=a;if(r&&"object"==typeof r){var w,M,W;const ye=r;c=null===(w=ye.next)||void 0===w?void 0:w.bind(ye),g=null===(M=ye.error)||void 0===M?void 0:M.bind(ye),E=null===(W=ye.complete)||void 0===W?void 0:W.bind(ye)}this.__isAsync&&(g=v(g),c&&(c=v(c)),E&&(E=v(E)));const J=super.subscribe({next:c,error:g,complete:E});return r instanceof V.w0&&r.add(J),J}};function B(...t){}class We{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new b(!1),this.onMicrotaskEmpty=new b(!1),this.onStable=new b(!1),this.onError=new b(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function K(){const t="function"==typeof Cn.requestAnimationFrame;let r=Cn[t?"requestAnimationFrame":"setTimeout"],o=Cn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function tn(t){const r=()=>{!function qt(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Cn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wn(t),t.isCheckStableRunning=!0,$t(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wn(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,g,E,w)=>{if(function Ch(t){var r;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(r=t[0].data)||void 0===r?void 0:r.__ignore_ng_zone__)}(w))return o.invokeTask(c,g,E,w);try{return hr(t),o.invokeTask(c,g,E,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),$i(t)}},onInvoke:(o,a,c,g,E,w,M)=>{try{return hr(t),o.invoke(c,g,E,w,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),$i(t)}},onHasTask:(o,a,c,g)=>{o.hasTask(c,g),a===c&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Wn(t),$t(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,c,g)=>(o.handleError(c,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Se(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+c,r,lt,B,B);try{return g.runTask(E,o,a)}finally{g.cancelTask(E)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const lt={};function $t(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wn(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $i(t){t._nesting--,$t(t)}class Ts{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new b,this.onMicrotaskEmpty=new b,this.onStable=new b,this.onError=new b}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const Ac=new Bi("",{providedIn:"root",factory:Sc});function Sc(){const t=Kt(We);let r=!0;const o=new ee.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ee.y(c=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const E=t.onUnstable.subscribe(()=>{We.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{g.unsubscribe(),E.unsubscribe()}});return(0,de.T)(o,a.pipe((0,Te.B)()))}function su(t){return t instanceof Function?t():t}let Sm=(()=>{var t;class r{constructor(){this.renderDepth=0,this.handler=null}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){var a;this.renderDepth--,0===this.renderDepth&&(null===(a=this.handler)||void 0===a||a.execute())}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null}}return(t=r).\u0275prov=Pt({token:t,providedIn:"root",factory:()=>new t}),r})();function Dh(t){for(;t;){t[tr]|=64;const r=pc(t);if(Fs(t)&&!r)return t;t=r}return null}const j_=new Bi("",{providedIn:"root",factory:()=>!1});let Mp=null;function Ng(t,r){var o;return null!==(o=t[r])&&void 0!==o?o:kg()}function q_(t,r){var o;const a=kg();null!==(o=a.producerNode)&&void 0!==o&&o.length&&(t[r]=Mp,a.lView=t,Mp=Y_())}const Om={...jo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dh(t.lView)},lView:null};function Y_(){return Object.create(Om)}function kg(){var t;return null!==(t=Mp)&&void 0!==t||(Mp=Y_()),Mp}const Yr={};function Fg(t){Nm(Ur(),en(),Vi()+t,!1)}function Nm(t,r,o,a){if(!a)if(3==(3&r[tr])){const g=t.preOrderCheckHooks;null!==g&&Hl(r,g,o)}else{const g=t.preOrderHooks;null!==g&&cu(r,g,0,o)}us(o)}function Id(t,r=Dn.Default){const o=en();return null===o?Ct(t,r):pu(Qn(),o,Ze(t),r)}function km(){throw new Error("invalid")}function Lg(t,r,o,a,c,g,E,w,M,W,J){const ye=r.blueprint.slice();return ye[Zr]=c,ye[tr]=140|a,(null!==W||t&&2048&t[tr])&&(ye[tr]|=2048),Sa(ye),ye[fi]=ye[an]=t,ye[pe]=o,ye[ve]=E||t&&t[ve],ye[Ye]=w||t&&t[Ye],ye[Y]=M||t&&t[Y]||null,ye[co]=g,ye[Ji]=function lm(){return Yh++}(),ye[xo]=J,ye[Fo]=W,ye[bn]=2==r.type?t[bn]:ye,ye}function Cd(t,r,o,a,c){let g=t.data[r];if(null===g)g=function Fm(t,r,o,a,c){const g=xr(),E=Ss(),M=t.data[r]=function ay(t,r,o,a,c,g){let E=r?r.injectorIndex:-1,w=0;return wn()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=M),null!==g&&(E?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M,M.prev=g)),M}(t,r,o,a,c),function Zu(){return dr.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=a,g.attrs=c;const E=function os(){const t=dr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return Xr(g,!0),g}function wh(t,r,o,a){if(0===o)return-1;const c=r.length;for(let g=0;g<o;g++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Vg(t,r,o,a,c){const g=Ng(r,Lo),E=Vi(),w=2&a;try{us(-1),w&&r.length>Nr&&Nm(t,r,Nr,!1),Po(w?2:0,c);const W=w?g:null,J=wi(W);try{null!==W&&(W.dirty=!1),o(a,c)}finally{_l(W,J)}}finally{w&&null===r[Lo]&&q_(r,Lo),us(E),Po(w?3:1,c)}}function xp(t,r,o){if(Zo(r)){const a=mi(null);try{const g=r.directiveEnd;for(let E=r.directiveStart;E<g;E++){const w=t.data[E];w.contentQueries&&w.contentQueries(1,o[E],E)}}finally{mi(a)}}}function Lm(t,r,o){Hi()&&(function zm(t,r,o,a){const c=o.directiveStart,g=o.directiveEnd;Zs(o)&&function ev(t,r,o){const a=Qt(r,t),c=K_(o);let E=16;o.signals?E=4096:o.onPush&&(E=64);const w=Lp(t,Lg(t,c,null,E,a,r,null,t[ve].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||zs(o,r),Is(a,r);const E=o.initialInputs;for(let w=c;w<g;w++){const M=t.data[w],W=Ms(r,t,w,o);Is(W,r),null!==E&&dy(0,w-c,W,M,0,E),$o(M)&&(bo(o.index,r)[pe]=Ms(r,t,w,o))}}(t,r,o,Qt(o,r)),64==(64&o.flags)&&Wm(t,r,o))}function bh(t,r,o=Qt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let g=0;g<a.length;g+=2){const E=a[g+1],w=-1===E?o(r,t):t[E];t[c++]=w}}}function K_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Op(t,r,o,a,c,g,E,w,M,W,J){const ye=Nr+a,tt=ye+c,It=function Z_(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Yr);return o}(ye,tt),Ht="function"==typeof W?W():W;return It[Tn]={type:t,blueprint:It,template:o,queries:null,viewQuery:w,declTNode:r,data:It.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:M,consts:Ht,incompleteFirstPass:!1,ssrId:J}}let Np=t=>null;function kp(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const g=t[c];null===a?Bg(o,r,c,g):a.hasOwnProperty(c)&&Bg(o,r,a[c],g)}return o}function Bg(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Fp(t,r,o,a){if(Hi()){const c=null===a?null:{"":-1},g=function Gm(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let E=0;E<o.length;E++){const w=o[E];if(ro(r,w.selectors,!1))if(a||(a=[]),$o(w))if(null!==w.findHostDirectiveDefs){const M=[];c=c||new Map,w.findHostDirectiveDefs(w,M,c),a.unshift(...M,w),qm(t,r,M.length)}else a.unshift(w),qm(t,r,0);else{var g;c=c||new Map,null===(g=w.findHostDirectiveDefs)||void 0===g||g.call(w,w,a,c),a.push(w)}}return null===a?null:[a,c]}(t,o);let E,w;null===g?E=w=null:[E,w]=g,null!==E&&Hm(t,r,o,E,c,w),c&&function ly(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const g=o[r[c+1]];if(null==g)throw new Se(-301,!1);a.push(r[c],g)}}}(o,a,c)}o.mergedAttrs=Ln(o.mergedAttrs,o.attrs)}function Hm(t,r,o,a,c,g){for(let ye=0;ye<a.length;ye++)Tl(zs(o,r),t,a[ye].type);!function J_(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let ye=0;ye<a.length;ye++){const tt=a[ye];tt.providersResolver&&tt.providersResolver(tt)}let E=!1,w=!1,M=wh(t,r,a.length,null);for(let ye=0;ye<a.length;ye++){const tt=a[ye];o.mergedAttrs=Ln(o.mergedAttrs,tt.hostAttrs),cy(t,o,r,M,tt),uy(M,tt,c),null!==tt.contentQueries&&(o.flags|=4),(null!==tt.hostBindings||null!==tt.hostAttrs||0!==tt.hostVars)&&(o.flags|=64);const It=tt.type.prototype;var W,J;!E&&(It.ngOnChanges||It.ngOnInit||It.ngDoCheck)&&((null!==(W=t.preOrderHooks)&&void 0!==W?W:t.preOrderHooks=[]).push(o.index),E=!0),w||!It.ngOnChanges&&!It.ngDoCheck||((null!==(J=t.preOrderCheckHooks)&&void 0!==J?J:t.preOrderCheckHooks=[]).push(o.index),w=!0),M++}!function Vm(t,r,o){const c=r.directiveEnd,g=t.data,E=r.attrs,w=[];let M=null,W=null;for(let J=r.directiveStart;J<c;J++){const ye=g[J],tt=o?o.get(ye):null,Ht=tt?tt.outputs:null;M=kp(ye.inputs,J,M,tt?tt.inputs:null),W=kp(ye.outputs,J,W,Ht);const pn=null===M||null===E||gi(r)?null:hy(M,J,E);w.push(pn)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=M,r.outputs=W}(t,o,g)}function Wm(t,r,o){const a=o.directiveStart,c=o.directiveEnd,g=o.index,E=function O(){return dr.lFrame.currentDirectiveIndex}();try{us(g);for(let w=a;w<c;w++){const M=t.data[w],W=r[w];T(w),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Sf(M,W)}}finally{us(-1),T(E)}}function Sf(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function qm(t,r,o){var a;r.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(r.index)}function uy(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;$o(r)&&(o[""]=t)}}function cy(t,r,o,a,c){t.data[a]=c;const g=c.factory||(c.factory=vo(c.type)),E=new Js(g,$o(c),Id);t.blueprint[a]=E,o[a]=E,function Af(t,r,o,a,c){const g=c.hostBindings;if(g){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const w=~r.index;(function X_(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(E)!=w&&E.push(w),E.push(o,a,g)}}(t,r,a,wh(t,o,c.hostVars,Yr),c)}function Bu(t,r,o,a,c,g){const E=Qt(t,r);!function Ym(t,r,o,a,c,g,E){if(null==g)t.removeAttribute(r,c,o);else{const w=null==E?Ve(g):E(g,a||"",c);t.setAttribute(r,c,w,o)}}(r[Ye],E,g,t.value,o,a,c)}function dy(t,r,o,a,c,g){const E=g[r];if(null!==E)for(let w=0;w<E.length;)tv(a,o,E[w++],E[w++],E[w++])}function tv(t,r,o,a,c){const g=mi(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(a)&&(c=E[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{mi(g)}}function hy(t,r,o){let a=null,c=0;for(;c<o.length;){const g=o[c];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===a&&(a=[]);const E=t[g];for(let w=0;w<E.length;w+=2)if(E[w]===r){a.push(g,E[w+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function nv(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Km(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const g=o[a+1];if(-1!==g){const E=t.data[g];Re(o[a]),E.contentQueries(2,r[g],g)}}}function Lp(t,r){return t[Bt]?t[_n][so]=r:t[Bt]=r,t[_n]=r,r}function Vp(t,r,o){Re(0);const a=mi(null);try{r(t,o)}finally{mi(a)}}function Zm(t){return t[ue]||(t[ue]=[])}function Qm(t){return t.cleanup||(t.cleanup=[])}function vi(t,r){const o=t[Y],a=o?o.get(xl,null):null;a&&a.handleError(r)}function $g(t,r,o,a,c){for(let g=0;g<o.length;){const E=o[g++],w=o[g++];tv(t.data[E],r[E],a,w,c)}}function $p(t,r){const o=bo(r,t),a=o[Tn];!function rv(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[Zr];null!==c&&null===o[xo]&&(o[xo]=gd(c,o[Y])),Ds(a,o,o[pe])}function Ds(t,r,o){Rt(r);try{const a=t.viewQuery;null!==a&&Vp(1,a,o);const c=t.template;null!==c&&Vg(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Km(t,r),t.staticViewQueries&&Vp(2,t.viewQuery,o);const g=t.components;null!==g&&function ts(t,r){for(let o=0;o<r.length;o++)$p(t,r[o])}(r,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[tr]&=-5,oi()}}let au=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,g){const E=typeof Zone>"u"?null:Zone.current,w=function Je(t,r,o){const a=Object.create(dn);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=E=>{a.cleanupFn=E};return a.ref={notify:()=>Fl(a),run:()=>{if(a.dirty=!1,a.hasRun&&!rs(a))return;a.hasRun=!0;const E=wi(a);try{a.cleanupFn(),a.cleanupFn=Vt,a.fn(c)}finally{_l(a,E)}},cleanup:()=>a.cleanupFn()},a.ref}(a,J=>{this.all.has(J)&&this.queue.set(J,E)},g);let M;this.all.add(w),w.notify();const W=()=>{var J;w.cleanup(),null===(J=M)||void 0===J||J(),this.all.delete(w),this.queue.delete(w)};return M=null==c?void 0:c.onDestroy(W),{destroy:W}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=Pt({token:t,providedIn:"root",factory:()=>new t}),r})();function Ug(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,g=0;if(null!==r)for(let E=0;E<r.length;E++){const w=r[E];"number"==typeof w?g=w:1==g?c=Fe(c,w):2==g&&(a=Fe(a,w+": "+r[++E]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Rf(t,r,o,a,c=!1){for(;null!==o;){const g=r[o.index];null!==g&&a.push(qi(g)),Vr(g)&&iv(g,a);const E=o.type;if(8&E)Rf(t,r,o.child,a);else if(32&E){const w=td(o,r);let M;for(;M=w();)a.push(M)}else if(16&E){const w=Rl(r,o);if(Array.isArray(w))a.push(...w);else{const M=pc(r[bn]);Rf(M[Tn],M,w,a,!0)}}o=c?o.projectionNext:o.next}return a}function iv(t,r){for(let o=lo;o<t.length;o++){const a=t[o],c=a[Tn].firstChild;null!==c&&Rf(a[Tn],a,c,r)}t[ao]!==t[Zr]&&r.push(t[ao])}function Pf(t,r,o,a=!0){const c=r[ve],g=c.rendererFactory,E=c.afterRenderEventManager;var M;null===(M=g.begin)||void 0===M||M.call(g),null==E||E.begin();try{ov(t,r,t.template,o)}catch(ye){throw a&&vi(r,ye),ye}finally{var W,J;null===(W=g.end)||void 0===W||W.call(g),null===(J=c.effectManager)||void 0===J||J.flush(),null==E||E.end()}}function ov(t,r,o,a){var c;const g=r[tr];if(256!=(256&g)){null===(c=r[ve].effectManager)||void 0===c||c.flush(),Rt(r);try{Sa(r),function Ma(t){return dr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Vg(t,r,o,2,a);const w=3==(3&g);if(w){const J=t.preOrderCheckHooks;null!==J&&Hl(r,J,null)}else{const J=t.preOrderHooks;null!==J&&cu(r,J,0,null),du(r,0)}if(function So(t){for(let r=gc(t);null!==r;r=Xp(r)){if(!r[Ga])continue;const o=r[Ko];for(let a=0;a<o.length;a++){Vh(o[a])}}}(r),sv(r,2),null!==t.contentQueries&&Km(t,r),w){const J=t.contentCheckHooks;null!==J&&Hl(r,J)}else{const J=t.contentHooks;null!==J&&cu(r,J,1),du(r,1)}!function ry(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Ng(r,ns);try{for(let c=0;c<o.length;c++){const g=o[c];if(g<0)us(~g);else{const E=g,w=o[++c],M=o[++c];R(w,E),a.dirty=!1;const W=wi(a);try{M(2,r[E])}finally{_l(a,W)}}}}finally{null===r[ns]&&q_(r,ns),us(-1)}}(t,r);const M=t.components;null!==M&&qo(r,M,0);const W=t.viewQuery;if(null!==W&&Vp(2,W,a),w){const J=t.viewCheckHooks;null!==J&&Hl(r,J)}else{const J=t.viewHooks;null!==J&&cu(r,J,2),du(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[tr]&=-73,Lc(r)}finally{oi()}}}function sv(t,r){for(let o=gc(t);null!==o;o=Xp(o))for(let a=lo;a<o.length;a++)av(o[a],r)}function BE(t,r,o){av(bo(r,t),o)}function av(t,r){if(!function Il(t){return 128==(128&t[tr])}(t))return;const o=t[Tn],a=t[tr];if(80&a&&0===r||1024&a||2===r)ov(o,t,o.template,t[pe]);else if(t[Yo]>0){sv(t,1);const c=o.components;null!==c&&qo(t,c,1)}}function qo(t,r,o){for(let a=0;a<r.length;a++)BE(t,r[a],o)}class Mf{get rootNodes(){const r=this._lView,o=r[Tn];return Rf(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pe]}set context(r){this._lView[pe]=r}get destroyed(){return 256==(256&this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[fi];if(Vr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(ra(r,a),tc(o,a))}this._attachedToViewContainer=!1}vc(this._lView[Tn],this._lView)}onDestroy(r){!function yr(t,r){if(256==(256&t[tr]))throw new Se(911,!1);null===t[ho]&&(t[ho]=[]),t[ho].push(r)}(this._lView,r)}markForCheck(){Dh(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){this._lView[tr]|=128}detectChanges(){Pf(this._lView[Tn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gf(t,r){Ru(t,r,r[Ye],2,null,null)}(this._lView[Tn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=r}}class gy extends Mf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Pf(r[Tn],r,r[pe],!1)}checkNoChanges(){}get context(){return null}}class lv extends md{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=x(r);return new Up(o,this.ngModule)}}function Jm(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class _y{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Bn(a);const c=this.injector.get(r,Cg,a);return c!==Cg||o===Cg?c:this.parentInjector.get(r,o,a)}}class Up extends Tp{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Jm(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Jm(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ut(t){return t.map(Ue).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){var g;let E=(c=c||this.ngModule)instanceof Ys?c:null===(g=c)||void 0===g?void 0:g.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const w=E?new _y(r,E):r,M=w.get(Cm,null);if(null===M)throw new Se(407,!1);const tt={rendererFactory:M,sanitizer:w.get(Dm,null),effectManager:w.get(au,null),afterRenderEventManager:w.get(Sm,null)},It=M.createRenderer(null,this.componentDef),Ht=this.componentDef.selectors[0][0]||"div",pn=a?function bf(t,r,o,a){const g=a.get(j_,!1)||o===ct.ShadowDom,E=t.selectRootElement(r,g);return function Q_(t){Np(t)}(E),E}(It,a,this.componentDef.encapsulation,w):_c(It,Ht,function my(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ht)),on=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Fr=null;null!==pn&&(Fr=gd(pn,w,!0));const Ci=Op(0,null,null,1,0,null,null,null,null,null,null),Qi=Lg(null,Ci,null,on,null,null,tt,It,w,null,Fr);let qu,A_;Rt(Qi);try{const Vf=this.componentDef;let am,FE=null;Vf.findHostDirectiveDefs?(am=[],FE=new Map,Vf.findHostDirectiveDefs(Vf,am,FE),am.push(Vf)):am=[Vf];const Yb=function $E(t,r){const o=t[Tn],a=Nr;return t[a]=r,Cd(o,a,2,"#host",null)}(Qi,pn),Kb=function yy(t,r,o,a,c,g,E){const w=c[Tn];!function Ey(t,r,o,a){for(const c of t)r.mergedAttrs=Ln(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Ug(r,r.mergedAttrs,!0),null!==o&&ad(a,o,r))}(a,t,r,E);let M=null;null!==r&&(M=gd(r,c[Y]));const W=g.rendererFactory.createRenderer(r,o);let J=16;o.signals?J=4096:o.onPush&&(J=64);const ye=Lg(c,K_(o),null,J,c[t.index],t,g,W,null,null,M);return w.firstCreatePass&&qm(w,t,a.length-1),Lp(c,ye),c[t.index]=ye}(Yb,pn,Vf,am,Qi,tt,It);A_=Fc(Ci,Nr),pn&&function jp(t,r,o,a){if(a)Mr(t,o,["ng-version",wp.full]);else{const{attrs:c,classes:g}=function At(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===c?""!==g&&r.push(g,t[++a]):8===c&&o.push(g);else{if(!ri(c))break;c=g}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&Mr(t,o,c),g&&g.length>0&&Jf(t,o,g.join(" "))}}(It,Vf,pn,a),void 0!==o&&function Iy(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const g=o[c];a.push(null!=g?Array.from(g):null)}}(A_,this.ngContentSelectors,o),qu=function uv(t,r,o,a,c,g){const E=Qn(),w=c[Tn],M=Qt(E,c);Hm(w,c,E,o,null,a);for(let J=0;J<o.length;J++)Is(Ms(c,w,E.directiveStart+J,E),c);Wm(w,c,E),M&&Is(M,c);const W=Ms(c,w,E.directiveStart+E.componentOffset,E);if(t[pe]=c[pe]=W,null!==g)for(const J of g)J(W,r);return xp(w,E,t),W}(Kb,Vf,am,FE,Qi,[Td]),Ds(Ci,Qi,null)}finally{oi()}return new vy(this.componentType,qu,_d(A_,Qi),Qi,A_)}}class vy extends k_{constructor(r,o,a,c,g){super(),this.location=a,this._rootLView=c,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gy(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var g;if(null!==(g=this.previousInputValues)&&void 0!==g||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const E=this._rootLView;$g(E[Tn],E,c,r,o),this.previousInputValues.set(r,o),Dh(bo(this._tNode.index,E))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Td(){const t=Qn();xa(en()[Tn],t)}function cv(t){let r=function Rc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if($o(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Se(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const E=t;E.inputs=Sh(t.inputs),E.inputTransforms=Sh(t.inputTransforms),E.declaredInputs=Sh(t.declaredInputs),E.outputs=Sh(t.outputs);const w=c.hostBindings;w&&dv(t,w);const M=c.viewQuery,W=c.contentQueries;if(M&&Cy(t,M),W&&Ty(t,W),me(t.inputs,c.inputs),me(t.declaredInputs,c.declaredInputs),me(t.outputs,c.outputs),null!==c.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),me(E.inputTransforms,c.inputTransforms)),$o(c)&&c.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let E=0;E<g.length;E++){const w=g[E];w&&w.ngInherit&&w(t),w===cv&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Ah(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ln(c.hostAttrs,o=Ln(o,c.hostAttrs))}}(a)}function Sh(t){return t===Lt?{}:t===Ot?[]:t}function Cy(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Ty(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,g)=>{r(a,c,g),o(a,c,g)}:r}function dv(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function mv(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Of(t){return!!Pc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Pc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function hs(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Hg(t,r,o,a){const c=en();return hs(c,fa(),r)&&(Ur(),Bu(Jr(),c,t,r,o,a)),Hg}function Av(t,r,o,a,c,g,E,w){const M=en(),W=Ur(),J=t+Nr,ye=W.firstCreatePass?function By(t,r,o,a,c,g,E,w,M){const W=r.consts,J=Cd(r,t,4,E||null,ls(W,w));Fp(r,o,J,ls(W,M)),xa(r,J);const ye=J.tView=Op(2,J,a,c,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,W,null);return null!==r.queries&&(r.queries.template(r,J),ye.queries=r.queries.embeddedTView(J)),J}(J,W,M,r,o,a,c,g,E):W.data[J];Xr(ye,!1);const tt=Lh(W,M,ye,t);jl()&&Qd(W,M,tt,ye),Is(tt,M),Lp(M,M[J]=nv(tt,M,tt,ye)),Qs(ye)&&Lm(W,M,ye),null!=E&&bh(M,ye,w)}let Lh=function Qg(t,r,o,a){return Xa(!0),r[Ye].createComment("")};function s_(t,r,o){const a=en();return hs(a,fa(),r)&&function Wa(t,r,o,a,c,g,E,w){const M=Qt(r,o);let J,W=r.inputs;!w&&null!=W&&(J=W[a])?($g(t,o,J,a,c),Zs(r)&&function $m(t,r){const o=bo(r,t);16&o[tr]||(o[tr]|=64)}(o,r.index)):3&r.type&&(a=function Bm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=E?E(c,r.value||"",a):c,g.setProperty(M,a,c))}(Ur(),Jr(),a,t,r,a[Ye],o,!1),s_}function a_(t,r,o,a,c){const E=c?"class":"style";$g(t,o,r.inputs[E],E,a)}function l_(t,r,o,a){const c=en(),g=Ur(),E=Nr+t,w=c[Ye],M=g.firstCreatePass?function WE(t,r,o,a,c,g){const E=r.consts,M=Cd(r,t,2,a,ls(E,c));return Fp(r,o,M,ls(E,g)),null!==M.attrs&&Ug(M,M.attrs,!1),null!==M.mergedAttrs&&Ug(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(E,g,c,r,o,a):g.data[E],W=Rv(g,c,M,w,r,t);c[E]=W;const J=Qs(M);return Xr(M,!0),ad(w,W,M),32!=(32&M.flags)&&jl()&&Qd(g,c,W,M),0===function Ra(){return dr.lFrame.elementDepthCount}()&&Is(W,c),function ti(){dr.lFrame.elementDepthCount++}(),J&&(Lm(g,c,M),xp(g,M,c)),null!==a&&bh(c,M),l_}function u_(){let t=Qn();Ss()?Cl():(t=t.parent,Xr(t,!1));const r=t;(function da(t){return dr.skipHydrationRootTNode===t})(r)&&function Qa(){dr.skipHydrationRootTNode=null}(),function Vc(){dr.lFrame.elementDepthCount--}();const o=Ur();return o.firstCreatePass&&(xa(o,t),Zo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function bi(t){return 0!=(8&t.flags)}(r)&&a_(o,r,en(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ar(t){return 0!=(16&t.flags)}(r)&&a_(o,r,en(),r.stylesWithoutHost,!1),u_}function Sv(t,r,o,a){return l_(t,r,o,a),u_(),Sv}let Rv=(t,r,o,a,c,g)=>(Xa(!0),_c(a,c,function $c(){return dr.lFrame.currentNamespace}()));function c_(t,r,o){const a=en(),c=Ur(),g=t+Nr,E=c.firstCreatePass?function GE(t,r,o,a,c){const g=r.consts,E=ls(g,a),w=Cd(r,t,8,"ng-container",E);return null!==E&&Ug(w,E,!0),Fp(r,o,w,ls(g,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(g,c,a,r,o):c.data[g];Xr(E,!0);const w=Pv(c,a,E,t);return a[g]=w,jl()&&Qd(c,a,w,E),Is(w,a),Qs(E)&&(Lm(c,a,E),xp(c,E,a)),null!=o&&bh(a,E),c_}function Xg(){let t=Qn();const r=Ur();return Ss()?Cl():(t=t.parent,Xr(t,!1)),r.firstCreatePass&&(xa(r,t),Zo(t)&&r.queries.elementEnd(t)),Xg}function Wu(t,r,o){return c_(t,r,o),Xg(),Wu}let Pv=(t,r,o,a)=>(Xa(!0),Ba(r[Ye],""));function Mv(){return en()}function d_(t){return!!t&&"function"==typeof t.then}function xv(t){return!!t&&"function"==typeof t.subscribe}function h_(t,r,o,a){const c=en(),g=Ur(),E=Qn();return function f_(t,r,o,a,c,g,E){const w=Qs(a),W=t.firstCreatePass&&Qm(t),J=r[pe],ye=Zm(r);let tt=!0;if(3&a.type||E){const pn=Qt(a,r),kn=E?E(pn):pn,rr=ye.length,on=E?Ci=>E(qi(Ci[a.index])):a.index;let Fr=null;if(!E&&w&&(Fr=function qE(t,r,o,a){const c=t.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const E=c[g];if(E===o&&c[g+1]===a){const w=r[ue],M=c[g+2];return w.length>M?w[M]:null}"string"==typeof E&&(g+=2)}return null}(t,r,c,a.index)),null!==Fr)(Fr.__ngLastListenerFn__||Fr).__ngNextListenerFn__=g,Fr.__ngLastListenerFn__=g,tt=!1;else{g=Yy(a,r,J,g,!1);const Ci=o.listen(kn,c,g);ye.push(g,Ci),W&&W.push(c,on,rr,rr+1)}}else g=Yy(a,r,J,g,!1);const It=a.outputs;let Ht;if(tt&&null!==It&&(Ht=It[c])){const pn=Ht.length;if(pn)for(let kn=0;kn<pn;kn+=2){const Qi=r[Ht[kn]][Ht[kn+1]].subscribe(g),qu=ye.length;ye.push(g,Qi),W&&W.push(c,a.index,qu,-(qu+1))}}}(g,c,c[Ye],E,t,r,a),h_}function Ov(t,r,o,a){try{return Po(6,r,o),!1!==o(a)}catch(c){return vi(t,c),!1}finally{Po(7,r,o)}}function Yy(t,r,o,a,c){return function g(E){if(E===Function)return a;Dh(t.componentOffset>-1?bo(t.index,r):r);let M=Ov(r,o,a,E),W=g.__ngNextListenerFn__;for(;W;)M=Ov(r,o,W,E)&&M,W=W.__ngNextListenerFn__;return c&&!1===M&&E.preventDefault(),M}}function Ky(t=1){return function Ao(t){return(dr.lFrame.contextLView=function js(t,r){for(;t>0;)r=r[an],t--;return r}(t,dr.lFrame.contextLView))[pe]}(t)}function YE(t,r){let o=null;const a=function wo(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const g=r[c];if("*"!==g){if(null===a?ro(t,g,!0):G(a,g))return c}else o=c}return o}function Zy(t){const r=en()[bn][co];if(!r.projection){const a=r.projection=ol(t?t.length:1,null),c=a.slice();let g=r.child;for(;null!==g;){const E=t?YE(g,t):0;null!==E&&(c[E]?c[E].projectionNext=g:a[E]=g,c[E]=g),g=g.next}}}function p_(t,r=0,o){const a=en(),c=Ur(),g=Cd(c,Nr+t,16,null,o||null);null===g.projection&&(g.projection=r),Cl(),(!a[xo]||wn())&&32!=(32&g.flags)&&function Zf(t,r,o){sd(r[Ye],0,r,o,Kd(t,o,r),Yf(o.parent||r[co],o,r))}(c,a,g)}function _(t,r){return t<<17|r<<2}function P(t){return t>>17&32767}function se(t){return 2|t}function Ne(t){return(131068&t)>>2}function pt(t,r){return-131069&t|r<<2}function yn(t){return 1|t}function Ir(t,r,o,a,c){const g=t[o+1],E=null===r;let w=a?P(g):Ne(g),M=!1;for(;0!==w&&(!1===M||E);){const J=t[w+1];Ai(t[w],r)&&(M=!0,t[w+1]=a?yn(J):se(J)),w=a?P(J):Ne(J)}M&&(t[o+1]=a?se(g):yn(g))}function Ai(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Go(t,r)>=0}function Qy(t,r){return function Oc(t,r,o,a){const c=en(),g=Ur(),E=function Yi(t){const r=dr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);g.firstUpdatePass&&function tI(t,r,o,a){const c=t.data;if(null===c[o+1]){const g=c[Vi()],E=function eI(t,r){return r>=t.expandoStartIndex}(t,o);(function oI(t,r){return 0!=(t.flags&(r?8:16))})(g,a)&&null===r&&!E&&(r=!1),r=function jC(t,r,o,a){const c=function L(t){const r=dr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=m_(o=Xy(null,t,r,o,a),r.attrs,a),g=null);else{const E=r.directiveStylingLast;if(-1===E||t[E]!==c)if(o=Xy(c,t,r,o,a),null===g){let M=function HC(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Ne(a))return t[P(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=Xy(null,t,r,M[1],a),M=m_(M,r.attrs,a),function zC(t,r,o,a){t[P(o?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else g=function WC(t,r,o){let a;const c=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<c;g++)a=m_(a,t[g].hostAttrs,o);return m_(a,r.attrs,o)}(t,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),o}(c,g,r,a),function Er(t,r,o,a,c,g){let E=g?r.classBindings:r.styleBindings,w=P(E),M=Ne(E);t[a]=o;let J,W=!1;if(Array.isArray(o)?(J=o[1],(null===J||Go(o,J)>0)&&(W=!0)):J=o,c)if(0!==M){const tt=P(t[w+1]);t[a+1]=_(tt,w),0!==tt&&(t[tt+1]=pt(t[tt+1],a)),t[w+1]=function Q(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=_(w,0),0!==w&&(t[w+1]=pt(t[w+1],a)),w=a;else t[a+1]=_(M,0),0===w?w=a:t[M+1]=pt(t[M+1],a),M=a;W&&(t[a+1]=se(t[a+1])),Ir(t,J,a,!0),Ir(t,J,a,!1),function Rr(t,r,o,a,c){const g=c?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&Go(g,r)>=0&&(o[a+1]=yn(o[a+1]))}(r,J,t,a,g),E=_(w,M),g?r.classBindings=E:r.styleBindings=E}(c,g,r,o,E,a)}}(g,t,E,a),r!==Yr&&hs(c,E,r)&&function rI(t,r,o,a,c,g,E,w){if(!(3&r.type))return;const M=t.data,W=M[w+1],J=function Mt(t){return 1==(1&t)}(W)?iI(M,r,o,c,Ne(W),E):void 0;Lv(J)||(Lv(g)||function F(t){return 2==(2&t)}(W)&&(g=iI(M,null,o,c,w,E)),function Da(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let g=-1===a.indexOf("-")?void 0:Jc.DashCase;null==c?t.removeStyle(o,a,g):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),g|=Jc.Important),t.setStyle(o,a,c,g))}}(a,E,xt(Vi(),o),c,g))}(g,g.data[Vi()],c,c[Ye],t,c[E+1]=function KC(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Be(Mu(t)))),t}(r,o),a,E)}(t,r,null,!0),Qy}function Xy(t,r,o,a,c){let g=null;const E=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<E&&(g=r[w],a=m_(a,g.hostAttrs,c),g!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function m_(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let g=0;g<r.length;g++){const E=r[g];"number"==typeof E?c=E:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wo(t,E,!!o||r[++g]))}return void 0===t?null:t}function iI(t,r,o,a,c,g){const E=null===r;let w;for(;c>0;){const M=t[c],W=Array.isArray(M),J=W?M[1]:M,ye=null===J;let tt=o[c+1];tt===Yr&&(tt=ye?Ot:void 0);let It=ye?ic(tt,a):J===a?tt:void 0;if(W&&!Lv(It)&&(It=ic(M,a)),Lv(It)&&(w=It,E))return w;const Ht=t[c+1];c=E?P(Ht):Ne(Ht)}if(null!==r){let M=g?r.residualClasses:r.residualStyles;null!=M&&(w=ic(M,a))}return w}function Lv(t){return void 0!==t}function sI(t,r=""){const o=en(),a=Ur(),c=t+Nr,g=a.firstCreatePass?Cd(a,c,1,r,null):a.data[c],E=aI(a,o,g,r,t);o[c]=E,jl()&&Qd(a,o,E,g),Xr(g,!1)}let aI=(t,r,o,a,c)=>(Xa(!0),function mc(t,r){return t.createText(r)}(r[Ye],a));function Jy(t){return Vv("",t,""),Jy}function Vv(t,r,o){const a=en(),c=function Nf(t,r,o,a){return hs(t,fa(),o)?r+Ve(o)+a:Yr}(a,t,r,o);return c!==Yr&&function $u(t,r,o){const a=xt(r,t);!function Su(t,r,o){t.setValue(r,o)}(t[Ye],a,o)}(a,Vi(),c),Vv}const qp=void 0;var _T=["en",[["a","p"],["AM","PM"],qp],[["AM","PM"],qp,qp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qp,"{1} 'at' {0}",qp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mT(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let tm={};function eE(t){const r=function vT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=SI(r);if(o)return o;const a=r.split("-")[0];if(o=SI(a),o)return o;if("en"===a)return _T;throw new Se(701,!1)}function AI(t){return eE(t)[nm.PluralCase]}function SI(t){return t in tm||(tm[t]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[t]),tm[t]}var nm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(nm||{});const rm="en-US";let RI=rm;function rE(t,r,o,a,c){if(t=Ze(t),Array.isArray(t))for(let g=0;g<t.length;g++)rE(t[g],r,o,a,c);else{const g=Ur(),E=en(),w=Qn();let M=Dc(t)?t:Ze(t.provide);const W=_f(t),J=1048575&w.providerIndexes,ye=w.directiveStart,tt=w.providerIndexes>>20;if(Dc(t)||!t.multi){const It=new Js(W,c,Id),Ht=oE(M,r,c?J:J+tt,ye);-1===Ht?(Tl(zs(w,E),g,M),iE(g,t,r.length),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(It),E.push(It)):(o[Ht]=It,E[Ht]=It)}else{const It=oE(M,r,J+tt,ye),Ht=oE(M,r,J,J+tt),kn=Ht>=0&&o[Ht];if(c&&!kn||!c&&!(It>=0&&o[It])){Tl(zs(w,E),g,M);const rr=function mD(t,r,o,a,c){const g=new Js(t,o,Id);return g.multi=[],g.index=r,g.componentProviders=0,e0(g,c,a&&!o),g}(c?gD:pD,o.length,c,a,W);!c&&kn&&(o[Ht].providerFactory=rr),iE(g,t,r.length,0),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),o.push(rr),E.push(rr)}else iE(g,t,It>-1?It:Ht,e0(o[c?Ht:It],W,!c&&a));!c&&a&&kn&&o[Ht].componentProviders++}}}function iE(t,r,o,a){const c=Dc(r),g=function dp(t){return!!t.useClass}(r);if(c||g){const M=(g?Ze(r.useClass):r).prototype.ngOnDestroy;if(M){const W=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const J=W.indexOf(o);-1===J?W.push(o,[a,M]):W[J+1].push(a,M)}else W.push(o,M)}}}function e0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function oE(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function pD(t,r,o,a){return sE(this.multi,[])}function gD(t,r,o,a){const c=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,w=Ms(o,o[Tn],this.providerFactory.index,a);g=w.slice(0,E),sE(c,g);for(let M=E;M<w.length;M++)g.push(w[M])}else g=[],sE(c,g);return g}function sE(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function t0(t,r=[]){return o=>{o.providersResolver=(a,c)=>function fD(t,r,o){const a=Ur();if(a.firstCreatePass){const c=$o(t);rE(o,a.data,a.blueprint,c,!0),rE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Yp{}class n0{}function _D(t,r){return new aE(t,null!=r?r:null,[])}class aE extends Yp{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lv(this);const c=Sr(r);this._bootstrapComponents=su(c.bootstrap),this._r3Injector=yd(r,o,[{provide:Yp,useValue:this},{provide:md,useValue:this.componentFactoryResolver},...a],Be(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class lE extends n0{constructor(r){super(),this.moduleType=r}create(r){return new aE(this.moduleType,r,[])}}class r0 extends Yp{constructor(r){super(),this.componentFactoryResolver=new lv(this),this.instance=null;const o=new Fu([...r.providers,{provide:Yp,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],r.parent||hp(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function o0(t,r,o=null){return new r0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let yD=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=sh(0,a.type),g=c.length>0?o0([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,g)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Pt({token:t,providedIn:"environment",factory:()=>new t(Ct(Ys))}),r})();function s0(t){t.getStandaloneInjector=r=>r.get(yD).getOrCreateStandaloneInjector(t)}function f0(t,r,o){const a=function or(){const t=dr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}()+t,c=en();return c[a]===Yr?function lu(t,r,o){return t[r]=o}(c,a,o?r.call(o):r()):function Ph(t,r){return t[r]}(c,a)}function zD(){return this._results[Symbol.iterator]()}class cE{get changes(){return this._changes||(this._changes=new b)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=cE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=zD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Do(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Zi(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],g=r[a];if(o&&(c=o(c),g=o(g)),g!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GD(t,r,o,a=!0){const c=r[Tn];if(function Xh(t,r,o,a){const c=lo+a,g=o.length;a>0&&(o[c-1][so]=r),a<g-lo?(r[so]=o[c],Yc(o,lo+a,r)):(o.push(r),r[so]=null),r[fi]=o;const E=r[qn];null!==E&&o!==E&&function qf(t,r){const o=t[Ko];r[bn]!==r[fi][fi][bn]&&(t[Ga]=!0),null===o?t[Ko]=[r]:o.push(r)}(E,r);const w=r[Ui];null!==w&&w.insertView(t),r[tr]|=128}(c,r,t,o),a){const g=Ca(o,t),E=r[Ye],w=cl(E,t[ao]);null!==w&&function qd(t,r,o,a,c,g){a[Zr]=c,a[co]=r,Ru(t,a,o,1,c,g)}(c,t[co],E,r,w,g)}}let D_=(()=>{class r{}return r.__NG_ELEMENT_ID__=KD,r})();const qD=D_,YD=class extends qD{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function WD(t,r,o,a){var c,g;const E=r.tView,W=Lg(t,E,o,4096&t[tr]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(g=null==a?void 0:a.hydrationInfo)&&void 0!==g?g:null);W[qn]=t[r.index];const ye=t[Ui];return null!==ye&&(W[Ui]=ye.createEmbeddedView(E)),Ds(E,W,o),W}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Mf(c)}};function KD(){return Hv(Qn(),en())}function Hv(t,r){return 4&t.type?new YD(r,t,_d(t,r)):null}let Wv=(()=>{class r{}return r.__NG_ELEMENT_ID__=tw,r})();function tw(){return w0(Qn(),en())}const nw=Wv,T0=class extends nw{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const r=Ps(this._hostTNode,this._hostLView);if(jc(r)){const o=zl(r,this._hostLView),a=Wi(r);return new as(o[Tn].data[a+8],o)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=D0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-lo}createEmbeddedView(r,o,a){let c,g;"number"==typeof a?c=a:null!=a&&(c=a.index,g=a.injector);const w=r.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(w,c,false),w}createComponent(r,o,a,c,g){var E,M;const W=r&&!function vu(t){return"function"==typeof t}(r);let J;if(W)J=o;else{const on=o||{};J=on.index,a=on.injector,c=on.projectableNodes,g=on.environmentInjector||on.ngModuleRef}const ye=W?r:new Up(x(r)),tt=a||this.parentInjector;if(!g&&null==ye.ngModule){const Fr=(W?tt:this.parentInjector).get(Ys,null);Fr&&(g=Fr)}const It=x(null!==(E=ye.componentType)&&void 0!==E?E:{}),Ht=(null==It?void 0:It.id,null),pn=null!==(M=null==Ht?void 0:Ht.firstChild)&&void 0!==M?M:null,kn=ye.create(tt,c,pn,g),rr=!!Ht&&!jd(this._hostTNode);return this.insertImpl(kn.hostView,J,rr),kn}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Ku(t){return Vr(t[fi])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const W=c[fi],J=new T0(W,W[co],W[fi]);J.detach(J.indexOf(r))}}const E=this._adjustIndex(o),w=this._lContainer;return GD(w,c,E,!a),r.attachToViewContainerRef(),Yc(dE(w),E,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=D0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=ra(this._lContainer,o);a&&(tc(dE(this._lContainer),o),vc(a[Tn],a))}detach(r){const o=this._adjustIndex(r,-1),a=ra(this._lContainer,o);return a&&null!=tc(dE(this._lContainer),o)?new Mf(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function D0(t){return t[8]}function dE(t){return t[8]||(t[8]=[])}function w0(t,r){let o;const a=r[t.index];return Vr(a)?o=a:(o=nv(a,r,null,t),r[t.index]=o,Lp(r,o)),b0(o,r,t,a),new T0(o,t,r)}let b0=function A0(t,r,o,a){if(t[ao])return;let c;c=8&o.type?qi(a):function rw(t,r){const o=t[Ye],a=o.createComment(""),c=Qt(r,t);return $a(o,cl(o,c),a,function Zd(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[ao]=c};class hE{constructor(r){this.queryList=r,this.matches=null}clone(){return new hE(this.queryList)}setDirty(){this.queryList.setDirty()}}class fE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let g=0;g<a;g++){const E=o.getByIndex(g);c.push(this.queries[E.indexInDeclarationView].clone())}return new fE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==F0(r,o).matches&&this.queries[o].setDirty()}}class S0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class pE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,g=this.getByIndex(a).embeddedTView(r,c);g&&(g.indexInDeclarationView=a,null!==o?o.push(g):o=[g])}return null!==o?new pE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class gE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new gE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const g=a[c];this.matchTNodeWithReadOption(r,o,sw(o,g)),this.matchTNodeWithReadOption(r,o,rl(o,r,g,!1,!1))}else a===D_?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,rl(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===ou||c===Wv||c===D_&&4&o.type)this.addMatch(o.index,-2);else{const g=rl(o,r,c,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function sw(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function lw(t,r,o,a){return-1===o?function aw(t,r){return 11&t.type?_d(t,r):4&t.type?Hv(t,r):null}(r,t):-2===o?function uw(t,r,o){return o===ou?_d(r,t):o===D_?Hv(r,t):o===Wv?w0(r,t):void 0}(t,r,a):Ms(t,t[Tn],o,r)}function R0(t,r,o,a){const c=r[Ui].queries[a];if(null===c.matches){const g=t.data,E=o.matches,w=[];for(let M=0;M<E.length;M+=2){const W=E[M];w.push(W<0?null:lw(r,g[W],E[M+1],o.metadata.read))}c.matches=w}return c.matches}function mE(t,r,o,a){const c=t.queries.getByIndex(o),g=c.matches;if(null!==g){const E=R0(t,r,c,o);for(let w=0;w<g.length;w+=2){const M=g[w];if(M>0)a.push(E[w/2]);else{const W=g[w+1],J=r[-M];for(let ye=lo;ye<J.length;ye++){const tt=J[ye];tt[qn]===tt[fi]&&mE(tt[Tn],tt,W,a)}if(null!==J[Ko]){const ye=J[Ko];for(let tt=0;tt<ye.length;tt++){const It=ye[tt];mE(It[Tn],It,W,a)}}}}}return a}function P0(t){const r=en(),o=Ur(),a=ne();Re(a+1);const c=F0(o,a);if(t.dirty&&function Ul(t){return 4==(4&t[tr])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const g=c.crossesNgTemplate?mE(o,r,a,[]):R0(o,r,c,a);t.reset(g,Ig),t.notifyOnChanges()}return!0}return!1}function M0(t,r,o){const a=Ur();a.firstCreatePass&&(k0(a,new S0(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),N0(a,en(),r)}function x0(t,r,o,a){const c=Ur();if(c.firstCreatePass){const g=Qn();k0(c,new S0(r,o,a),g.index),function dw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}N0(c,en(),o)}function O0(){return function cw(t,r){return t[Ui].queries[r].queryList}(en(),ne())}function N0(t,r,o){const a=new cE(4==(4&o));(function sy(t,r,o,a){const c=Zm(r);c.push(o),t.firstCreatePass&&Qm(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Ui]&&(r[Ui]=new fE),r[Ui].queries.push(new hE(a))}function k0(t,r,o){null===t.queries&&(t.queries=new pE),t.queries.track(new gE(r,o))}function F0(t,r){return t.queries.getByIndex(r)}function _E(t){return!!Sr(t)}const J0=new Bi("Application Initializer");let CE=(()=>{var t;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,g)=>{this.resolve=c,this.reject=g}),this.appInits=null!==(a=Kt(J0,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const g of this.appInits){const E=g();if(d_(E))a.push(E);else if(xv(E)){const w=new Promise((M,W)=>{E.subscribe({complete:M,error:W})});a.push(w)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(g=>{this.reject(g)}),0===a.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),eC=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const qv=new Bi("LocaleId",{providedIn:"root",factory:()=>Kt(qv,Dn.Optional|Dn.SkipSelf)||function Ow(){return typeof $localize<"u"&&$localize.locale||rm}()}),Nw=new Bi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tC=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Fw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Lw=(()=>{var t;class r{compileModuleSync(a){return new lE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),E=su(Sr(a).declarations).reduce((w,M)=>{const W=x(M);return W&&w.push(new Up(W)),w},[]);return new Fw(c,E)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const oC=new Bi(""),sC=new Bi("");let wE,rb=(()=>{var t;class r{constructor(a,c,g){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wE||(function ib(t){wE=t}(g),g.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,g){let E=-1;c&&c>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==E),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:E,updateCb:g})}whenStable(a,c,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,g){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(Ct(We),Ct(aC),Ct(sC))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac}),r})(),aC=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var g,E;return null!==(g=null===(E=wE)||void 0===E?void 0:E.findTestabilityInTree(this,a,c))&&void 0!==g?g:null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Lf=null;const lC=new Bi("AllowMultipleToken"),bE=new Bi("PlatformDestroyListeners"),AE=new Bi("appBootstrapListener");class ab{constructor(r,o){this.name=r,this.token=o}}function dC(t,r,o=[]){const a=`Platform: ${r}`,c=new Bi(a);return(g=[])=>{let E=SE();if(!E||E.injector.get(lC,!1)){const w=[...o,...g,{provide:c,useValue:!0}];t?t(w):function lb(t){if(Lf&&!Lf.get(lC,!1))throw new Se(400,!1);(function uC(){!function yl(t){po=t}(()=>{throw new Se(600,!1)})})(),Lf=t;const r=t.get(fC);(function cC(t){const r=t.get(mp,null);null==r||r.forEach(o=>o())})(t)}(function hC(t=[],r){return Ks.create({name:r,providers:[{provide:hg,useValue:"platform"},{provide:bE,useValue:new Set([()=>Lf=null])},...t]})}(w,a))}return function cb(t){const r=SE();if(!r)throw new Se(401,!1);return r}()}}function SE(){var t,r;return null!==(t=null===(r=Lf)||void 0===r?void 0:r.get(fC))&&void 0!==t?t:null}let fC=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const g=function db(t="zone.js",r){return"noop"===t?new Ts:"zone.js"===t?new We(r):t}(null==c?void 0:c.ngZone,function pC(t){var r,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==t?void 0:t.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return g.run(()=>{const E=function vD(t,r,o){return new aE(t,r,o)}(a.moduleType,this.injector,function yC(t){return[{provide:We,useFactory:t},{provide:uf,multi:!0,useFactory:()=>{const r=Kt(fb,{optional:!0});return()=>r.initialize()}},{provide:vC,useFactory:hb},{provide:Ac,useFactory:Sc}]}(()=>g)),w=E.injector.get(xl,null);return g.runOutsideAngular(()=>{const M=g.onError.subscribe({next:W=>{w.handleError(W)}});E.onDestroy(()=>{Kv(this._modules,E),M.unsubscribe()})}),function gC(t,r,o){try{const a=o();return d_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(w,g,()=>{const M=E.injector.get(CE);return M.runInitializers(),M.donePromise.then(()=>(function PI(t){kt(t,"Expected localeId to be defined"),"string"==typeof t&&(RI=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(qv,rm)||rm),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const g=mC({},c);return function ob(t,r,o){const a=new lE(o);return Promise.resolve(a)}(0,0,a).then(E=>this.bootstrapModuleFactory(E,g))}_moduleDoBootstrap(a){const c=a.injector.get(sm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>c.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new Se(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(bE,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(Ct(Ks))},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function mC(t,r){return Array.isArray(r)?r.reduce(mC,t):{...t,...r}}let sm=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(vC),this.zoneIsStable=Kt(Ac),this.componentTypes=[],this.components=[],this.isStable=Kt(tC).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,Ae.of)(!1):this.zoneIsStable),(0,ot.x)(),(0,Te.B)()),this._injector=Kt(Ys)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const g=a instanceof Tp;if(!this._injector.get(CE).done)throw!g&&Un(a),new Se(405,!1);let w;w=g?a:this._injector.get(md).resolveComponentFactory(a),this.componentTypes.push(w.componentType);const M=function sb(t){return t.isBoundToModule}(w)?void 0:this._injector.get(Yp),J=w.create(Ks.NULL,[],c||w.selector,M),ye=J.location.nativeElement,tt=J.injector.get(oC,null);return null==tt||tt.registerApplication(ye),J.onDestroy(()=>{this.detachView(J.hostView),Kv(this.components,J),null==tt||tt.unregisterApplication(ye)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Kv(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(AE,[]);c.push(...this._bootstrapListeners),c.forEach(g=>g(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Kv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Kv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const vC=new Bi("",{providedIn:"root",factory:()=>Kt(xl).handleError.bind(void 0)});function hb(){const t=Kt(We),r=Kt(xl);return o=>t.runOutsideAngular(()=>r.handleError(o))}let fb=(()=>{var t;class r{constructor(){this.zone=Kt(We),this.applicationRef=Kt(sm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pt({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function gb(){return!1}function mb(){}let _b=(()=>{class r{}return r.__NG_ELEMENT_ID__=vb,r})();function vb(t){return function yb(t,r,o){if(Zs(t)&&!o){const a=bo(t.index,r);return new Mf(a,a)}return 47&t.type?new Mf(r[bn],r):null}(Qn(),en(),16==(16&t))}class TC{constructor(){}supports(r){return Of(r)}create(r){return new wb(r)}}const Db=(t,r)=>r;class wb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Db}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,g=null;for(;o||a;){const E=!a||o&&o.currentIndex<wC(a,c,g)?o:a,w=wC(E,c,g),M=E.currentIndex;if(E===a)c--,a=a._nextRemoved;else if(o=o._next,null==E.previousIndex)c++;else{g||(g=[]);const W=w-c,J=M-c;if(W!=J){for(let tt=0;tt<W;tt++){const It=tt<g.length?g[tt]:g[tt]=0,Ht=It+tt;J<=Ht&&Ht<W&&(g[tt]=It+1)}g[E.previousIndex]=J-W}}w!==M&&r(E,w,M)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Of(r))throw new Se(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,g,E,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)g=r[w],E=this._trackByFn(w,g),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,g,E,w)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,E,w),a=!0),o=o._next}else c=0,function _v(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{E=this._trackByFn(c,w),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,w,E,c)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,E,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,c)):r=this._addAfter(new bb(o,a),g,c),r}_verifyReinsertion(r,o,a,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,g=r._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new DC),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bb{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ab{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class DC{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new Ab,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wC(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class bC{constructor(){}supports(r){return r instanceof Map||Pc(r)}create(){return new Sb}}class Sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Pc(r)))throw new Se(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const g=c._prev,E=c._next;return g&&(g._next=E),E&&(E._prev=g),c._next=null,c._prev=null,c}const a=new Rb(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class Rb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AC(){return new OE([new TC])}let OE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const g=c.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||AC()),deps:[[r,new Iu,new na]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(null!=c)return c;throw new Se(901,!1)}}return(t=r).\u0275prov=Pt({token:t,providedIn:"root",factory:AC}),r})();function SC(){return new NE([new bC])}let NE=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(c){const g=c.factories.slice();a=a.concat(g)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||SC()),deps:[[r,new Iu,new na]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(c)return c;throw new Se(901,!1)}}return(t=r).\u0275prov=Pt({token:t,providedIn:"root",factory:SC}),r})();const xb=dC(null,"core",[]);let Ob=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(Ct(sm))},t.\u0275mod=Ft({type:t}),t.\u0275inj=bt({}),r})();function zb(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Gb(t,r){const o=x(t),a=r.elementInjector||hp();return new Up(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function qb(t){const r=x(t);if(!r)return null;const o=new Up(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(cn,ft,N)=>{"use strict";N.d(ft,{zQ:()=>ln,ww:()=>rn,rT:()=>st,f7:()=>Et,L6:()=>je,_Q:()=>Le,lh:()=>dt,Qv:()=>te,nw:()=>Yt});var l=N(1180),ee=(N(6365),N(6814)),de=N(5879),Pe=N(1920),Ae=N(7217),Te=N(8645),Me=N(2096),ot=N(5592),ie=N(2459),me=N(3019),Be=N(3093),Fe=N(4664),He=N(7398),Ke=N(4552);class Ze extends Te.x{constructor(ge=1/0,ae=1/0,$e=Ke.l){super(),this._bufferSize=ge,this._windowTime=ae,this._timestampProvider=$e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,ge),this._windowTime=Math.max(1,ae)}next(ge){const{isStopped:ae,_buffer:$e,_infiniteTimeWindow:De,_timestampProvider:ht,_windowTime:mt}=this;ae||($e.push(ge),!De&&$e.push(ht.now()+mt)),this._trimBuffer(),super.next(ge)}_subscribe(ge){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(ge),{_infiniteTimeWindow:$e,_buffer:De}=this,ht=De.slice();for(let mt=0;mt<ht.length&&!ge.closed;mt+=$e?1:2)ge.next(ht[mt]);return this._checkFinalizedStatuses(ge),ae}_trimBuffer(){const{_bufferSize:ge,_timestampProvider:ae,_buffer:$e,_infiniteTimeWindow:De}=this,ht=(De?1:2)*ge;if(ge<1/0&&ht<$e.length&&$e.splice(0,$e.length-ht),!De){const mt=ae.now();let kt=0;for(let St=1;St<$e.length&&$e[St]<=mt;St+=2)kt=St;kt&&$e.splice(0,kt+1)}}}var Qe=N(3020);function ze(fe,ge,ae){let $e,De=!1;return fe&&"object"==typeof fe?({bufferSize:$e=1/0,windowTime:ge=1/0,refCount:De=!1,scheduler:ae}=fe):$e=null!=fe?fe:1/0,(0,Qe.B)({connector:()=>new Ze($e,ge,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:De})}var rt=N(1374),vt=N(4674);function Se(fe,ge){return(0,vt.m)(ge)?(0,Fe.w)(()=>fe,ge):(0,Fe.w)(()=>fe)}var Xe=N(5137),Ve=N(2181),Oe=N(7142);const te=new de.OlP("angularfire2.auth.use-emulator"),je=new de.OlP("angularfire2.auth.settings"),Le=new de.OlP("angularfire2.auth.tenant-id"),st=new de.OlP("angularfire2.auth.langugage-code"),dt=new de.OlP("angularfire2.auth.use-device-language"),Et=new de.OlP("angularfire.auth.persistence"),Yt=(fe,ge,ae,$e,De,ht,mt,kt)=>(0,Ae.cc)(`${fe.name}.auth`,"AngularFireAuth",fe.name,()=>{const St=ge.runOutsideAngular(()=>fe.auth());if(ae&&St.useEmulator(...ae),$e&&(St.tenantId=$e),St.languageCode=De,ht&&St.useDeviceLanguage(),mt)for(const[Wt,jt]of Object.entries(mt))St.settings[Wt]=jt;return kt&&St.setPersistence(kt),St},[ae,$e,De,ht,mt,kt]);let ln=(()=>{var fe;class ge{constructor($e,De,ht,mt,kt,St,Wt,jt,An,Pt,wt,bt){(0,l.Z)(this,"authState",void 0),(0,l.Z)(this,"idToken",void 0),(0,l.Z)(this,"user",void 0),(0,l.Z)(this,"idTokenResult",void 0),(0,l.Z)(this,"credential",void 0);const Ut=new Te.x,Zt=(0,Me.of)(void 0).pipe((0,Be.Q)(kt.outsideAngular),(0,Fe.w)(()=>mt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6365)))),(0,He.U)(()=>(0,Ae.on)($e,mt,De)),(0,He.U)(Rn=>Yt(Rn,mt,St,jt,An,Pt,Wt,wt)),ze({bufferSize:1,refCount:!1}));if((0,ee.PM)(ht))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Me.of)(null);else{Zt.pipe((0,rt.P)()).subscribe();const Rn=Zt.pipe((0,Fe.w)(mn=>mn.getRedirectResult().then(Mn=>Mn,()=>null)),Pe.iC,ze({bufferSize:1,refCount:!1})),Pn=Zt.pipe((0,Fe.w)(mn=>new ot.y(Mn=>({unsubscribe:mt.runOutsideAngular(()=>mn.onAuthStateChanged(Xn=>Mn.next(Xn),Xn=>Mn.error(Xn),()=>Mn.complete()))})))),jn=Zt.pipe((0,Fe.w)(mn=>new ot.y(Mn=>({unsubscribe:mt.runOutsideAngular(()=>mn.onIdTokenChanged(Xn=>Mn.next(Xn),Xn=>Mn.error(Xn),()=>Mn.complete()))}))));this.authState=Rn.pipe(Se(Pn),(0,Xe.R)(kt.outsideAngular),(0,Be.Q)(kt.insideAngular)),this.user=Rn.pipe(Se(jn),(0,Xe.R)(kt.outsideAngular),(0,Be.Q)(kt.insideAngular)),this.idToken=this.user.pipe((0,Fe.w)(mn=>mn?(0,ie.D)(mn.getIdToken()):(0,Me.of)(null))),this.idTokenResult=this.user.pipe((0,Fe.w)(mn=>mn?(0,ie.D)(mn.getIdTokenResult()):(0,Me.of)(null))),this.credential=(0,me.T)(Rn,Ut,this.authState.pipe((0,Ve.h)(mn=>!mn))).pipe((0,He.U)(mn=>null!=mn&&mn.user?mn:null),(0,Xe.R)(kt.outsideAngular),(0,Be.Q)(kt.insideAngular))}return(0,Ae.pX)(this,Zt,mt,{spy:{apply:(Rn,Pn,jn)=>{(Rn.startsWith("signIn")||Rn.startsWith("createUser"))&&jn.then(mn=>Ut.next(mn))}}})}}return fe=ge,(0,l.Z)(ge,"\u0275fac",function($e){return new($e||fe)(de.LFG(Ae.Dh),de.LFG(Ae.xv,8),de.LFG(de.Lbi),de.LFG(de.R0b),de.LFG(Pe.HU),de.LFG(te,8),de.LFG(je,8),de.LFG(Le,8),de.LFG(st,8),de.LFG(dt,8),de.LFG(Et,8),de.LFG(Pe.Rf,8))}),(0,l.Z)(ge,"\u0275prov",de.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"any"})),ge})(),rn=(()=>{var fe;class ge{constructor(){Oe.Z.registerVersion("angularfire",Pe.q4.full,"auth-compat")}}return fe=ge,(0,l.Z)(ge,"\u0275fac",function($e){return new($e||fe)}),(0,l.Z)(ge,"\u0275mod",de.oAB({type:fe})),(0,l.Z)(ge,"\u0275inj",de.cJS({providers:[ln]})),ge})()},7217:(cn,ft,N)=>{"use strict";N.d(ft,{Dh:()=>ot,GT:()=>Te,cc:()=>Ke,hO:()=>He,on:()=>me,pX:()=>Ae,xv:()=>ie});var l=N(1180),V=N(5879),ee=N(1920),de=N(7142);const Pe=["ngOnDestroy"],Ae=(rt,vt,Se,Xe={})=>new Proxy(rt,{get:(Ve,Oe)=>Se.runOutsideAngular(()=>{var Ce;if(rt[Oe])return null!=Xe&&null!==(Ce=Xe.spy)&&void 0!==Ce&&Ce.get&&Xe.spy.get(Oe,rt[Oe]),rt[Oe];if(Pe.indexOf(Oe)>-1)return()=>{};const te=vt.toPromise().then(je=>{const Le=null==je?void 0:je[Oe];return"function"==typeof Le?Le.bind(je):null!=Le&&Le.then?Le.then(st=>Se.run(()=>st)):Se.run(()=>Le)});return new Proxy(()=>{},{get:(je,Le)=>te[Le],apply:(je,Le,st)=>te.then(dt=>{var Et;const Yt=null==dt?void 0:dt(...st);return null!=Xe&&null!==(Et=Xe.spy)&&void 0!==Et&&Et.apply&&Xe.spy.apply(Oe,st,Yt),Yt})})})}),Te=(rt,vt)=>{vt.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(Xe=>{Object.defineProperty(rt.prototype,Xe,Object.getOwnPropertyDescriptor(Se.prototype||Se,Xe))})})};class Me{constructor(vt){return vt}}const ot=new V.OlP("angularfire2.app.options"),ie=new V.OlP("angularfire2.app.name");function me(rt,vt,Se){const Ve="object"==typeof Se&&Se||{};Ve.name=Ve.name||"string"==typeof Se&&Se||"[DEFAULT]";const Ce=de.Z.apps.filter(te=>te&&te.name===Ve.name)[0]||vt.runOutsideAngular(()=>de.Z.initializeApp(rt,Ve));try{if(JSON.stringify(rt)!==JSON.stringify(Ce.options)){const te=!!module.hot;Be("error",`${Ce.name} Firebase App already initialized with different options${te?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Me(Ce)}const Be=(rt,...vt)=>{(0,V.X6Q)()&&typeof console<"u"&&console[rt](...vt)},Fe={provide:Me,useFactory:me,deps:[ot,V.R0b,[new V.FiY,ie]]};let He=(()=>{var rt;class vt{static initializeApp(Xe,Ve){return{ngModule:vt,providers:[{provide:ot,useValue:Xe},{provide:ie,useValue:Ve}]}}constructor(Xe){de.Z.registerVersion("angularfire",ee.q4.full,"core"),de.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),de.Z.registerVersion("angular",V.q4F.full,Xe.toString())}}return rt=vt,(0,l.Z)(vt,"\u0275fac",function(Xe){return new(Xe||rt)(V.LFG(V.Lbi))}),(0,l.Z)(vt,"\u0275mod",V.oAB({type:rt})),(0,l.Z)(vt,"\u0275inj",V.cJS({providers:[Fe]})),vt})();function Ke(rt,vt,Se,Xe,Ve){const[,Oe,Ce]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===rt)||[];if(Oe)return function Ze(rt,vt){try{return rt.toString()===vt.toString()}catch{return rt===vt}}(Ve,Ce)||(ze("error",`${vt} was already initialized on the ${Se} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:Ve,was:Ce})),Oe;{const te=Xe();return globalThis.\u0275AngularfireInstanceCache.push([rt,te,Ve]),te}}const Qe=typeof module<"u"&&!!module.hot,ze=(rt,...vt)=>{(0,V.X6Q)()&&typeof console<"u"&&console[rt](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1920:(cn,ft,N)=>{"use strict";N.d(ft,{q4:()=>Ke,iC:()=>dt,HU:()=>Oe,Rf:()=>rt,vb:()=>ze,JM:()=>Qe,u3:()=>ln});var l=N(1180),V=N(5879),ee=N(3182),de=N(1954),Ae=N(2631);const Me=new class Te extends Ae.v{}(class Pe extends de.o{constructor(fe,ge){super(fe,ge),this.scheduler=fe,this.work=ge}schedule(fe,ge=0){return ge>0?super.schedule(fe,ge):(this.delay=ge,this.state=fe,this.scheduler.flush(this),this)}execute(fe,ge){return ge>0||this.closed?super.execute(fe,ge):this._execute(fe,ge)}requestAsyncId(fe,ge,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(fe,ge,ae):(fe.flush(this),0)}});var ie=N(6321),me=N(5592),Be=N(9397),Fe=N(5137),He=N(3093);const Ke=new V.GfV("ANGULARFIRE2_VERSION");function Qe(rn,fe,ge){if(fe){if(1===fe.length)return fe[0];const De=fe.filter(ht=>ht.app===ge);if(1===De.length)return De[0]}return ge.container.getProvider(rn).getImmediate({optional:!0})}const ze=(rn,fe)=>{const ge=fe?[fe]:(0,ee.C6)(),ae=[];return ge.forEach($e=>{$e.container.getProvider(rn).instances.forEach(ht=>{ae.includes(ht)||ae.push(ht)})}),ae};class rt{constructor(){return ze(vt)}}const vt="app-check";function Se(){}class Xe{constructor(fe,ge=Me){(0,l.Z)(this,"zone",void 0),(0,l.Z)(this,"delegate",void 0),this.zone=fe,this.delegate=ge}now(){return this.delegate.now()}schedule(fe,ge,ae){const $e=this.zone;return this.delegate.schedule(function(ht){$e.runGuarded(()=>{fe.apply(this,[ht])})},ge,ae)}}class Ve{constructor(fe){(0,l.Z)(this,"zone",void 0),(0,l.Z)(this,"task",null),this.zone=fe}call(fe,ge){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)),ge.pipe((0,Be.b)({next:ae,complete:ae,error:ae})).subscribe(fe).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oe=(()=>{var rn;class fe{constructor(ae){(0,l.Z)(this,"ngZone",void 0),(0,l.Z)(this,"outsideAngular",void 0),(0,l.Z)(this,"insideAngular",void 0),this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Xe(Zone.current)),this.insideAngular=ae.run(()=>new Xe(Zone.current,ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return rn=fe,(0,l.Z)(fe,"\u0275fac",function(ae){return new(ae||rn)(V.LFG(V.R0b))}),(0,l.Z)(fe,"\u0275prov",V.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"})),fe})();function Ce(){const rn=globalThis.\u0275AngularFireScheduler;if(!rn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return rn}function je(rn){return Ce().ngZone.run(()=>rn())}function dt(rn){return function Et(rn){return function(ge){return(ge=ge.lift(new Ve(rn.ngZone))).pipe((0,Fe.R)(rn.outsideAngular),(0,He.Q)(rn.insideAngular))}}(Ce())(rn)}const Yt=(rn,fe)=>function(){const ae=arguments;return fe&&setTimeout(()=>{"scheduled"===fe.state&&fe.invoke()},10),je(()=>rn.apply(void 0,ae))},ln=(rn,fe)=>function(){let ge;const ae=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof ae[De]&&(fe&&(ge||(ge=je(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Se,{},Se,Se)))),ae[De]=Yt(ae[De],ge));const $e=function te(rn){return Ce().ngZone.runOutsideAngular(()=>rn())}(()=>rn.apply(this,ae));if(!fe){if($e instanceof me.y){const De=Ce();return $e.pipe((0,Fe.R)(De.outsideAngular),(0,He.Q)(De.insideAngular))}return je(()=>$e)}return $e instanceof me.y?$e.pipe(dt):$e instanceof Promise?je(()=>new Promise((De,ht)=>$e.then(mt=>je(()=>De(mt)),mt=>je(()=>ht(mt))))):"function"==typeof $e&&ge?function(){return setTimeout(()=>{ge&&"scheduled"===ge.state&&ge.invoke()},10),$e.apply(this,arguments)}:je(()=>$e)}},95:(cn,ft,N)=>{"use strict";N.d(ft,{qu:()=>qa,u:()=>Y,sg:()=>tr,u5:()=>ml,Fd:()=>Nr,qQ:()=>ws,Cf:()=>Oe,JU:()=>Ke,a5:()=>Mn,JJ:()=>Kn,JL:()=>Vn,On:()=>Yn,UX:()=>fs,Q7:()=>Ei,kI:()=>je,_Y:()=>D});var l=N(5879),V=N(6814),ee=N(2459),de=N(5592),Pe=N(7453),Ae=N(4829),Te=N(4564),Me=N(8251),ot=N(7400),ie=N(2714),Be=N(7398);let Fe=(()=>{var q;class k{constructor(H,be){this._renderer=H,this._elementRef=be,this.onChange=zt=>{},this.onTouched=()=>{}}setProperty(H,be){this._renderer.setProperty(this._elementRef.nativeElement,H,be)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(l.Qsj),l.Y36(l.SBq))},q.\u0275dir=l.lG2({type:q}),k})(),He=(()=>{var q;class k extends Fe{}return(q=k).\u0275fac=function(){let _e;return function(be){return(_e||(_e=l.n5z(q)))(be||q)}}(),q.\u0275dir=l.lG2({type:q,features:[l.qOj]}),k})();const Ke=new l.OlP("NgValueAccessor"),ze={provide:Ke,useExisting:(0,l.Gpc)(()=>Se),multi:!0},vt=new l.OlP("CompositionEventMode");let Se=(()=>{var q;class k extends Fe{constructor(H,be,zt){super(H,be),this._compositionMode=zt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rt(){const q=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(H){this.setProperty("value",null==H?"":H)}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(vt,8))},q.\u0275dir=l.lG2({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,be){1&H&&l.NdJ("input",function($n){return be._handleInput($n.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function($n){return be._compositionEnd($n.target.value)})},features:[l._Bn([ze]),l.qOj]}),k})();function Xe(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ve(q){return null!=q&&"number"==typeof q.length}const Oe=new l.OlP("NgValidators"),Ce=new l.OlP("NgAsyncValidators"),te=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(k){return Le(k)}static max(k){return st(k)}static required(k){return dt(k)}static requiredTrue(k){return function Et(q){return!0===q.value?null:{required:!0}}(k)}static email(k){return function Yt(q){return Xe(q.value)||te.test(q.value)?null:{email:!0}}(k)}static minLength(k){return function ln(q){return k=>Xe(k.value)||!Ve(k.value)?null:k.value.length<q?{minlength:{requiredLength:q,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function rn(q){return k=>Ve(k.value)&&k.value.length>q?{maxlength:{requiredLength:q,actualLength:k.value.length}}:null}(k)}static pattern(k){return function fe(q){if(!q)return ge;let k,_e;return"string"==typeof q?(_e="","^"!==q.charAt(0)&&(_e+="^"),_e+=q,"$"!==q.charAt(q.length-1)&&(_e+="$"),k=new RegExp(_e)):(_e=q.toString(),k=q),H=>{if(Xe(H.value))return null;const be=H.value;return k.test(be)?null:{pattern:{requiredPattern:_e,actualValue:be}}}}(k)}static nullValidator(k){return null}static compose(k){return St(k)}static composeAsync(k){return jt(k)}}function Le(q){return k=>{if(Xe(k.value)||Xe(q))return null;const _e=parseFloat(k.value);return!isNaN(_e)&&_e<q?{min:{min:q,actual:k.value}}:null}}function st(q){return k=>{if(Xe(k.value)||Xe(q))return null;const _e=parseFloat(k.value);return!isNaN(_e)&&_e>q?{max:{max:q,actual:k.value}}:null}}function dt(q){return Xe(q.value)?{required:!0}:null}function ge(q){return null}function ae(q){return null!=q}function $e(q){return(0,l.QGY)(q)?(0,ee.D)(q):q}function De(q){let k={};return q.forEach(_e=>{k=null!=_e?{...k,..._e}:k}),0===Object.keys(k).length?null:k}function ht(q,k){return k.map(_e=>_e(q))}function kt(q){return q.map(k=>function mt(q){return!q.validate}(k)?k:_e=>k.validate(_e))}function St(q){if(!q)return null;const k=q.filter(ae);return 0==k.length?null:function(_e){return De(ht(_e,k))}}function Wt(q){return null!=q?St(kt(q)):null}function jt(q){if(!q)return null;const k=q.filter(ae);return 0==k.length?null:function(_e){return function me(...q){const k=(0,Te.jO)(q),{args:_e,keys:H}=(0,Pe.D)(q),be=new de.y(zt=>{const{length:$n}=_e;if(!$n)return void zt.complete();const xi=new Array($n);let ai=$n,Ro=$n;for(let vo=0;vo<$n;vo++){let Li=!1;(0,Ae.Xf)(_e[vo]).subscribe((0,Me.x)(zt,fo=>{Li||(Li=!0,Ro--),xi[vo]=fo},()=>ai--,void 0,()=>{(!ai||!Li)&&(Ro||zt.next(H?(0,ie.n)(H,xi):xi),zt.complete())}))}});return k?be.pipe((0,ot.Z)(k)):be}(ht(_e,k).map($e)).pipe((0,Be.U)(De))}}function An(q){return null!=q?jt(kt(q)):null}function Pt(q,k){return null===q?[k]:Array.isArray(q)?[...q,k]:[q,k]}function wt(q){return q._rawValidators}function bt(q){return q._rawAsyncValidators}function Ut(q){return q?Array.isArray(q)?q:[q]:[]}function Zt(q,k){return Array.isArray(q)?q.includes(k):q===k}function Rn(q,k){const _e=Ut(k);return Ut(q).forEach(be=>{Zt(_e,be)||_e.push(be)}),_e}function Pn(q,k){return Ut(k).filter(_e=>!Zt(q,_e))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Wt(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,_e){return!!this.control&&this.control.hasError(k,_e)}getError(k,_e){return this.control?this.control.getError(k,_e):null}}class mn extends jn{get formDirective(){return null}get path(){return null}}class Mn extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xn{constructor(k){this._cd=k}get isTouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.touched)}get isUntouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.untouched)}get isPristine(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pristine)}get isDirty(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.dirty)}get isValid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.valid)}get isInvalid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.invalid)}get isPending(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pending)}get isSubmitted(){var k;return!(null===(k=this._cd)||void 0===k||!k.submitted)}}let Kn=(()=>{var q;class k extends Xn{constructor(H){super(H)}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(Mn,2))},q.\u0275dir=l.lG2({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,be){2&H&&l.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[l.qOj]}),k})(),Vn=(()=>{var q;class k extends Xn{constructor(H){super(H)}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(mn,10))},q.\u0275dir=l.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,be){2&H&&l.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[l.qOj]}),k})();const Lr="VALID",Ri="INVALID",hi="PENDING",Gi="DISABLED";function it(q){return($(q)?q.validators:q)||null}function j(q,k){return($(k)?k.asyncValidators:q)||null}function $(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Ee(q,k,_e){const H=q.controls;if(!(k?Object.keys(H):H).length)throw new l.vHH(1e3,"");if(!H[_e])throw new l.vHH(1001,"")}function et(q,k,_e){q._forEachChild((H,be)=>{if(void 0===_e[be])throw new l.vHH(1002,"")})}class Ct{constructor(k,_e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(_e)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Lr}get invalid(){return this.status===Ri}get pending(){return this.status==hi}get disabled(){return this.status===Gi}get enabled(){return this.status!==Gi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(Rn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Rn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Pn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Pn(k,this._rawAsyncValidators))}hasValidator(k){return Zt(this._rawValidators,k)}hasAsyncValidator(k){return Zt(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(_e=>{_e.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(_e=>{_e.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=hi,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const _e=this._parentMarkedDirty(k.onlySelf);this.status=Gi,this.errors=null,this._forEachChild(H=>{H.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:_e}),this._onDisabledChange.forEach(H=>H(!0))}enable(k={}){const _e=this._parentMarkedDirty(k.onlySelf);this.status=Lr,this._forEachChild(H=>{H.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:_e}),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lr||this.status===hi)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(_e=>_e._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gi:Lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=hi,this._hasOwnPendingAsyncValidator=!0;const _e=$e(this.asyncValidator(this));this._asyncValidationSubscription=_e.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,_e={}){this.errors=k,this._updateControlsErrors(!1!==_e.emitEvent)}get(k){let _e=k;return null==_e||(Array.isArray(_e)||(_e=_e.split(".")),0===_e.length)?null:_e.reduce((H,be)=>H&&H._find(be),this)}getError(k,_e){const H=_e?this.get(_e):this;return H&&H.errors?H.errors[k]:null}hasError(k,_e){return!!this.getError(k,_e)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Gi:this.errors?Ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hi)?hi:this._anyControlsHaveStatus(Ri)?Ri:Lr}_anyControlsHaveStatus(k){return this._anyControls(_e=>_e.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){$(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function le(q){return Array.isArray(q)?Wt(q):q||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function Z(q){return Array.isArray(q)?An(q):q||null}(this._rawAsyncValidators)}}class sn extends Ct{constructor(k,_e,H){super(it(_e),j(H,_e)),this.controls=k,this._initObservables(),this._setUpdateStrategy(_e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,_e){return this.controls[k]?this.controls[k]:(this.controls[k]=_e,_e.setParent(this),_e._registerOnCollectionChange(this._onCollectionChange),_e)}addControl(k,_e,H={}){this.registerControl(k,_e),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(k,_e={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}setControl(k,_e,H={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],_e&&this.registerControl(k,_e),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,_e={}){et(this,0,k),Object.keys(k).forEach(H=>{Ee(this,!0,H),this.controls[H].setValue(k[H],{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e)}patchValue(k,_e={}){null!=k&&(Object.keys(k).forEach(H=>{const be=this.controls[H];be&&be.patchValue(k[H],{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e))}reset(k={},_e={}){this._forEachChild((H,be)=>{H.reset(k?k[be]:null,{onlySelf:!0,emitEvent:_e.emitEvent})}),this._updatePristine(_e),this._updateTouched(_e),this.updateValueAndValidity(_e)}getRawValue(){return this._reduceChildren({},(k,_e,H)=>(k[H]=_e.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(_e,H)=>!!H._syncPendingControls()||_e);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(_e=>{const H=this.controls[_e];H&&k(H,_e)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[_e,H]of Object.entries(this.controls))if(this.contains(_e)&&k(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(_e,H,be)=>((H.enabled||this.disabled)&&(_e[be]=H.value),_e))}_reduceChildren(k,_e){let H=k;return this._forEachChild((be,zt)=>{H=_e(H,be,zt)}),H}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class Fn extends sn{}const nt=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ge}),Ge="always";function Tt(q,k){return[...k.path,q]}function xe(q,k,_e=Ge){var H,be;Ot(q,k),k.valueAccessor.writeValue(q.value),(q.disabled||"always"===_e)&&(null===(H=(be=k.valueAccessor).setDisabledState)||void 0===H||H.call(be,q.disabled)),function En(q,k){k.valueAccessor.registerOnChange(_e=>{q._pendingValue=_e,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&_r(q,k)})}(q,k),function ir(q,k){const _e=(H,be)=>{k.valueAccessor.writeValue(H),be&&k.viewToModelUpdate(H)};q.registerOnChange(_e),k._registerOnDestroy(()=>{q._unregisterOnChange(_e)})}(q,k),function cr(q,k){k.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&_r(q,k),"submit"!==q.updateOn&&q.markAsTouched()})}(q,k),function Lt(q,k){if(k.valueAccessor.setDisabledState){const _e=H=>{k.valueAccessor.setDisabledState(H)};q.registerOnDisabledChange(_e),k._registerOnDestroy(()=>{q._unregisterOnDisabledChange(_e)})}}(q,k)}function qe(q,k,_e=!0){const H=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(H),k.valueAccessor.registerOnTouched(H)),hn(q,k),q&&(k._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function ct(q,k){q.forEach(_e=>{_e.registerOnValidatorChange&&_e.registerOnValidatorChange(k)})}function Ot(q,k){const _e=wt(q);null!==k.validator?q.setValidators(Pt(_e,k.validator)):"function"==typeof _e&&q.setValidators([_e]);const H=bt(q);null!==k.asyncValidator?q.setAsyncValidators(Pt(H,k.asyncValidator)):"function"==typeof H&&q.setAsyncValidators([H]);const be=()=>q.updateValueAndValidity();ct(k._rawValidators,be),ct(k._rawAsyncValidators,be)}function hn(q,k){let _e=!1;if(null!==q){if(null!==k.validator){const be=wt(q);if(Array.isArray(be)&&be.length>0){const zt=be.filter($n=>$n!==k.validator);zt.length!==be.length&&(_e=!0,q.setValidators(zt))}}if(null!==k.asyncValidator){const be=bt(q);if(Array.isArray(be)&&be.length>0){const zt=be.filter($n=>$n!==k.asyncValidator);zt.length!==be.length&&(_e=!0,q.setAsyncValidators(zt))}}}const H=()=>{};return ct(k._rawValidators,H),ct(k._rawAsyncValidators,H),_e}function _r(q,k){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function zr(q,k){if(!q.hasOwnProperty("model"))return!1;const _e=q.model;return!!_e.isFirstChange()||!Object.is(k,_e.currentValue)}function gi(q,k){if(!k)return null;let _e,H,be;return Array.isArray(k),k.forEach(zt=>{zt.constructor===Se?_e=zt:function Pi(q){return Object.getPrototypeOf(q.constructor)===He}(zt)?H=zt:be=zt}),be||H||_e||null}function wo(q,k){const _e=q.indexOf(k);_e>-1&&q.splice(_e,1)}function ko(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const _o=class extends Ct{constructor(k=null,_e,H){super(it(_e),j(H,_e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(_e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$(_e)&&(_e.nonNullable||_e.initialValueIsDefault)&&(this.defaultValue=ko(k)?k.value:k)}setValue(k,_e={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==_e.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==_e.emitViewToModelChange)),this.updateValueAndValidity(_e)}patchValue(k,_e={}){this.setValue(k,_e)}reset(k=this.defaultValue,_e={}){this._applyFormState(k),this.markAsPristine(_e),this.markAsUntouched(_e),this.setValue(this.value,_e),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){wo(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){wo(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){ko(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},Ft={provide:Mn,useExisting:(0,l.Gpc)(()=>Yn)},fn=(()=>Promise.resolve())();let Yn=(()=>{var q;class k extends Mn{constructor(H,be,zt,$n,xi,ai){super(),this._changeDetectorRef=xi,this.callSetDisabledState=ai,this.control=new _o,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=H,this._setValidators(be),this._setAsyncValidators(zt),this.valueAccessor=gi(0,$n)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const be=H.name.previousValue;this.formDirective.removeControl({name:be,path:this._getPath(be)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),zr(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){fn.then(()=>{var be;this.control.setValue(H,{emitViewToModelChange:!1}),null===(be=this._changeDetectorRef)||void 0===be||be.markForCheck()})}_updateDisabled(H){const be=H.isDisabled.currentValue,zt=0!==be&&(0,l.VuI)(be);fn.then(()=>{var $n;zt&&!this.control.disabled?this.control.disable():!zt&&this.control.disabled&&this.control.enable(),null===($n=this._changeDetectorRef)||void 0===$n||$n.markForCheck()})}_getPath(H){return this._parent?Tt(H,this._parent):[H]}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(mn,9),l.Y36(Oe,10),l.Y36(Ce,10),l.Y36(Ke,10),l.Y36(l.sBO,8),l.Y36(nt,8))},q.\u0275dir=l.lG2({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Ft]),l.qOj,l.TTD]}),k})(),D=(()=>{var q;class k{}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275dir=l.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})(),Un=(()=>{var q;class k{}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({}),k})();const Wr=new l.OlP("NgModelWithFormControlWarning"),Tn={provide:mn,useExisting:(0,l.Gpc)(()=>tr)};let tr=(()=>{var q;class k extends mn{constructor(H,be,zt){super(),this.callSetDisabledState=zt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(H),this._setAsyncValidators(be)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const be=this.form.get(H.path);return xe(be,H,this.callSetDisabledState),be.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),be}getControl(H){return this.form.get(H.path)}removeControl(H){qe(H.control||null,H,!1),function no(q,k){const _e=q.indexOf(k);_e>-1&&q.splice(_e,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,be){this.form.get(H.path).setValue(be)}onSubmit(H){var be;return this.submitted=!0,function yi(q,k){q._syncPendingControls(),k.forEach(_e=>{const H=_e.control;"submit"===H.updateOn&&H._pendingChange&&(_e.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===(null==H||null===(be=H.target)||void 0===be?void 0:be.method)}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const be=H.control,zt=this.form.get(H.path);be!==zt&&(qe(be||null,H),(q=>q instanceof _o)(zt)&&(xe(zt,H,this.callSetDisabledState),H.control=zt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const be=this.form.get(H.path);(function Or(q,k){Ot(q,k)})(be,H),be.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const be=this.form.get(H.path);be&&function mo(q,k){return hn(q,k)}(be,H)&&be.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ot(this.form,this),this._oldForm&&hn(this._oldForm,this)}_checkFormPresent(){}}return(q=k).\u0275fac=function(H){return new(H||q)(l.Y36(Oe,10),l.Y36(Ce,10),l.Y36(nt,8))},q.\u0275dir=l.lG2({type:q,selectors:[["","formGroup",""]],hostBindings:function(H,be){1&H&&l.NdJ("submit",function($n){return be.onSubmit($n)})("reset",function(){return be.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Tn]),l.qOj,l.TTD]}),k})();const pe={provide:Mn,useExisting:(0,l.Gpc)(()=>Y)};let Y=(()=>{var q;class k extends Mn{set isDisabled(H){}constructor(H,be,zt,$n,xi){super(),this._ngModelWarningConfig=xi,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(be),this._setAsyncValidators(zt),this.valueAccessor=gi(0,$n)}ngOnChanges(H){this._added||this._setUpControl(),zr(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return Tt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(q=k)._ngModelWarningSentOnce=!1,q.\u0275fac=function(H){return new(H||q)(l.Y36(mn,13),l.Y36(Oe,10),l.Y36(Ce,10),l.Y36(Ke,10),l.Y36(Wr,8))},q.\u0275dir=l.lG2({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([pe]),l.qOj,l.TTD]}),k})();function xo(q){return"number"==typeof q?q:parseFloat(q)}let Lo=(()=>{var q;class k{constructor(){this._validator=ge}ngOnChanges(H){if(this.inputName in H){const be=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(be),this._validator=this._enabled?this.createValidator(be):ge,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275dir=l.lG2({type:q,features:[l.TTD]}),k})();const ns={provide:Oe,useExisting:(0,l.Gpc)(()=>Nr),multi:!0};let Nr=(()=>{var q;class k extends Lo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=H=>xo(H),this.createValidator=H=>st(H)}}return(q=k).\u0275fac=function(){let _e;return function(be){return(_e||(_e=l.n5z(q)))(be||q)}}(),q.\u0275dir=l.lG2({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(H,be){2&H&&l.uIk("max",be._enabled?be.max:null)},inputs:{max:"max"},features:[l._Bn([ns]),l.qOj]}),k})();const kc={provide:Oe,useExisting:(0,l.Gpc)(()=>ws),multi:!0};let ws=(()=>{var q;class k extends Lo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=H=>xo(H),this.createValidator=H=>Le(H)}}return(q=k).\u0275fac=function(){let _e;return function(be){return(_e||(_e=l.n5z(q)))(be||q)}}(),q.\u0275dir=l.lG2({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(H,be){2&H&&l.uIk("min",be._enabled?be.min:null)},inputs:{min:"min"},features:[l._Bn([kc]),l.qOj]}),k})();const Ga={provide:Oe,useExisting:(0,l.Gpc)(()=>Ei),multi:!0};let Ei=(()=>{var q;class k extends Lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=H=>dt}enabled(H){return H}}return(q=k).\u0275fac=function(){let _e;return function(be){return(_e||(_e=l.n5z(q)))(be||q)}}(),q.\u0275dir=l.lG2({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,be){2&H&&l.uIk("required",be._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Ga]),l.qOj]}),k})(),Uo=(()=>{var q;class k{}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[Un]}),k})();class Ls extends Ct{constructor(k,_e,H){super(it(_e),j(H,_e)),this.controls=k,this._initObservables(),this._setUpdateStrategy(_e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,_e={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:_e.emitEvent}),this._onCollectionChange()}insert(k,_e,H={}){this.controls.splice(k,0,_e),this._registerControl(_e),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(k,_e={}){let H=this._adjustIndex(k);H<0&&(H=0),this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:_e.emitEvent})}setControl(k,_e,H={}){let be=this._adjustIndex(k);be<0&&(be=0),this.controls[be]&&this.controls[be]._registerOnCollectionChange(()=>{}),this.controls.splice(be,1),_e&&(this.controls.splice(be,0,_e),this._registerControl(_e)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,_e={}){et(this,0,k),k.forEach((H,be)=>{Ee(this,!1,be),this.at(be).setValue(H,{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e)}patchValue(k,_e={}){null!=k&&(k.forEach((H,be)=>{this.at(be)&&this.at(be).patchValue(H,{onlySelf:!0,emitEvent:_e.emitEvent})}),this.updateValueAndValidity(_e))}reset(k=[],_e={}){this._forEachChild((H,be)=>{H.reset(k[be],{onlySelf:!0,emitEvent:_e.emitEvent})}),this._updatePristine(_e),this._updateTouched(_e),this.updateValueAndValidity(_e)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(_e=>_e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((_e,H)=>!!H._syncPendingControls()||_e,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((_e,H)=>{k(_e,H)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(_e=>_e.enabled&&k(_e))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){var _e;return null!==(_e=this.at(k))&&void 0!==_e?_e:null}}function Xs(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let qa=(()=>{var q;class k{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new k;return H.useNonNullable=!0,H}group(H,be=null){const zt=this._reduceControls(H);let $n={};return Xs(be)?$n=be:null!==be&&($n.validators=be.validator,$n.asyncValidators=be.asyncValidator),new sn(zt,$n)}record(H,be=null){const zt=this._reduceControls(H);return new Fn(zt,be)}control(H,be,zt){let $n={};return this.useNonNullable?(Xs(be)?$n=be:($n.validators=be,$n.asyncValidators=zt),new _o(H,{...$n,nonNullable:!0})):new _o(H,be,zt)}array(H,be,zt){const $n=H.map(xi=>this._createControl(xi));return new Ls($n,be,zt)}_reduceControls(H){const be={};return Object.keys(H).forEach(zt=>{be[zt]=this._createControl(H[zt])}),be}_createControl(H){return H instanceof _o||H instanceof Ct?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275prov=l.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),k})(),ml=(()=>{var q;class k{static withConfig(H){var be;return{ngModule:k,providers:[{provide:nt,useValue:null!==(be=H.callSetDisabledState)&&void 0!==be?be:Ge}]}}}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[Uo]}),k})(),fs=(()=>{var q;class k{static withConfig(H){var be,zt;return{ngModule:k,providers:[{provide:Wr,useValue:null!==(be=H.warnOnNgModelWithFormControl)&&void 0!==be?be:"always"},{provide:nt,useValue:null!==(zt=H.callSetDisabledState)&&void 0!==zt?zt:Ge}]}}}return(q=k).\u0275fac=function(H){return new(H||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[Uo]}),k})()},6593:(cn,ft,N)=>{"use strict";N.d(ft,{Dx:()=>Mn,b2:()=>Zt,q6:()=>Pt});var l=N(5879),V=N(6814);class ee extends V.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends ee{static makeCurrent(){(0,V.HT)(new de)}onAndCancel(j,Z,$){return j.addEventListener(Z,$),()=>{j.removeEventListener(Z,$)}}dispatchEvent(j,Z){j.dispatchEvent(Z)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,Z){return(Z=Z||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,Z){return"window"===Z?window:"document"===Z?j:"body"===Z?j.body:null}getBaseHref(j){const Z=function Ae(){return Pe=Pe||document.querySelector("base"),Pe?Pe.getAttribute("href"):null}();return null==Z?null:function Me(le){Te=Te||document.createElement("a"),Te.setAttribute("href",le);const j=Te.pathname;return"/"===j.charAt(0)?j:`/${j}`}(Z)}resetBaseElement(){Pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,V.Mx)(document.cookie,j)}}let Te,Pe=null,ie=(()=>{var le;class j{build(){return new XMLHttpRequest}}return(le=j).\u0275fac=function($){return new($||le)},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();const me=new l.OlP("EventManagerPlugins");let Be=(()=>{var le;class j{constructor($,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,$.forEach(et=>{et.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,Ee,et){return this._findPluginFor(Ee).addEventListener($,Ee,et)}getZone(){return this._zone}_findPluginFor($){let Ee=this._eventNameToPlugin.get($);if(Ee)return Ee;if(Ee=this._plugins.find(Ct=>Ct.supports($)),!Ee)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set($,Ee),Ee}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(me),l.LFG(l.R0b))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();class Fe{constructor(j){this._doc=j}}const He="ng-app-id";let Ke=(()=>{var le;class j{constructor($,Ee,et,Ct={}){this.doc=$,this.appId=Ee,this.nonce=et,this.platformId=Ct,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,V.PM)(Ct),this.resetHostNodes()}addStyles($){for(const Ee of $)1===this.changeUsageCount(Ee,1)&&this.onStyleAdded(Ee)}removeStyles($){for(const Ee of $)this.changeUsageCount(Ee,-1)<=0&&this.onStyleRemoved(Ee)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(Ee=>Ee.remove()),$.clear());for(const Ee of this.getAllStyles())this.onStyleRemoved(Ee);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const Ee of this.getAllStyles())this.addStyleToHost($,Ee)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const Ee of this.hostNodes)this.addStyleToHost(Ee,$)}onStyleRemoved($){var Ee;const et=this.styleRef;null===(Ee=et.get($))||void 0===Ee||null===(Ee=Ee.elements)||void 0===Ee||Ee.forEach(Ct=>Ct.remove()),et.delete($)}collectServerRenderedStyles(){var $;const Ee=null===($=this.doc.head)||void 0===$?void 0:$.querySelectorAll(`style[${He}="${this.appId}"]`);if(null!=Ee&&Ee.length){const et=new Map;return Ee.forEach(Ct=>{null!=Ct.textContent&&et.set(Ct.textContent,Ct)}),et}return null}changeUsageCount($,Ee){const et=this.styleRef;if(et.has($)){const Ct=et.get($);return Ct.usage+=Ee,Ct.usage}return et.set($,{usage:Ee,elements:[]}),Ee}getStyleElement($,Ee){const et=this.styleNodesInDOM,Ct=null==et?void 0:et.get(Ee);if((null==Ct?void 0:Ct.parentNode)===$)return et.delete(Ee),Ct.removeAttribute(He),Ct;{const sn=this.doc.createElement("style");return this.nonce&&sn.setAttribute("nonce",this.nonce),sn.textContent=Ee,this.platformIsServer&&sn.setAttribute(He,this.appId),sn}}addStyleToHost($,Ee){var et;const Ct=this.getStyleElement($,Ee);$.appendChild(Ct);const sn=this.styleRef,Kt=null===(et=sn.get(Ee))||void 0===et?void 0:et.elements;Kt?Kt.push(Ct):sn.set(Ee,{elements:[Ct],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(V.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g,Xe=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(le,j){return j.map(Z=>Z.replace(Qe,le))}let te=(()=>{var le;class j{constructor($,Ee,et,Ct,sn,Kt,Bn,Fn=null){this.eventManager=$,this.sharedStylesHost=Ee,this.appId=et,this.removeStylesOnCompDestroy=Ct,this.doc=sn,this.platformId=Kt,this.ngZone=Bn,this.nonce=Fn,this.rendererByCompId=new Map,this.platformIsServer=(0,V.PM)(Kt),this.defaultRenderer=new je($,sn,Bn,this.platformIsServer)}createRenderer($,Ee){if(!$||!Ee)return this.defaultRenderer;this.platformIsServer&&Ee.encapsulation===l.ifc.ShadowDom&&(Ee={...Ee,encapsulation:l.ifc.Emulated});const et=this.getOrCreateRenderer($,Ee);return et instanceof ln?et.applyToHost($):et instanceof Yt&&et.applyStyles(),et}getOrCreateRenderer($,Ee){const et=this.rendererByCompId;let Ct=et.get(Ee.id);if(!Ct){const sn=this.doc,Kt=this.ngZone,Bn=this.eventManager,Fn=this.sharedStylesHost,ar=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(Ee.encapsulation){case l.ifc.Emulated:Ct=new ln(Bn,Fn,Ee,this.appId,ar,sn,Kt,nt);break;case l.ifc.ShadowDom:return new Et(Bn,Fn,$,Ee,sn,Kt,this.nonce,nt);default:Ct=new Yt(Bn,Fn,Ee,ar,sn,Kt,nt)}et.set(Ee.id,Ct)}return Ct}ngOnDestroy(){this.rendererByCompId.clear()}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(Be),l.LFG(Ke),l.LFG(l.AFp),l.LFG(Xe),l.LFG(V.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();class je{constructor(j,Z,$,Ee){this.eventManager=j,this.doc=Z,this.ngZone=$,this.platformIsServer=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,Z){return Z?this.doc.createElementNS(Ze[Z]||Z,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,Z){(dt(j)?j.content:j).appendChild(Z)}insertBefore(j,Z,$){j&&(dt(j)?j.content:j).insertBefore(Z,$)}removeChild(j,Z){j&&j.removeChild(Z)}selectRootElement(j,Z){let $="string"==typeof j?this.doc.querySelector(j):j;if(!$)throw new l.vHH(-5104,!1);return Z||($.textContent=""),$}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,Z,$,Ee){if(Ee){Z=Ee+":"+Z;const et=Ze[Ee];et?j.setAttributeNS(et,Z,$):j.setAttribute(Z,$)}else j.setAttribute(Z,$)}removeAttribute(j,Z,$){if($){const Ee=Ze[$];Ee?j.removeAttributeNS(Ee,Z):j.removeAttribute(`${$}:${Z}`)}else j.removeAttribute(Z)}addClass(j,Z){j.classList.add(Z)}removeClass(j,Z){j.classList.remove(Z)}setStyle(j,Z,$,Ee){Ee&(l.JOm.DashCase|l.JOm.Important)?j.style.setProperty(Z,$,Ee&l.JOm.Important?"important":""):j.style[Z]=$}removeStyle(j,Z,$){$&l.JOm.DashCase?j.style.removeProperty(Z):j.style[Z]=""}setProperty(j,Z,$){j[Z]=$}setValue(j,Z){j.nodeValue=Z}listen(j,Z,$){if("string"==typeof j&&!(j=(0,V.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${Z}`);return this.eventManager.addEventListener(j,Z,this.decoratePreventDefault($))}decoratePreventDefault(j){return Z=>{if("__ngUnwrap__"===Z)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(Z)):j(Z))&&Z.preventDefault()}}}function dt(le){return"TEMPLATE"===le.tagName&&void 0!==le.content}class Et extends je{constructor(j,Z,$,Ee,et,Ct,sn,Kt){super(j,et,Ct,Kt),this.sharedStylesHost=Z,this.hostEl=$,this.shadowRoot=$.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bn=Ce(Ee.id,Ee.styles);for(const Fn of Bn){const ar=document.createElement("style");sn&&ar.setAttribute("nonce",sn),ar.textContent=Fn,this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,Z){return super.appendChild(this.nodeOrShadowRoot(j),Z)}insertBefore(j,Z,$){return super.insertBefore(this.nodeOrShadowRoot(j),Z,$)}removeChild(j,Z){return super.removeChild(this.nodeOrShadowRoot(j),Z)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yt extends je{constructor(j,Z,$,Ee,et,Ct,sn,Kt){super(j,et,Ct,sn),this.sharedStylesHost=Z,this.removeStylesOnCompDestroy=Ee,this.styles=Kt?Ce(Kt,$.styles):$.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ln extends Yt{constructor(j,Z,$,Ee,et,Ct,sn,Kt){const Bn=Ee+"-"+$.id;super(j,Z,$,et,Ct,sn,Kt,Bn),this.contentAttr=function Ve(le){return"_ngcontent-%COMP%".replace(Qe,le)}(Bn),this.hostAttr=function Oe(le){return"_nghost-%COMP%".replace(Qe,le)}(Bn)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,Z){const $=super.createElement(j,Z);return super.setAttribute($,this.contentAttr,""),$}}let rn=(()=>{var le;class j extends Fe{constructor($){super($)}supports($){return!0}addEventListener($,Ee,et){return $.addEventListener(Ee,et,!1),()=>this.removeEventListener($,Ee,et)}removeEventListener($,Ee,et){return $.removeEventListener(Ee,et)}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(V.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();const fe=["alt","control","meta","shift"],ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ae={alt:le=>le.altKey,control:le=>le.ctrlKey,meta:le=>le.metaKey,shift:le=>le.shiftKey};let $e=(()=>{var le;class j extends Fe{constructor($){super($)}supports($){return null!=j.parseEventName($)}addEventListener($,Ee,et){const Ct=j.parseEventName(Ee),sn=j.eventCallback(Ct.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,V.q)().onAndCancel($,Ct.domEventName,sn))}static parseEventName($){const Ee=$.toLowerCase().split("."),et=Ee.shift();if(0===Ee.length||"keydown"!==et&&"keyup"!==et)return null;const Ct=j._normalizeKey(Ee.pop());let sn="",Kt=Ee.indexOf("code");if(Kt>-1&&(Ee.splice(Kt,1),sn="code."),fe.forEach(Fn=>{const ar=Ee.indexOf(Fn);ar>-1&&(Ee.splice(ar,1),sn+=Fn+".")}),sn+=Ct,0!=Ee.length||0===Ct.length)return null;const Bn={};return Bn.domEventName=et,Bn.fullKey=sn,Bn}static matchEventFullKeyCode($,Ee){let et=ge[$.key]||$.key,Ct="";return Ee.indexOf("code.")>-1&&(et=$.code,Ct="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),fe.forEach(sn=>{sn!==et&&(0,ae[sn])($)&&(Ct+=sn+".")}),Ct+=et,Ct===Ee)}static eventCallback($,Ee,et){return Ct=>{j.matchEventFullKeyCode(Ct,$)&&et.runGuarded(()=>Ee(Ct))}}static _normalizeKey($){return"esc"===$?"escape":$}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(V.K0))},le.\u0275prov=l.Yz7({token:le,factory:le.\u0275fac}),j})();const Pt=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:V.bD},{provide:l.g9A,useValue:function St(){de.makeCurrent()},multi:!0},{provide:V.K0,useFactory:function jt(){return(0,l.RDi)(document),document},deps:[]}]),wt=new l.OlP(""),bt=[{provide:l.rWj,useClass:class ot{addToWindow(j){l.dqk.getAngularTestability=($,Ee=!0)=>{const et=j.findTestabilityInTree($,Ee);if(null==et)throw new l.vHH(5103,!1);return et},l.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push($=>{const Ee=l.dqk.getAllAngularTestabilities();let et=Ee.length,Ct=!1;const sn=function(Kt){Ct=Ct||Kt,et--,0==et&&$(Ct)};Ee.forEach(Kt=>{Kt.whenStable(sn)})})}findTestabilityInTree(j,Z,$){if(null==Z)return null;const Ee=j.getTestability(Z);return null!=Ee?Ee:$?(0,V.q)().isShadowRoot(Z)?this.findTestabilityInTree(j,Z.host,!0):this.findTestabilityInTree(j,Z.parentElement,!0):null}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ut=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Wt(){return new l.qLn},deps:[]},{provide:me,useClass:rn,multi:!0,deps:[V.K0,l.R0b,l.Lbi]},{provide:me,useClass:$e,multi:!0,deps:[V.K0]},te,Ke,Be,{provide:l.FYo,useExisting:te},{provide:V.JF,useClass:ie,deps:[]},[]];let Zt=(()=>{var le;class j{constructor($){}static withServerTransition($){return{ngModule:j,providers:[{provide:l.AFp,useValue:$.appId}]}}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(wt,12))},le.\u0275mod=l.oAB({type:le}),le.\u0275inj=l.cJS({providers:[...Ut,...bt],imports:[V.ez,l.hGG]}),j})(),Mn=(()=>{var le;class j{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}}return(le=j).\u0275fac=function($){return new($||le)(l.LFG(V.K0))},le.\u0275prov=l.Yz7({token:le,factory:function($){let Ee=null;return Ee=$?new $:function mn(){return new Mn((0,l.LFG)(V.K0))}(),Ee},providedIn:"root"}),j})();typeof window<"u"&&window},2692:(cn,ft,N)=>{"use strict";N.d(ft,{gz:()=>oo,y6:()=>D,OD:()=>gi,eC:()=>jt,wm:()=>Ul,wN:()=>Gn,F0:()=>vn,rH:()=>To,Bz:()=>xr,Hx:()=>On});var l=N(5879),V=N(5592),ee=N(4674),Pe=N(2459),Ae=N(2096),Te=N(5619),Me=N(2572),ot=N(6973),ie=N(5211),me=N(4829);function Be(C){return new V.y(R=>{(0,me.Xf)(C()).subscribe(R)})}var Fe=N(8407);function He(C,R){const O=(0,ee.m)(C)?C:()=>C,T=L=>L.error(O());return new V.y(R?L=>R.schedule(T,0,L):T)}var Ke=N(6232),Ze=N(7394),Qe=N(9360),ze=N(8251);function rt(){return(0,Qe.e)((C,R)=>{let O=null;C._refCount++;const T=(0,ze.x)(R,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(O=null);const L=C._connection,ne=O;O=null,L&&(!ne||L===ne)&&L.unsubscribe(),R.unsubscribe()});C.subscribe(T),T.closed||(O=C.connect())})}class vt extends V.y{constructor(R,O){super(),this.source=R,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,null==R||R.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ze.w0;const O=this.getSubject();R.add(this.source.subscribe((0,ze.x)(O,void 0,()=>{this._teardown(),O.complete()},T=>{this._teardown(),O.error(T)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ze.w0.EMPTY)}return R}refCount(){return rt()(this)}}var Se=N(8645),Xe=N(6814),Ve=N(7398),Oe=N(4664),Ce=N(8180),te=N(7921),je=N(2181),Le=N(1631),st=N(1374),dt=N(6328),Et=N(9397);function Yt(C){return(0,Qe.e)((R,O)=>{let ne,T=null,L=!1;T=R.subscribe((0,ze.x)(O,void 0,void 0,Re=>{ne=(0,me.Xf)(C(Re,Yt(C)(R))),T?(T.unsubscribe(),T=null,ne.subscribe(O)):L=!0})),L&&(T.unsubscribe(),T=null,ne.subscribe(O))})}var ln=N(6699),rn=N(3572);function fe(C){return C<=0?()=>Ke.E:(0,Qe.e)((R,O)=>{let T=[];R.subscribe((0,ze.x)(O,L=>{T.push(L),C<T.length&&T.shift()},()=>{for(const L of T)O.next(L);O.complete()},void 0,()=>{T=null}))})}var ge=N(3026),ae=N(2737),ht=N(4716),mt=N(2420),St=N(7537),Wt=N(6593);const jt="primary",An=Symbol("RouteTitle");class Pt{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const O=this.params[R];return Array.isArray(O)?O[0]:O}return null}getAll(R){if(this.has(R)){const O=this.params[R];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function wt(C){return new Pt(C)}function bt(C,R,O){const T=O.path.split("/");if(T.length>C.length||"full"===O.pathMatch&&(R.hasChildren()||T.length<C.length))return null;const L={};for(let ne=0;ne<T.length;ne++){const Re=T[ne],yt=C[ne];if(Re.startsWith(":"))L[Re.substring(1)]=yt;else if(Re!==yt.path)return null}return{consumed:C.slice(0,T.length),posParams:L}}function Zt(C,R){const O=C?Object.keys(C):void 0,T=R?Object.keys(R):void 0;if(!O||!T||O.length!=T.length)return!1;let L;for(let ne=0;ne<O.length;ne++)if(L=O[ne],!Rn(C[L],R[L]))return!1;return!0}function Rn(C,R){if(Array.isArray(C)&&Array.isArray(R)){if(C.length!==R.length)return!1;const O=[...C].sort(),T=[...R].sort();return O.every((L,ne)=>T[ne]===L)}return C===R}function Pn(C){return C.length>0?C[C.length-1]:null}function jn(C){return function de(C){return!!C&&(C instanceof V.y||(0,ee.m)(C.lift)&&(0,ee.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,Pe.D)(Promise.resolve(C)):(0,Ae.of)(C)}const mn={exact:function Dn(C,R,O){if(!Jn(C.segments,R.segments)||!Pr(C.segments,R.segments,O)||C.numberOfChildren!==R.numberOfChildren)return!1;for(const T in R.children)if(!C.children[T]||!Dn(C.children[T],R.children[T],O))return!1;return!0},subset:Vn},Mn={exact:function Hr(C,R){return Zt(C,R)},subset:function Kn(C,R){return Object.keys(R).length<=Object.keys(C).length&&Object.keys(R).every(O=>Rn(C[O],R[O]))},ignored:()=>!0};function Xn(C,R,O){return mn[O.paths](C.root,R.root,O.matrixParams)&&Mn[O.queryParams](C.queryParams,R.queryParams)&&!("exact"===O.fragment&&C.fragment!==R.fragment)}function Vn(C,R,O){return fr(C,R,R.segments,O)}function fr(C,R,O,T){if(C.segments.length>O.length){const L=C.segments.slice(0,O.length);return!(!Jn(L,O)||R.hasChildren()||!Pr(L,O,T))}if(C.segments.length===O.length){if(!Jn(C.segments,O)||!Pr(C.segments,O,T))return!1;for(const L in R.children)if(!C.children[L]||!Vn(C.children[L],R.children[L],T))return!1;return!0}{const L=O.slice(0,C.segments.length),ne=O.slice(C.segments.length);return!!(Jn(C.segments,L)&&Pr(C.segments,L,T)&&C.children[jt])&&fr(C.children[jt],R,ne,T)}}function Pr(C,R,O){return R.every((T,L)=>Mn[O](C[L].parameters,T.parameters))}class ci{constructor(R=new Cn([],{}),O={},T=null){this.root=R,this.queryParams=O,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return Si.serialize(this)}}class Cn{constructor(R,O){this.segments=R,this.children=O,this.parent=null,Object.values(O).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kr(this)}}class mr{constructor(R,O){this.path=R,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap}toString(){return hi(this)}}function Jn(C,R){return C.length===R.length&&C.every((O,T)=>O.path===R[T].path)}let On=(()=>{var C;class R{}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:function(){return new gr},providedIn:"root"}),R})();class gr{parse(R){const O=new Kt(R);return new ci(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(R){const O=`/${Dr(R.root,!0)}`,T=function it(C){const R=Object.keys(C).map(O=>{const T=C[O];return Array.isArray(T)?T.map(L=>`${Cr(O)}=${Cr(L)}`).join("&"):`${Cr(O)}=${Cr(T)}`}).filter(O=>!!O);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${O}${T}${"string"==typeof R.fragment?`#${function wr(C){return encodeURI(C)}(R.fragment)}`:""}`}}const Si=new gr;function Kr(C){return C.segments.map(R=>hi(R)).join("/")}function Dr(C,R){if(!C.hasChildren())return Kr(C);if(R){const O=C.children[jt]?Dr(C.children[jt],!1):"",T=[];return Object.entries(C.children).forEach(([L,ne])=>{L!==jt&&T.push(`${L}:${Dr(ne,!1)}`)}),T.length>0?`${O}(${T.join("//")})`:O}{const O=function ki(C,R){let O=[];return Object.entries(C.children).forEach(([T,L])=>{T===jt&&(O=O.concat(R(L,T)))}),Object.entries(C.children).forEach(([T,L])=>{T!==jt&&(O=O.concat(R(L,T)))}),O}(C,(T,L)=>L===jt?[Dr(C.children[jt],!1)]:[`${L}:${Dr(T,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[jt]?`${Kr(C)}/${O[0]}`:`${Kr(C)}/(${O.join("//")})`}}function er(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cr(C){return er(C).replace(/%3B/gi,";")}function di(C){return er(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lr(C){return decodeURIComponent(C)}function Ri(C){return Lr(C.replace(/\+/g,"%20"))}function hi(C){return`${di(C.path)}${function Gi(C){return Object.keys(C).map(R=>`;${di(R)}=${di(C[R])}`).join("")}(C.parameters)}`}const le=/^[^\/()?;#]+/;function j(C){const R=C.match(le);return R?R[0]:""}const Z=/^[^\/()?;=#]+/,Ee=/^[^=?&#]+/,Ct=/^[^&#]+/;class Kt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(R.length>0||Object.keys(O).length>0)&&(T[jt]=new Cn(R,O)),T}parseSegment(){const R=j(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(R),new mr(Lr(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const O=function $(C){const R=C.match(Z);return R?R[0]:""}(this.remaining);if(!O)return;this.capture(O);let T="";if(this.consumeOptional("=")){const L=j(this.remaining);L&&(T=L,this.capture(T))}R[Lr(O)]=Lr(T)}parseQueryParam(R){const O=function et(C){const R=C.match(Ee);return R?R[0]:""}(this.remaining);if(!O)return;this.capture(O);let T="";if(this.consumeOptional("=")){const Re=function sn(C){const R=C.match(Ct);return R?R[0]:""}(this.remaining);Re&&(T=Re,this.capture(T))}const L=Ri(O),ne=Ri(T);if(R.hasOwnProperty(L)){let Re=R[L];Array.isArray(Re)||(Re=[Re],R[L]=Re),Re.push(ne)}else R[L]=ne}parseParens(R){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=j(this.remaining),L=this.remaining[T.length];if("/"!==L&&")"!==L&&";"!==L)throw new l.vHH(4010,!1);let ne;T.indexOf(":")>-1?(ne=T.slice(0,T.indexOf(":")),this.capture(ne),this.capture(":")):R&&(ne=jt);const Re=this.parseChildren();O[ne]=1===Object.keys(Re).length?Re[jt]:new Cn([],Re),this.consumeOptional("//")}return O}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new l.vHH(4011,!1)}}function Bn(C){return C.segments.length>0?new Cn([],{[jt]:C}):C}function Fn(C){const R={};for(const T of Object.keys(C.children)){const ne=Fn(C.children[T]);if(T===jt&&0===ne.segments.length&&ne.hasChildren())for(const[Re,yt]of Object.entries(ne.children))R[Re]=yt;else(ne.segments.length>0||ne.hasChildren())&&(R[T]=ne)}return function ar(C){if(1===C.numberOfChildren&&C.children[jt]){const R=C.children[jt];return new Cn(C.segments.concat(R.segments),R.children)}return C}(new Cn(C.segments,R))}function nt(C){return C instanceof ci}function Tt(C){var R;let O;const ne=Bn(function T(Re){const yt={};for(const Rt of Re.children){const In=T(Rt);yt[Rt.outlet]=In}const gn=new Cn(Re.url,yt);return Re===C&&(O=gn),gn}(C.root));return null!==(R=O)&&void 0!==R?R:ne}function xe(C,R,O,T){let L=C;for(;L.parent;)L=L.parent;if(0===R.length)return Lt(L,L,L,O,T);const ne=function En(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new hn(!0,0,C);let R=0,O=!1;const T=C.reduce((L,ne,Re)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const yt={};return Object.entries(ne.outlets).forEach(([gn,Rt])=>{yt[gn]="string"==typeof Rt?Rt.split("/"):Rt}),[...L,{outlets:yt}]}if(ne.segmentPath)return[...L,ne.segmentPath]}return"string"!=typeof ne?[...L,ne]:0===Re?(ne.split("/").forEach((yt,gn)=>{0==gn&&"."===yt||(0==gn&&""===yt?O=!0:".."===yt?R++:""!=yt&&L.push(yt))}),L):[...L,ne]},[]);return new hn(O,R,T)}(R);if(ne.toRoot())return Lt(L,L,new Cn([],{}),O,T);const Re=function _r(C,R,O){if(C.isAbsolute)return new cr(R,!0,0);if(!O)return new cr(R,!1,NaN);if(null===O.parent)return new cr(O,!0,0);const T=qe(C.commands[0])?0:1;return function ir(C,R,O){let T=C,L=R,ne=O;for(;ne>L;){if(ne-=L,T=T.parent,!T)throw new l.vHH(4005,!1);L=T.segments.length}return new cr(T,!1,L-ne)}(O,O.segments.length-1+T,C.numberOfDoubleDots)}(ne,L,C),yt=Re.processChildren?lr(Re.segmentGroup,Re.index,ne.commands):mo(Re.segmentGroup,Re.index,ne.commands);return Lt(L,Re.segmentGroup,yt,O,T)}function qe(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function ct(C){return"object"==typeof C&&null!=C&&C.outlets}function Lt(C,R,O,T,L){let Re,ne={};T&&Object.entries(T).forEach(([gn,Rt])=>{ne[gn]=Array.isArray(Rt)?Rt.map(In=>`${In}`):`${Rt}`}),Re=C===R?O:Ot(C,R,O);const yt=Bn(Fn(Re));return new ci(yt,ne,L)}function Ot(C,R,O){const T={};return Object.entries(C.children).forEach(([L,ne])=>{T[L]=ne===R?O:Ot(ne,R,O)}),new Cn(C.segments,T)}class hn{constructor(R,O,T){if(this.isAbsolute=R,this.numberOfDoubleDots=O,this.commands=T,R&&T.length>0&&qe(T[0]))throw new l.vHH(4003,!1);const L=T.find(ct);if(L&&L!==Pn(T))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cr{constructor(R,O,T){this.segmentGroup=R,this.processChildren=O,this.index=T}}function mo(C,R,O){if(C||(C=new Cn([],{})),0===C.segments.length&&C.hasChildren())return lr(C,R,O);const T=function Mr(C,R,O){let T=0,L=R;const ne={match:!1,pathIndex:0,commandIndex:0};for(;L<C.segments.length;){if(T>=O.length)return ne;const Re=C.segments[L],yt=O[T];if(ct(yt))break;const gn=`${yt}`,Rt=T<O.length-1?O[T+1]:null;if(L>0&&void 0===gn)break;if(gn&&Rt&&"object"==typeof Rt&&void 0===Rt.outlets){if(!zr(gn,Rt,Re))return ne;T+=2}else{if(!zr(gn,{},Re))return ne;T++}L++}return{match:!0,pathIndex:L,commandIndex:T}}(C,R,O),L=O.slice(T.commandIndex);if(T.match&&T.pathIndex<C.segments.length){const ne=new Cn(C.segments.slice(0,T.pathIndex),{});return ne.children[jt]=new Cn(C.segments.slice(T.pathIndex),C.children),lr(ne,0,L)}return T.match&&0===L.length?new Cn(C.segments,{}):T.match&&!C.hasChildren()?pr(C,R,O):T.match?lr(C,0,L):pr(C,R,O)}function lr(C,R,O){if(0===O.length)return new Cn(C.segments,{});{const T=function Or(C){return ct(C[0])?C[0].outlets:{[jt]:C}}(O),L={};if(Object.keys(T).some(ne=>ne!==jt)&&C.children[jt]&&1===C.numberOfChildren&&0===C.children[jt].segments.length){const ne=lr(C.children[jt],R,O);return new Cn(C.segments,ne.children)}return Object.entries(T).forEach(([ne,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(L[ne]=mo(C.children[ne],R,Re))}),Object.entries(C.children).forEach(([ne,Re])=>{void 0===T[ne]&&(L[ne]=Re)}),new Cn(C.segments,L)}}function pr(C,R,O){const T=C.segments.slice(0,R);let L=0;for(;L<O.length;){const ne=O[L];if(ct(ne)){const gn=br(ne.outlets);return new Cn(T,gn)}if(0===L&&qe(O[0])){T.push(new mr(C.segments[R].path,Ln(O[0]))),L++;continue}const Re=ct(ne)?ne.outlets[jt]:`${ne}`,yt=L<O.length-1?O[L+1]:null;Re&&yt&&qe(yt)?(T.push(new mr(Re,Ln(yt))),L+=2):(T.push(new mr(Re,{})),L++)}return new Cn(T,{})}function br(C){const R={};return Object.entries(C).forEach(([O,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(R[O]=pr(new Cn([],{}),0,T))}),R}function Ln(C){const R={};return Object.entries(C).forEach(([O,T])=>R[O]=`${T}`),R}function zr(C,R,O){return C==O.path&&Zt(R,O.parameters)}const Pi="imperative";class yi{constructor(R,O){this.id=R,this.url=O}}class gi extends yi{constructor(R,O,T="imperative",L=null){super(R,O),this.type=0,this.navigationTrigger=T,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends yi{constructor(R,O,T){super(R,O),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Co extends yi{constructor(R,O,T,L){super(R,O),this.reason=T,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ri extends yi{constructor(R,O,T,L){super(R,O),this.reason=T,this.code=L,this.type=16}}class Fi extends yi{constructor(R,O,T,L){super(R,O),this.error=T,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ro extends yi{constructor(R,O,T,L){super(R,O),this.urlAfterRedirects=T,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends yi{constructor(R,O,T,L){super(R,O),this.urlAfterRedirects=T,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends yi{constructor(R,O,T,L,ne){super(R,O),this.urlAfterRedirects=T,this.state=L,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _o extends yi{constructor(R,O,T,L){super(R,O),this.urlAfterRedirects=T,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G extends yi{constructor(R,O,T,L){super(R,O),this.urlAfterRedirects=T,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class re{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ut{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(R,O,T){this.routerEvent=R,this.position=O,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gt{}class Ft{constructor(R){this.url=R}}class Yn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new D,this.attachRef=null}}let D=(()=>{var C;class R{constructor(){this.contexts=new Map}onChildOutletCreated(T,L){const ne=this.getOrCreateContext(T);ne.outlet=L,this.contexts.set(T,ne)}onChildOutletDestroyed(T){const L=this.getContext(T);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let L=this.getContext(T);return L||(L=new Yn,this.contexts.set(T,L)),L}getContext(T){return this.contexts.get(T)||null}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();class ce{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const O=this.pathFromRoot(R);return O.length>1?O[O.length-2]:null}children(R){const O=x(R,this._root);return O?O.children.map(T=>T.value):[]}firstChild(R){const O=x(R,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(R){const O=he(R,this._root);return O.length<2?[]:O[O.length-2].children.map(L=>L.value).filter(L=>L!==R)}pathFromRoot(R){return he(R,this._root).map(O=>O.value)}}function x(C,R){if(C===R.value)return R;for(const O of R.children){const T=x(C,O);if(T)return T}return null}function he(C,R){if(C===R.value)return[R];for(const O of R.children){const T=he(C,O);if(T.length)return T.unshift(R),T}return[]}class at{constructor(R,O){this.value=R,this.children=O}toString(){return`TreeNode(${this.value})`}}function Un(C){const R={};return C&&C.children.forEach(O=>R[O.value.outlet]=O),R}class Sr extends ce{constructor(R,O){super(R),this.snapshot=O,tr(this,R)}toString(){return this.snapshot.toString()}}function ei(C,R){const O=function io(C,R){const Re=new Zr([],{},{},"",{},jt,R,null,{});return new Tn("",new at(Re,[]))}(0,R),T=new Te.X([new mr("",{})]),L=new Te.X({}),ne=new Te.X({}),Re=new Te.X({}),yt=new Te.X(""),gn=new oo(T,L,Re,yt,ne,jt,R,O.root);return gn.snapshot=O.root,new Sr(new at(gn,[]),O)}class oo{constructor(R,O,T,L,ne,Re,yt,gn){var Rt,In;this.urlSubject=R,this.paramsSubject=O,this.queryParamsSubject=T,this.fragmentSubject=L,this.dataSubject=ne,this.outlet=Re,this.component=yt,this._futureSnapshot=gn,this.title=null!==(Rt=null===(In=this.dataSubject)||void 0===In?void 0:In.pipe((0,Ve.U)(ur=>ur[An])))&&void 0!==Rt?Rt:(0,Ae.of)(void 0),this.url=R,this.params=O,this.queryParams=T,this.fragment=L,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(R=>wt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(R=>wt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wr(C,R="emptyOnly"){const O=C.pathFromRoot;let T=0;if("always"!==R)for(T=O.length-1;T>=1;){const L=O[T],ne=O[T-1];if(L.routeConfig&&""===L.routeConfig.path)T--;else{if(ne.component)break;T--}}return function ks(C){return C.reduce((R,O)=>{var T;return{params:{...R.params,...O.params},data:{...R.data,...O.data},resolve:{...O.data,...R.resolve,...null===(T=O.routeConfig)||void 0===T?void 0:T.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(T))}class Zr{get title(){var R;return null===(R=this.data)||void 0===R?void 0:R[An]}constructor(R,O,T,L,ne,Re,yt,gn,Rt){this.url=R,this.params=O,this.queryParams=T,this.fragment=L,this.data=ne,this.outlet=Re,this.component=yt,this.routeConfig=gn,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends ce{constructor(R,O){super(O),this.url=R,tr(this,O)}toString(){return fi(this._root)}}function tr(C,R){R.value._routerState=C,R.children.forEach(O=>tr(C,O))}function fi(C){const R=C.children.length>0?` { ${C.children.map(fi).join(", ")} } `:"";return`${C.value}${R}`}function so(C){if(C.snapshot){const R=C.snapshot,O=C._futureSnapshot;C.snapshot=O,Zt(R.queryParams,O.queryParams)||C.queryParamsSubject.next(O.queryParams),R.fragment!==O.fragment&&C.fragmentSubject.next(O.fragment),Zt(R.params,O.params)||C.paramsSubject.next(O.params),function Ut(C,R){if(C.length!==R.length)return!1;for(let O=0;O<C.length;++O)if(!Zt(C[O],R[O]))return!1;return!0}(R.url,O.url)||C.urlSubject.next(O.url),Zt(R.data,O.data)||C.dataSubject.next(O.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Yo(C,R){const O=Zt(C.params,R.params)&&function Xi(C,R){return Jn(C,R)&&C.every((O,T)=>Zt(O.parameters,R[T].parameters))}(C.url,R.url);return O&&!(!C.parent!=!R.parent)&&(!C.parent||Yo(C.parent,R.parent))}let co=(()=>{var C;class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(D),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(pe,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:L,previousValue:ne}=T.name;if(L)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var L;return(null===(L=this.parentContexts.getContext(T))||void 0===L?void 0:L.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,L){var ne;this.activated=T,this._activatedRoute=L,this.location.insert(T.hostView),null===(ne=this.inputBinder)||void 0===ne||ne.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,L){var ne;if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=T;const Re=this.location,gn=T.snapshot.component,Rt=this.parentContexts.getOrCreateContext(this.name).children,In=new ue(T,Rt,Re.injector);this.activated=Re.createComponent(gn,{index:Re.length,injector:In,environmentInjector:null!=L?L:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ne=this.inputBinder)||void 0===ne||ne.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),R})();class ue{constructor(R,O,T){this.route=R,this.childContexts=O,this.parent=T}get(R,O){return R===oo?this.route:R===D?this.childContexts:this.parent.get(R,O)}}const pe=new l.OlP("");let Y=(()=>{var C;class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var L;null===(L=this.outletDataSubscriptions.get(T))||void 0===L||L.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:L}=T,ne=(0,Me.a)([L.queryParams,L.params,L.data]).pipe((0,Oe.w)(([Re,yt,gn],Rt)=>(gn={...Re,...yt,...gn},0===Rt?(0,Ae.of)(gn):Promise.resolve(gn)))).subscribe(Re=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==L||null===L.component)return void this.unsubscribeFromRouteData(T);const yt=(0,l.qFp)(L.component);if(yt)for(const{templateName:gn}of yt.inputs)T.activatedComponentRef.setInput(gn,Re[gn]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,ne)}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac}),R})();function Ye(C,R,O){if(O&&C.shouldReuseRoute(R.value,O.value.snapshot)){const T=O.value;T._futureSnapshot=R.value;const L=function Bt(C,R,O){return R.children.map(T=>{for(const L of O.children)if(C.shouldReuseRoute(T.value,L.value.snapshot))return Ye(C,T,L);return Ye(C,T)})}(C,R,O);return new at(T,L)}{if(C.shouldAttach(R.value)){const ne=C.retrieve(R.value);if(null!==ne){const Re=ne.route;return Re.value._futureSnapshot=R.value,Re.children=R.children.map(yt=>Ye(C,yt)),Re}}const T=function _n(C){return new oo(new Te.X(C.url),new Te.X(C.params),new Te.X(C.queryParams),new Te.X(C.fragment),new Te.X(C.data),C.outlet,C.component,C)}(R.value),L=R.children.map(ne=>Ye(C,ne));return new at(T,L)}}const an="ngNavigationCancelingError";function bn(C,R){const{redirectTo:O,navigationBehaviorOptions:T}=nt(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,L=qn(!1,0,R);return L.url=O,L.navigationBehaviorOptions=T,L}function qn(C,R,O){const T=new Error("NavigationCancelingError: "+(C||""));return T[an]=!0,T.cancellationCode=R,O&&(T.url=O),T}function Ui(C){return C&&C[an]}let Ji=(()=>{var C;class R{}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(T,L){1&T&&l._UZ(0,"router-outlet")},dependencies:[co],encapsulation:2}),R})();function ao(C){const R=C.children&&C.children.map(ao),O=R?{...C,children:R}:{...C};return!O.component&&!O.loadComponent&&(R||O.loadChildren)&&O.outlet&&O.outlet!==jt&&(O.component=Ji),O}function Ei(C){return C.outlet||jt}function Vo(C){var R;if(!C)return null;if(null!==(R=C.routeConfig)&&void 0!==R&&R._injector)return C.routeConfig._injector;for(let O=C.parent;O;O=O.parent){const T=O.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class Bo{constructor(R,O,T,L,ne){this.routeReuseStrategy=R,this.futureState=O,this.currState=T,this.forwardEvent=L,this.inputBindingEnabled=ne}activate(R){const O=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,T,R),so(this.futureState.root),this.activateChildRoutes(O,T,R)}deactivateChildRoutes(R,O,T){const L=Un(O);R.children.forEach(ne=>{const Re=ne.value.outlet;this.deactivateRoutes(ne,L[Re],T),delete L[Re]}),Object.values(L).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,T)})}deactivateRoutes(R,O,T){const L=R.value,ne=O?O.value:null;if(L===ne)if(L.component){const Re=T.getContext(L.outlet);Re&&this.deactivateChildRoutes(R,O,Re.children)}else this.deactivateChildRoutes(R,O,T);else ne&&this.deactivateRouteAndItsChildren(O,T)}deactivateRouteAndItsChildren(R,O){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,O):this.deactivateRouteAndOutlet(R,O)}detachAndStoreRouteSubtree(R,O){const T=O.getContext(R.value.outlet),L=T&&R.value.component?T.children:O,ne=Un(R);for(const Re of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Re],L);if(T&&T.outlet){const Re=T.outlet.detach(),yt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Re,route:R,contexts:yt})}}deactivateRouteAndOutlet(R,O){const T=O.getContext(R.value.outlet),L=T&&R.value.component?T.children:O,ne=Un(R);for(const Re of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Re],L);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(R,O,T){const L=Un(O);R.children.forEach(ne=>{this.activateRoutes(ne,L[ne.value.outlet],T),this.forwardEvent(new Xt(ne.value.snapshot))}),R.children.length&&this.forwardEvent(new At(R.value.snapshot))}activateRoutes(R,O,T){const L=R.value,ne=O?O.value:null;if(so(L),L===ne)if(L.component){const Re=T.getOrCreateContext(L.outlet);this.activateChildRoutes(R,O,Re.children)}else this.activateChildRoutes(R,O,T);else if(L.component){const Re=T.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const yt=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Re.children.onOutletReAttached(yt.contexts),Re.attachRef=yt.componentRef,Re.route=yt.route.value,Re.outlet&&Re.outlet.attach(yt.componentRef,yt.route.value),so(yt.route.value),this.activateChildRoutes(R,null,Re.children)}else{const yt=Vo(L.snapshot);Re.attachRef=null,Re.route=L,Re.injector=yt,Re.outlet&&Re.outlet.activateWith(L,Re.injector),this.activateChildRoutes(R,null,Re.children)}}else this.activateChildRoutes(R,null,T)}}class Vr{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Zo{constructor(R,O){this.component=R,this.route=O}}function Zs(C,R,O){const T=C._root;return Fs(T,R?R._root:null,O,[T.value])}function $o(C,R){const O=Symbol(),T=R.get(C,O);return T===O?"function"!=typeof C||(0,l.Z0I)(C)?R.get(C):C:T}function Fs(C,R,O,T,L={canDeactivateChecks:[],canActivateChecks:[]}){const ne=Un(R);return C.children.forEach(Re=>{(function gl(C,R,O,T,L={canDeactivateChecks:[],canActivateChecks:[]}){const ne=C.value,Re=R?R.value:null,yt=O?O.getContext(C.value.outlet):null;if(Re&&ne.routeConfig===Re.routeConfig){const gn=function Uo(C,R,O){if("function"==typeof O)return O(C,R);switch(O){case"pathParamsChange":return!Jn(C.url,R.url);case"pathParamsOrQueryParamsChange":return!Jn(C.url,R.url)||!Zt(C.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yo(C,R)||!Zt(C.queryParams,R.queryParams);default:return!Yo(C,R)}}(Re,ne,ne.routeConfig.runGuardsAndResolvers);gn?L.canActivateChecks.push(new Vr(T)):(ne.data=Re.data,ne._resolvedData=Re._resolvedData),Fs(C,R,ne.component?yt?yt.children:null:O,T,L),gn&&yt&&yt.outlet&&yt.outlet.isActivated&&L.canDeactivateChecks.push(new Zo(yt.outlet.component,Re))}else Re&&Ls(R,yt,L),L.canActivateChecks.push(new Vr(T)),Fs(C,null,ne.component?yt?yt.children:null:O,T,L)})(Re,ne[Re.value.outlet],O,T.concat([Re.value]),L),delete ne[Re.value.outlet]}),Object.entries(ne).forEach(([Re,yt])=>Ls(yt,O.getContext(Re),L)),L}function Ls(C,R,O){const T=Un(C),L=C.value;Object.entries(T).forEach(([ne,Re])=>{Ls(Re,L.component?R?R.children.getContext(ne):null:R,O)}),O.canDeactivateChecks.push(new Zo(L.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,L))}function Aa(C){return"function"==typeof C}function q(C){return C instanceof ot.K||"EmptyError"===(null==C?void 0:C.name)}const k=Symbol("INITIAL_VALUE");function _e(){return(0,Oe.w)(C=>(0,Me.a)(C.map(R=>R.pipe((0,Ce.q)(1),(0,te.O)(k)))).pipe((0,Ve.U)(R=>{for(const O of R)if(!0!==O){if(O===k)return k;if(!1===O||O instanceof ci)return O}return!0}),(0,je.h)(R=>R!==k),(0,Ce.q)(1)))}function fo(C){return(0,Fe.z)((0,Et.b)(R=>{if(nt(R))throw bn(0,R)}),(0,Ve.U)(R=>!0===R))}class Di{constructor(R){this.segmentGroup=R||null}}class aa{constructor(R){this.urlTree=R}}function mi(C){return He(new Di(C))}function jo(C){return He(new aa(C))}class yo{constructor(R,O){this.urlSerializer=R,this.urlTree=O}noMatchError(R){return new l.vHH(4002,!1)}lineralizeSegments(R,O){let T=[],L=O.root;for(;;){if(T=T.concat(L.segments),0===L.numberOfChildren)return(0,Ae.of)(T);if(L.numberOfChildren>1||!L.children[jt])return He(new l.vHH(4e3,!1));L=L.children[jt]}}applyRedirectCommands(R,O,T){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),R,T)}applyRedirectCreateUrlTree(R,O,T,L){const ne=this.createSegmentGroup(R,O.root,T,L);return new ci(ne,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(R,O){const T={};return Object.entries(R).forEach(([L,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const yt=ne.substring(1);T[L]=O[yt]}else T[L]=ne}),T}createSegmentGroup(R,O,T,L){const ne=this.createSegments(R,O.segments,T,L);let Re={};return Object.entries(O.children).forEach(([yt,gn])=>{Re[yt]=this.createSegmentGroup(R,gn,T,L)}),new Cn(ne,Re)}createSegments(R,O,T,L){return O.map(ne=>ne.path.startsWith(":")?this.findPosParam(R,ne,L):this.findOrReturn(ne,T))}findPosParam(R,O,T){const L=T[O.path.substring(1)];if(!L)throw new l.vHH(4001,!1);return L}findOrReturn(R,O){let T=0;for(const L of O){if(L.path===R.path)return O.splice(T),L;T++}return R}}const ps={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fl(C,R,O,T,L){const ne=wi(C,R,O);return ne.matched?(T=function Fo(C,R){var O;return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,R,`Route: ${C.path}`)),null!==(O=C._injector)&&void 0!==O?O:R}(R,T),function sa(C,R,O,T){const L=R.canMatch;if(!L||0===L.length)return(0,Ae.of)(!0);const ne=L.map(Re=>{const yt=$o(Re,C);return jn(function Ti(C){return C&&Aa(C.canMatch)}(yt)?yt.canMatch(R,O):C.runInContext(()=>yt(R,O)))});return(0,Ae.of)(ne).pipe(_e(),fo())}(T,R,O).pipe((0,Ve.U)(Re=>!0===Re?ne:{...ps}))):(0,Ae.of)(ne)}function wi(C,R,O){var T,L;if(""===R.path)return"full"===R.pathMatch&&(C.hasChildren()||O.length>0)?{...ps}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const Re=(R.matcher||bt)(O,C,R);if(!Re)return{...ps};const yt={};Object.entries(null!==(T=Re.posParams)&&void 0!==T?T:{}).forEach(([Rt,In])=>{yt[Rt]=In.path});const gn=Re.consumed.length>0?{...yt,...Re.consumed[Re.consumed.length-1].parameters}:yt;return{matched:!0,consumedSegments:Re.consumed,remainingSegments:O.slice(Re.consumed.length),parameters:gn,positionalParamSegments:null!==(L=Re.posParams)&&void 0!==L?L:{}}}function _l(C,R,O,T){return O.length>0&&function pi(C,R,O){return O.some(T=>gs(C,R,T)&&Ei(T)!==jt)}(C,O,T)?{segmentGroup:new Cn(R,Ll(T,new Cn(O,C.children))),slicedSegments:[]}:0===O.length&&function vl(C,R,O){return O.some(T=>gs(C,R,T))}(C,O,T)?{segmentGroup:new Cn(C.segments,rs(C,0,O,T,C.children)),slicedSegments:O}:{segmentGroup:new Cn(C.segments,C.children),slicedSegments:O}}function rs(C,R,O,T,L){const ne={};for(const Re of T)if(gs(C,O,Re)&&!L[Ei(Re)]){const yt=new Cn([],{});ne[Ei(Re)]=yt}return{...L,...ne}}function Ll(C,R){const O={};O[jt]=R;for(const T of C)if(""===T.path&&Ei(T)!==jt){const L=new Cn([],{});O[Ei(T)]=L}return O}function gs(C,R,O){return(!(C.hasChildren()||R.length>0)||"full"!==O.pathMatch)&&""===O.path}class ca{constructor(R,O,T,L,ne,Re,yt){this.injector=R,this.configLoader=O,this.rootComponentType=T,this.config=L,this.urlTree=ne,this.paramsInheritanceStrategy=Re,this.urlSerializer=yt,this.allowRedirects=!0,this.applyRedirects=new yo(this.urlSerializer,this.urlTree)}noMatchError(R){return new l.vHH(4002,!1)}recognize(){const R=_l(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,jt).pipe(Yt(O=>{if(O instanceof aa)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof Di?this.noMatchError(O):O}),(0,Ve.U)(O=>{const T=new Zr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),L=new at(T,O),ne=new Tn("",L),Re=function Ge(C,R,O=null,T=null){return xe(Tt(C),R,O,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Re),this.inheritParamsAndData(ne._root),{state:ne,tree:Re}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,jt).pipe(Yt(T=>{throw T instanceof Di?this.noMatchError(T):T}))}inheritParamsAndData(R){const O=R.value,T=Wr(O,this.paramsInheritanceStrategy);O.params=Object.freeze(T.params),O.data=Object.freeze(T.data),R.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(R,O,T,L){return 0===T.segments.length&&T.hasChildren()?this.processChildren(R,O,T):this.processSegment(R,O,T,T.segments,L,!0)}processChildren(R,O,T){const L=[];for(const ne of Object.keys(T.children))"primary"===ne?L.unshift(ne):L.push(ne);return(0,Pe.D)(L).pipe((0,dt.b)(ne=>{const Re=T.children[ne],yt=function Ko(C,R){const O=C.filter(T=>Ei(T)===R);return O.push(...C.filter(T=>Ei(T)!==R)),O}(O,ne);return this.processSegmentGroup(R,yt,Re,ne)}),(0,ln.R)((ne,Re)=>(ne.push(...Re),ne)),(0,rn.d)(null),function $e(C,R){const O=arguments.length>=2;return T=>T.pipe(C?(0,je.h)((L,ne)=>C(L,ne,T)):ae.y,fe(1),O?(0,rn.d)(R):(0,ge.T)(()=>new ot.K))}(),(0,Le.z)(ne=>{if(null===ne)return mi(T);const Re=ms(ne);return function Ka(C){C.sort((R,O)=>R.value.outlet===jt?-1:O.value.outlet===jt?1:R.value.outlet.localeCompare(O.value.outlet))}(Re),(0,Ae.of)(Re)}))}processSegment(R,O,T,L,ne,Re){return(0,Pe.D)(O).pipe((0,dt.b)(yt=>{var gn;return this.processSegmentAgainstRoute(null!==(gn=yt._injector)&&void 0!==gn?gn:R,O,yt,T,L,ne,Re).pipe(Yt(Rt=>{if(Rt instanceof Di)return(0,Ae.of)(null);throw Rt}))}),(0,st.P)(yt=>!!yt),Yt(yt=>{if(q(yt))return function Ya(C,R,O){return 0===R.length&&!C.children[O]}(T,L,ne)?(0,Ae.of)([]):mi(T);throw yt}))}processSegmentAgainstRoute(R,O,T,L,ne,Re,yt){return function Ho(C,R,O,T){return!!(Ei(C)===T||T!==jt&&gs(R,O,C))&&("**"===C.path||wi(R,C,O).matched)}(T,L,ne,Re)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(R,L,T,ne,Re,yt):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,L,O,T,ne,Re):mi(L):mi(L)}expandSegmentAgainstRouteUsingRedirect(R,O,T,L,ne,Re){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,T,L,Re):this.expandRegularSegmentAgainstRouteUsingRedirect(R,O,T,L,ne,Re)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,O,T,L){const ne=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?jo(ne):this.applyRedirects.lineralizeSegments(T,ne).pipe((0,Le.z)(Re=>{const yt=new Cn(Re,{});return this.processSegment(R,O,yt,Re,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,O,T,L,ne,Re){const{matched:yt,consumedSegments:gn,remainingSegments:Rt,positionalParamSegments:In}=wi(O,L,ne);if(!yt)return mi(O);const ur=this.applyRedirects.applyRedirectCommands(gn,L.redirectTo,In);return L.redirectTo.startsWith("/")?jo(ur):this.applyRedirects.lineralizeSegments(L,ur).pipe((0,Le.z)(Gr=>this.processSegment(R,T,O,Gr.concat(Rt),Re,!1)))}matchSegmentAgainstRoute(R,O,T,L,ne,Re){let yt;if("**"===T.path){var gn,Rt;const In=L.length>0?Pn(L).parameters:{},ur=new Zr(L,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,po(T),Ei(T),null!==(gn=null!==(Rt=T.component)&&void 0!==Rt?Rt:T._loadedComponent)&&void 0!==gn?gn:null,T,Vs(T));yt=(0,Ae.of)({snapshot:ur,consumedSegments:[],remainingSegments:[]}),O.children={}}else yt=Fl(O,T,L,R).pipe((0,Ve.U)(({matched:In,consumedSegments:ur,remainingSegments:Gr,parameters:sr})=>{var oi,Ao;return In?{snapshot:new Zr(ur,sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,po(T),Ei(T),null!==(oi=null!==(Ao=T.component)&&void 0!==Ao?Ao:T._loadedComponent)&&void 0!==oi?oi:null,T,Vs(T)),consumedSegments:ur,remainingSegments:Gr}:null}));return yt.pipe((0,Oe.w)(In=>{var ur;return null===In?mi(O):(R=null!==(ur=T._injector)&&void 0!==ur?ur:R,this.getChildConfig(R,T,L).pipe((0,Oe.w)(({routes:Gr})=>{var sr;const oi=null!==(sr=T._loadedInjector)&&void 0!==sr?sr:R,{snapshot:Ao,consumedSegments:js,remainingSegments:Vi}=In,{segmentGroup:us,slicedSegments:Jr}=_l(O,js,Vi,Gr);if(0===Jr.length&&us.hasChildren())return this.processChildren(oi,Gr,us).pipe((0,Ve.U)(zo=>null===zo?null:[new at(Ao,zo)]));if(0===Gr.length&&0===Jr.length)return(0,Ae.of)([new at(Ao,[])]);const Qu=Ei(T)===ne;return this.processSegment(oi,Gr,us,Jr,Qu?jt:ne,!0).pipe((0,Ve.U)(zo=>[new at(Ao,zo)]))})))}))}getChildConfig(R,O,T){return O.children?(0,Ae.of)({routes:O.children,injector:R}):O.loadChildren?void 0!==O._loadedRoutes?(0,Ae.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Li(C,R,O,T){const L=R.canLoad;if(void 0===L||0===L.length)return(0,Ae.of)(!0);const ne=L.map(Re=>{const yt=$o(Re,C);return jn(function Xs(C){return C&&Aa(C.canLoad)}(yt)?yt.canLoad(R,O):C.runInContext(()=>yt(R,O)))});return(0,Ae.of)(ne).pipe(_e(),fo())}(R,O,T).pipe((0,Le.z)(L=>L?this.configLoader.loadChildren(R,O).pipe((0,Et.b)(ne=>{O._loadedRoutes=ne.routes,O._loadedInjector=ne.injector})):function la(C){return He(qn(!1,3))}())):(0,Ae.of)({routes:[],injector:R})}}function Yu(C){const R=C.value.routeConfig;return R&&""===R.path}function ms(C){const R=[],O=new Set;for(const T of C){if(!Yu(T)){R.push(T);continue}const L=R.find(ne=>T.value.routeConfig===ne.value.routeConfig);void 0!==L?(L.children.push(...T.children),O.add(L)):R.push(T)}for(const T of O){const L=ms(T.children);R.push(new at(T.value,L))}return R.filter(T=>!O.has(T))}function po(C){return C.data||{}}function Vs(C){return C.resolve||{}}function A(C){return"string"==typeof C.title||null===C.title}function z(C){return(0,Oe.w)(R=>{const O=C(R);return O?(0,Pe.D)(O).pipe((0,Ve.U)(()=>R)):(0,Ae.of)(R)})}const ke=new l.OlP("ROUTES");let U=(()=>{var C;class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Ae.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const L=jn(T.loadComponent()).pipe((0,Ve.U)(Vt),(0,Et.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=Re}),(0,ht.x)(()=>{this.componentLoaders.delete(T)})),ne=new vt(L,()=>new Se.x).pipe(rt());return this.componentLoaders.set(T,ne),ne}loadChildren(T,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,Ae.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const Re=function Ie(C,R,O,T){return jn(C.loadChildren()).pipe((0,Ve.U)(Vt),(0,Le.z)(L=>L instanceof l.YKP||Array.isArray(L)?(0,Ae.of)(L):(0,Pe.D)(R.compileModuleAsync(L))),(0,Ve.U)(L=>{T&&T(C);let ne,Re,yt=!1;return Array.isArray(L)?(Re=L,!0):(ne=L.create(O).injector,Re=ne.get(ke,[],{optional:!0,self:!0}).flat()),{routes:Re.map(ao),injector:ne}}))}(L,this.compiler,T,this.onLoadEndListener).pipe((0,ht.x)(()=>{this.childrenLoaders.delete(L)})),yt=new vt(Re,()=>new Se.x).pipe(rt());return this.childrenLoaders.set(L,yt),yt}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();function Vt(C){return function Je(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let dn=(()=>{var C;class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se.x,this.transitionAbortSubject=new Se.x,this.configLoader=(0,l.f3M)(U),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(On),this.rootContexts=(0,l.f3M)(D),this.inputBindingEnabled=null!==(0,l.f3M)(pe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new Ue(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new re(ne))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var L;const ne=++this.navigationId;null===(L=this.transitions)||void 0===L||L.next({...this.transitions.value,...T,id:ne})}setupNavigations(T,L,ne){return this.transitions=new Te.X({id:0,currentUrlTree:L,currentRawUrl:L,currentBrowserUrl:L,extractedUrl:T.urlHandlingStrategy.extract(L),urlAfterRedirects:T.urlHandlingStrategy.extract(L),rawUrl:L,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pi,restoredState:null,currentSnapshot:ne.snapshot,targetSnapshot:null,currentRouterState:ne,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,je.h)(Re=>0!==Re.id),(0,Ve.U)(Re=>({...Re,extractedUrl:T.urlHandlingStrategy.extract(Re.rawUrl)})),(0,Oe.w)(Re=>{this.currentTransition=Re;let yt=!1,gn=!1;return(0,Ae.of)(Re).pipe((0,Et.b)(Rt=>{this.currentNavigation={id:Rt.id,initialUrl:Rt.rawUrl,extractedUrl:Rt.extractedUrl,trigger:Rt.source,extras:Rt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(Rt=>{var In;const ur=Rt.currentBrowserUrl.toString(),Gr=!T.navigated||Rt.extractedUrl.toString()!==ur||ur!==Rt.currentUrlTree.toString(),sr=null!==(In=Rt.extras.onSameUrlNavigation)&&void 0!==In?In:T.onSameUrlNavigation;if(!Gr&&"reload"!==sr){const oi="";return this.events.next(new ri(Rt.id,this.urlSerializer.serialize(Rt.rawUrl),oi,0)),Rt.resolve(null),Ke.E}if(T.urlHandlingStrategy.shouldProcessUrl(Rt.rawUrl))return(0,Ae.of)(Rt).pipe((0,Oe.w)(oi=>{var Ao,js;const Vi=null===(Ao=this.transitions)||void 0===Ao?void 0:Ao.getValue();return this.events.next(new gi(oi.id,this.urlSerializer.serialize(oi.extractedUrl),oi.source,oi.restoredState)),Vi!==(null===(js=this.transitions)||void 0===js?void 0:js.getValue())?Ke.E:Promise.resolve(oi)}),function yl(C,R,O,T,L,ne){return(0,Le.z)(Re=>function ua(C,R,O,T,L,ne,Re="emptyOnly"){return new ca(C,R,O,T,L,Re,ne).recognize()}(C,R,O,T,Re.extractedUrl,L,ne).pipe((0,Ve.U)(({state:yt,tree:gn})=>({...Re,targetSnapshot:yt,urlAfterRedirects:gn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Et.b)(oi=>{Re.targetSnapshot=oi.targetSnapshot,Re.urlAfterRedirects=oi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:oi.urlAfterRedirects};const Ao=new ro(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(Ao)}));if(Gr&&T.urlHandlingStrategy.shouldProcessUrl(Rt.currentRawUrl)){const{id:oi,extractedUrl:Ao,source:js,restoredState:Vi,extras:us}=Rt,Jr=new gi(oi,this.urlSerializer.serialize(Ao),js,Vi);this.events.next(Jr);const Qu=ei(0,this.rootComponentType).snapshot;return this.currentTransition=Re={...Rt,targetSnapshot:Qu,urlAfterRedirects:Ao,extras:{...us,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(Re)}{const oi="";return this.events.next(new ri(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),oi,1)),Rt.resolve(null),Ke.E}}),(0,Et.b)(Rt=>{const In=new wo(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot);this.events.next(In)}),(0,Ve.U)(Rt=>(this.currentTransition=Re={...Rt,guards:Zs(Rt.targetSnapshot,Rt.currentSnapshot,this.rootContexts)},Re)),function H(C,R){return(0,Le.z)(O=>{const{targetSnapshot:T,currentSnapshot:L,guards:{canActivateChecks:ne,canDeactivateChecks:Re}}=O;return 0===Re.length&&0===ne.length?(0,Ae.of)({...O,guardsResult:!0}):function be(C,R,O,T){return(0,Pe.D)(C).pipe((0,Le.z)(L=>function vo(C,R,O,T,L){const ne=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,Ae.of)(!0);const Re=ne.map(yt=>{var gn;const Rt=null!==(gn=Vo(R))&&void 0!==gn?gn:L,In=$o(yt,Rt);return jn(function uu(C){return C&&Aa(C.canDeactivate)}(In)?In.canDeactivate(C,R,O,T):Rt.runInContext(()=>In(C,R,O,T))).pipe((0,st.P)())});return(0,Ae.of)(Re).pipe(_e())}(L.component,L.route,O,R,T)),(0,st.P)(L=>!0!==L,!0))}(Re,T,L,C).pipe((0,Le.z)(yt=>yt&&function Qo(C){return"boolean"==typeof C}(yt)?function zt(C,R,O,T){return(0,Pe.D)(R).pipe((0,dt.b)(L=>(0,ie.z)(function xi(C,R){return null!==C&&R&&R(new ut(C)),(0,Ae.of)(!0)}(L.route.parent,T),function $n(C,R){return null!==C&&R&&R(new gt(C)),(0,Ae.of)(!0)}(L.route,T),function Ro(C,R,O){const T=R[R.length-1],ne=R.slice(0,R.length-1).reverse().map(Re=>function Qs(C){const R=C.routeConfig?C.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:C,guards:R}:null}(Re)).filter(Re=>null!==Re).map(Re=>Be(()=>{const yt=Re.guards.map(gn=>{var Rt;const In=null!==(Rt=Vo(Re.node))&&void 0!==Rt?Rt:O,ur=$o(gn,In);return jn(function kl(C){return C&&Aa(C.canActivateChild)}(ur)?ur.canActivateChild(T,C):In.runInContext(()=>ur(T,C))).pipe((0,st.P)())});return(0,Ae.of)(yt).pipe(_e())}));return(0,Ae.of)(ne).pipe(_e())}(C,L.path,O),function ai(C,R,O){const T=R.routeConfig?R.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Ae.of)(!0);const L=T.map(ne=>Be(()=>{var Re;const yt=null!==(Re=Vo(R))&&void 0!==Re?Re:O,gn=$o(ne,yt);return jn(function qa(C){return C&&Aa(C.canActivate)}(gn)?gn.canActivate(R,C):yt.runInContext(()=>gn(R,C))).pipe((0,st.P)())}));return(0,Ae.of)(L).pipe(_e())}(C,L.route,O))),(0,st.P)(L=>!0!==L,!0))}(T,ne,C,R):(0,Ae.of)(yt)),(0,Ve.U)(yt=>({...O,guardsResult:yt})))})}(this.environmentInjector,Rt=>this.events.next(Rt)),(0,Et.b)(Rt=>{if(Re.guardsResult=Rt.guardsResult,nt(Rt.guardsResult))throw bn(0,Rt.guardsResult);const In=new ko(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects),Rt.targetSnapshot,!!Rt.guardsResult);this.events.next(In)}),(0,je.h)(Rt=>!!Rt.guardsResult||(this.cancelNavigationTransition(Rt,"",3),!1)),z(Rt=>{if(Rt.guards.canActivateChecks.length)return(0,Ae.of)(Rt).pipe((0,Et.b)(In=>{const ur=new _o(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(ur)}),(0,Oe.w)(In=>{let ur=!1;return(0,Ae.of)(In).pipe(function Bs(C,R){return(0,Le.z)(O=>{const{targetSnapshot:T,guards:{canActivateChecks:L}}=O;if(!L.length)return(0,Ae.of)(O);let ne=0;return(0,Pe.D)(L).pipe((0,dt.b)(Re=>function Vl(C,R,O,T){const L=C.routeConfig,ne=C._resolve;return void 0!==(null==L?void 0:L.title)&&!A(L)&&(ne[An]=L.title),function Bl(C,R,O,T){const L=function As(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===L.length)return(0,Ae.of)({});const ne={};return(0,Pe.D)(L).pipe((0,Le.z)(Re=>function El(C,R,O,T){var L;const ne=null!==(L=Vo(R))&&void 0!==L?L:T,Re=$o(C,ne);return jn(Re.resolve?Re.resolve(R,O):ne.runInContext(()=>Re(R,O)))}(C[Re],R,O,T).pipe((0,st.P)(),(0,Et.b)(yt=>{ne[Re]=yt}))),fe(1),function De(C){return(0,Ve.U)(()=>C)}(ne),Yt(Re=>q(Re)?Ke.E:He(Re)))}(ne,C,R,T).pipe((0,Ve.U)(Re=>(C._resolvedData=Re,C.data=Wr(C,O).resolve,L&&A(L)&&(C.data[An]=L.title),null)))}(Re.route,T,C,R)),(0,Et.b)(()=>ne++),fe(1),(0,Le.z)(Re=>ne===L.length?(0,Ae.of)(O):Ke.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Et.b)({next:()=>ur=!0,complete:()=>{ur||this.cancelNavigationTransition(In,"",2)}}))}),(0,Et.b)(In=>{const ur=new G(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(ur)}))}),z(Rt=>{const In=ur=>{var Gr;const sr=[];null!==(Gr=ur.routeConfig)&&void 0!==Gr&&Gr.loadComponent&&!ur.routeConfig._loadedComponent&&sr.push(this.configLoader.loadComponent(ur.routeConfig).pipe((0,Et.b)(oi=>{ur.component=oi}),(0,Ve.U)(()=>{})));for(const oi of ur.children)sr.push(...In(oi));return sr};return(0,Me.a)(In(Rt.targetSnapshot.root)).pipe((0,rn.d)(),(0,Ce.q)(1))}),z(()=>this.afterPreactivation()),(0,Ve.U)(Rt=>{const In=function ve(C,R,O){const T=Ye(C,R._root,O?O._root:void 0);return new Sr(T,R)}(T.routeReuseStrategy,Rt.targetSnapshot,Rt.currentRouterState);return this.currentTransition=Re={...Rt,targetRouterState:In},Re}),(0,Et.b)(()=>{this.events.next(new Gt)}),((C,R,O,T)=>(0,Ve.U)(L=>(new Bo(R,L.targetRouterState,L.currentRouterState,O,T).activate(C),L)))(this.rootContexts,T.routeReuseStrategy,Rt=>this.events.next(Rt),this.inputBindingEnabled),(0,Ce.q)(1),(0,Et.b)({next:Rt=>{var In;yt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new no(Rt.id,this.urlSerializer.serialize(Rt.extractedUrl),this.urlSerializer.serialize(Rt.urlAfterRedirects))),null===(In=T.titleStrategy)||void 0===In||In.updateTitle(Rt.targetRouterState.snapshot),Rt.resolve(!0)},complete:()=>{yt=!0}}),function kt(C){return(0,Qe.e)((R,O)=>{(0,me.Xf)(C).subscribe((0,ze.x)(O,()=>O.complete(),mt.Z)),!O.closed&&R.subscribe(O)})}(this.transitionAbortSubject.pipe((0,Et.b)(Rt=>{throw Rt}))),(0,ht.x)(()=>{var Rt;yt||gn||this.cancelNavigationTransition(Re,"",1),(null===(Rt=this.currentNavigation)||void 0===Rt?void 0:Rt.id)===Re.id&&(this.currentNavigation=null)}),Yt(Rt=>{if(gn=!0,Ui(Rt))this.events.next(new Co(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Rt.message,Rt.cancellationCode)),function Mi(C){return Ui(C)&&nt(C.url)}(Rt)?this.events.next(new Ft(Rt.url)):Re.resolve(!1);else{var In;this.events.next(new Fi(Re.id,this.urlSerializer.serialize(Re.extractedUrl),Rt,null!==(In=Re.targetSnapshot)&&void 0!==In?In:void 0));try{Re.resolve(T.errorHandler(Rt))}catch(ur){Re.reject(ur)}}return Ke.E}))}))}cancelNavigationTransition(T,L,ne){const Re=new Co(T.id,this.urlSerializer.serialize(T.extractedUrl),L,ne);this.events.next(Re),T.resolve(!1)}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();function Tr(C){return C!==Pi}let vr=(()=>{var C;class R{buildTitle(T){let L,ne=T.root;for(;void 0!==ne;){var Re;L=null!==(Re=this.getResolvedTitleForRoute(ne))&&void 0!==Re?Re:L,ne=ne.children.find(yt=>yt.outlet===jt)}return L}getResolvedTitleForRoute(T){return T.data[An]}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Br)},providedIn:"root"}),R})(),Br=(()=>{var C;class R extends vr{constructor(T){super(),this.title=T}updateTitle(T){const L=this.buildTitle(T);void 0!==L&&this.title.setTitle(L)}}return(C=R).\u0275fac=function(T){return new(T||C)(l.LFG(Wt.Dx))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})(),Gn=(()=>{var C;class R{}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Qr)},providedIn:"root"}),R})();class li{shouldDetach(R){return!1}store(R,O){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,O){return R.routeConfig===O.routeConfig}}let Qr=(()=>{var C;class R extends li{}return(C=R).\u0275fac=function(){let O;return function(L){return(O||(O=l.n5z(C)))(L||C)}}(),C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();const Oi=new l.OlP("",{providedIn:"root",factory:()=>({})});let $s=(()=>{var C;class R{}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Jt)},providedIn:"root"}),R})(),Jt=(()=>{var C;class R{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,L){return T}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();var ii=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(ii||{});function ji(C,R){C.events.pipe((0,je.h)(O=>O instanceof no||O instanceof Co||O instanceof Fi||O instanceof ri),(0,Ve.U)(O=>O instanceof no||O instanceof ri?ii.COMPLETE:O instanceof Co&&(0===O.code||1===O.code)?ii.REDIRECTING:ii.FAILED),(0,je.h)(O=>O!==ii.REDIRECTING),(0,Ce.q)(1)).subscribe(()=>{R()})}function Po(C){throw C}function Nn(C,R,O){return R.parse("/")}const Hn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vn=(()=>{var C;class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var T,L;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(L=this.location.getState())||void 0===L?void 0:L.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}get events(){return this._events}constructor(){var T,L;this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Se.x,this.options=(0,l.f3M)(Oi,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Po,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)($s),this.routeReuseStrategy=(0,l.f3M)(Gn),this.titleStrategy=(0,l.f3M)(vr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(T=null===(L=(0,l.f3M)(ke,{optional:!0}))||void 0===L?void 0:L.flat())&&void 0!==T?T:[],this.navigationTransitions=(0,l.f3M)(dn),this.urlSerializer=(0,l.f3M)(On),this.location=(0,l.f3M)(Xe.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(pe,{optional:!0}),this.eventsSubscription=new Ze.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ci,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ei(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(ne=>{this.lastSuccessfulId=ne.id,this.currentPageId=this.browserPageId},ne=>{this.console.warn(`Unhandled Navigation Error: ${ne}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(L=>{try{const{currentTransition:ne}=this.navigationTransitions;if(null===ne)return void(Qt(L)&&this._events.next(L));if(L instanceof gi)Tr(ne.source)&&(this.browserUrlTree=ne.extractedUrl);else if(L instanceof ri)this.rawUrlTree=ne.rawUrl;else if(L instanceof ro){if("eager"===this.urlUpdateStrategy){if(!ne.extras.skipLocationChange){const Re=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl);this.setBrowserUrl(Re,ne)}this.browserUrlTree=ne.urlAfterRedirects}}else if(L instanceof Gt)this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects);else if(L instanceof Co)0!==L.code&&1!==L.code&&(this.navigated=!0),(3===L.code||2===L.code)&&this.restoreHistory(ne);else if(L instanceof Ft){const Re=this.urlHandlingStrategy.merge(L.url,ne.currentRawUrl),yt={skipLocationChange:ne.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tr(ne.source)};this.scheduleNavigation(Re,Pi,null,yt,{resolve:ne.resolve,reject:ne.reject,promise:ne.promise})}L instanceof Fi&&this.restoreHistory(ne,!0),L instanceof no&&(this.navigated=!0),Qt(L)&&this._events.next(L)}catch(ne){this.navigationTransitions.transitionAbortSubject.next(ne)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pi,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const L="popstate"===T.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,L,T.state)},0)}))}navigateToSyncWithBrowser(T,L,ne){const Re={replaceUrl:!0},yt=null!=ne&&ne.navigationId?ne:null;if(ne){const Rt={...ne};delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(Re.state=Rt)}const gn=this.parseUrl(T);this.scheduleNavigation(gn,L,yt,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(ao),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,L={}){const{relativeTo:ne,queryParams:Re,fragment:yt,queryParamsHandling:gn,preserveFragment:Rt}=L,In=Rt?this.currentUrlTree.fragment:yt;let Gr,ur=null;switch(gn){case"merge":ur={...this.currentUrlTree.queryParams,...Re};break;case"preserve":ur=this.currentUrlTree.queryParams;break;default:ur=Re||null}null!==ur&&(ur=this.removeEmptyProps(ur));try{Gr=Tt(ne?ne.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Gr=this.currentUrlTree.root}return xe(Gr,T,ur,null!=In?In:null)}navigateByUrl(T,L={skipLocationChange:!1}){const ne=nt(T)?T:this.parseUrl(T),Re=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(Re,Pi,null,L)}navigate(T,L={skipLocationChange:!1}){return function xt(C){for(let R=0;R<C.length;R++)if(null==C[R])throw new l.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,L),L)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let L;try{L=this.urlSerializer.parse(T)}catch(ne){L=this.malformedUriErrorHandler(ne,this.urlSerializer,T)}return L}isActive(T,L){let ne;if(ne=!0===L?{...Hn}:!1===L?{...qi}:L,nt(T))return Xn(this.currentUrlTree,T,ne);const Re=this.parseUrl(T);return Xn(this.currentUrlTree,Re,ne)}removeEmptyProps(T){return Object.keys(T).reduce((L,ne)=>{const Re=T[ne];return null!=Re&&(L[ne]=Re),L},{})}scheduleNavigation(T,L,ne,Re,yt){if(this.disposed)return Promise.resolve(!1);let gn,Rt,In;yt?(gn=yt.resolve,Rt=yt.reject,In=yt.promise):In=new Promise((Gr,sr)=>{gn=Gr,Rt=sr});const ur=this.pendingTasks.add();return ji(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ur))}),this.navigationTransitions.handleNavigationRequest({source:L,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:Re,resolve:gn,reject:Rt,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(Gr=>Promise.reject(Gr))}setBrowserUrl(T,L){const ne=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(ne)||L.extras.replaceUrl){const yt={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId)};this.location.replaceState(ne,"",yt)}else{const Re={...L.extras.state,...this.generateNgRouterState(L.id,this.browserPageId+1)};this.location.go(ne,"",Re)}}restoreHistory(T,L=!1){if("computed"===this.canceledNavigationResolution){var ne;const yt=this.currentPageId-this.browserPageId;0!==yt?this.location.historyGo(yt):this.currentUrlTree===(null===(ne=this.getCurrentNavigation())||void 0===ne?void 0:ne.finalUrl)&&0===yt&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,L){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:L}:{navigationId:T}}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();function Qt(C){return!(C instanceof Gt||C instanceof Ft)}let To=(()=>{var C;class R{constructor(T,L,ne,Re,yt,gn){var Rt;this.router=T,this.route=L,this.tabIndexAttribute=ne,this.renderer=Re,this.el=yt,this.locationStrategy=gn,this.href=null,this.commands=null,this.onChanges=new Se.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const In=null===(Rt=yt.nativeElement.tagName)||void 0===Rt?void 0:Rt.toLowerCase();this.isAnchorElement="a"===In||"area"===In,this.isAnchorElement?this.subscription=T.events.subscribe(ur=>{ur instanceof no&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,L,ne,Re,yt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||L||ne||Re||yt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;this.href=null!==this.urlTree&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const L=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",L)}applyAttributeValue(T,L){const ne=this.renderer,Re=this.el.nativeElement;null!==L?ne.setAttribute(Re,T,L):ne.removeAttribute(Re,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(C=R).\u0275fac=function(T){return new(T||C)(l.Y36(vn),l.Y36(oo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Xe.S$))},C.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,L){1&T&&l.NdJ("click",function(Re){return L.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&T&&l.uIk("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),R})();class bo{}let Ul=(()=>{var C;class R{preload(T,L){return L().pipe(Yt(()=>(0,Ae.of)(null)))}}return(C=R).\u0275fac=function(T){return new(T||C)},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})(),Ku=(()=>{var C;class R{constructor(T,L,ne,Re,yt){this.router=T,this.injector=ne,this.preloadingStrategy=Re,this.loader=yt}setUpPreloading(){this.subscription=this.router.events.pipe((0,je.h)(T=>T instanceof no),(0,dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,L){const ne=[];for(const Rt of L){var Re,yt;Rt.providers&&!Rt._injector&&(Rt._injector=(0,l.MMx)(Rt.providers,T,`Route: ${Rt.path}`));const In=null!==(Re=Rt._injector)&&void 0!==Re?Re:T,ur=null!==(yt=Rt._loadedInjector)&&void 0!==yt?yt:In;var gn;(Rt.loadChildren&&!Rt._loadedRoutes&&void 0===Rt.canLoad||Rt.loadComponent&&!Rt._loadedComponent)&&ne.push(this.preloadConfig(In,Rt)),(Rt.children||Rt._loadedRoutes)&&ne.push(this.processRoutes(ur,null!==(gn=Rt.children)&&void 0!==gn?gn:Rt._loadedRoutes))}return(0,Pe.D)(ne).pipe((0,St.J)())}preloadConfig(T,L){return this.preloadingStrategy.preload(L,()=>{let ne;ne=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(T,L):(0,Ae.of)(null);const Re=ne.pipe((0,Le.z)(yt=>{var gn;return null===yt?(0,Ae.of)(void 0):(L._loadedRoutes=yt.routes,L._loadedInjector=yt.injector,this.processRoutes(null!==(gn=yt.injector)&&void 0!==gn?gn:T,yt.routes))}));if(L.loadComponent&&!L._loadedComponent){const yt=this.loader.loadComponent(L);return(0,Pe.D)([Re,yt]).pipe((0,St.J)())}return Re})}}return(C=R).\u0275fac=function(T){return new(T||C)(l.LFG(vn),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(bo),l.LFG(U))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),R})();const ls=new l.OlP("");let Sa=(()=>{var C;class R{constructor(T,L,ne,Re,yt={}){this.urlSerializer=T,this.transitions=L,this.viewportScroller=ne,this.zone=Re,this.options=yt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},yt.scrollPositionRestoration=yt.scrollPositionRestoration||"disabled",yt.anchorScrolling=yt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof no?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof ri&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof nn&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,L){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nn(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))})},0)})}ngOnDestroy(){var T,L;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(L=this.scrollEventsSubscription)||void 0===L||L.unsubscribe()}}return(C=R).\u0275fac=function(T){l.$Z()},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac}),R})();function Us(C,R){return{\u0275kind:C,\u0275providers:R}}function Zn(){const C=(0,l.f3M)(l.zs3);return R=>{var O,T;const L=C.get(l.z2F);if(R!==L.components[0])return;const ne=C.get(vn),Re=C.get(Ra);1===C.get(ti)&&ne.initialNavigation(),null===(O=C.get(da,null,l.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(T=C.get(ls,null,l.XFs.Optional))||void 0===T||T.init(),ne.resetRootComponentType(L.componentTypes[0]),Re.closed||(Re.next(),Re.complete(),Re.unsubscribe())}}const Ra=new l.OlP("",{factory:()=>new Se.x}),ti=new l.OlP("",{providedIn:"root",factory:()=>1}),da=new l.OlP("");function Bc(C){return Us(0,[{provide:da,useExisting:Ku},{provide:bo,useExisting:C}])}const uo=new l.OlP("ROUTER_FORROOT_GUARD"),_i=[Xe.Ye,{provide:On,useClass:gr},vn,D,{provide:oo,useFactory:function Lc(C){return C.routerState.root},deps:[vn]},U,[]];function Qn(){return new l.PXZ("Router",vn)}let xr=(()=>{var C;class R{constructor(T){}static forRoot(T,L){return{ngModule:R,providers:[_i,[],{provide:ke,multi:!0,useValue:T},{provide:uo,useFactory:Cl,deps:[[vn,new l.FiY,new l.tp0]]},{provide:Oi,useValue:L||{}},null!=L&&L.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:ls,useFactory:()=>{const C=(0,l.f3M)(Xe.EM),R=(0,l.f3M)(l.R0b),O=(0,l.f3M)(Oi),T=(0,l.f3M)(dn),L=(0,l.f3M)(On);return O.scrollOffset&&C.setOffset(O.scrollOffset),new Sa(L,T,C,R,O)}},null!=L&&L.preloadingStrategy?Bc(L.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Qn},null!=L&&L.initialNavigation?Dt(L):[],null!=L&&L.bindToComponentInputs?Us(8,[Y,{provide:pe,useExisting:Y}]).\u0275providers:[],[{provide:Pa,useFactory:Zn},{provide:l.tb,multi:!0,useExisting:Pa}]]}}static forChild(T){return{ngModule:R,providers:[{provide:ke,multi:!0,useValue:T}]}}}return(C=R).\u0275fac=function(T){return new(T||C)(l.LFG(uo,8))},C.\u0275mod=l.oAB({type:C}),C.\u0275inj=l.cJS({}),R})();function Cl(C){return"guarded"}function Dt(C){return["disabled"===C.initialNavigation?Us(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const R=(0,l.f3M)(vn);return()=>{R.setUpLocationChangeListener()}}},{provide:ti,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?Us(2,[{provide:ti,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:R=>{const O=R.get(Xe.V_,Promise.resolve());return()=>O.then(()=>new Promise(T=>{const L=R.get(vn),ne=R.get(Ra);ji(L,()=>{T(!0)}),R.get(dn).afterPreactivation=()=>(T(!0),ne.closed?(0,Ae.of)(void 0):ne),L.initialNavigation()}))}}]).\u0275providers:[]]}const Pa=new l.OlP("")},3106:(cn,ft,N)=>{"use strict";N.d(ft,{Z:()=>Ke});var l=N(9058),V=N(4537),ee=N(534),de=N(7879);class Pe{constructor(Qe,ze){this._delegate=Qe,this.firebase=ze,(0,ee._addComponent)(Qe,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Qe,ze=ee._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Qe);return!vt.isInitialized()&&"EXPLICIT"===(null===(rt=vt.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:ze})}_removeServiceInstance(Qe,ze=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(ze)}_addComponent(Qe){(0,ee._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,ee._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function ot(){const Ze=function Me(Ze){const Qe={},ze={__esModule:!0,initializeApp:function Se(Ce,te={}){const je=ee.initializeApp(Ce,te);if((0,l.r3)(Qe,je.name))return Qe[je.name];const Le=new Ze(je,ze);return Qe[je.name]=Le,Le},app:vt,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function Ve(Ce){const te=Ce.name,je=te.replace("-compat","");if(ee._registerComponent(Ce)&&"PUBLIC"===Ce.type){const Le=(st=vt())=>{if("function"!=typeof st[je])throw Te.create("invalid-app-argument",{appName:te});return st[je]()};void 0!==Ce.serviceProps&&(0,l.ZB)(Le,Ce.serviceProps),ze[je]=Le,Ze.prototype[je]=function(...st){return this._getService.bind(this,te).apply(this,Ce.multipleInstances?st:[])}}return"PUBLIC"===Ce.type?ze[je]:null},removeApp:function rt(Ce){delete Qe[Ce]},useAsService:function Oe(Ce,te){return"serverAuth"===te?null:te},modularAPIs:ee}};function vt(Ce){if(!(0,l.r3)(Qe,Ce=Ce||ee._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ce});return Qe[Ce]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function Xe(){return Object.keys(Qe).map(Ce=>Qe[Ce])}}),vt.App=Ze,ze}(Pe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:ot,extendNamespace:function Qe(ze){(0,l.ZB)(Ze,ze)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ze}(),me=new de.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=ie;!function He(Ze){(0,ee.registerVersion)("@firebase/app-compat","0.2.23",Ze)}()},534:(cn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Si,_DEFAULT_ENTRY_NAME:()=>Dn,_addComponent:()=>Pr,_addOrOverwriteComponent:()=>ci,_apps:()=>Vn,_clearComponents:()=>Jn,_components:()=>fr,_getProvider:()=>mr,_registerComponent:()=>Cn,_removeServiceInstance:()=>Xi,deleteApp:()=>Cr,getApp:()=>Dr,getApps:()=>er,initializeApp:()=>Kr,onLog:()=>Lr,registerVersion:()=>di,setLogLevel:()=>Ri});var l=N(5861),V=N(4537),ee=N(7879),de=N(9058);const Pe=(xe,qe)=>qe.some(ct=>xe instanceof ct);let Ae,Te;const ie=new WeakMap,me=new WeakMap,Be=new WeakMap,Fe=new WeakMap,He=new WeakMap;let Qe={get(xe,qe,ct){if(xe instanceof IDBTransaction){if("done"===qe)return me.get(xe);if("objectStoreNames"===qe)return xe.objectStoreNames||Be.get(xe);if("store"===qe)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Se(xe[qe])},set:(xe,qe,ct)=>(xe[qe]=ct,!0),has:(xe,qe)=>xe instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in xe};function vt(xe){return"function"==typeof xe?function rt(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ot(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...qe){return xe.apply(Xe(this),qe),Se(ie.get(this))}:function(...qe){return Se(xe.apply(Xe(this),qe))}:function(qe,...ct){const Lt=xe.call(Xe(this),qe,...ct);return Be.set(Lt,qe.sort?qe.sort():[qe]),Se(Lt)}}(xe):(xe instanceof IDBTransaction&&function Ze(xe){if(me.has(xe))return;const qe=new Promise((ct,Lt)=>{const Ot=()=>{xe.removeEventListener("complete",hn),xe.removeEventListener("error",En),xe.removeEventListener("abort",En)},hn=()=>{ct(),Ot()},En=()=>{Lt(xe.error||new DOMException("AbortError","AbortError")),Ot()};xe.addEventListener("complete",hn),xe.addEventListener("error",En),xe.addEventListener("abort",En)});me.set(xe,qe)}(xe),Pe(xe,function Me(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,Qe):xe)}function Se(xe){if(xe instanceof IDBRequest)return function Ke(xe){const qe=new Promise((ct,Lt)=>{const Ot=()=>{xe.removeEventListener("success",hn),xe.removeEventListener("error",En)},hn=()=>{ct(Se(xe.result)),Ot()},En=()=>{Lt(xe.error),Ot()};xe.addEventListener("success",hn),xe.addEventListener("error",En)});return qe.then(ct=>{ct instanceof IDBCursor&&ie.set(ct,xe)}).catch(()=>{}),He.set(qe,xe),qe}(xe);if(Fe.has(xe))return Fe.get(xe);const qe=vt(xe);return qe!==xe&&(Fe.set(xe,qe),He.set(qe,xe)),qe}const Xe=xe=>He.get(xe),Ce=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],je=new Map;function Le(xe,qe){if(!(xe instanceof IDBDatabase)||qe in xe||"string"!=typeof qe)return;if(je.get(qe))return je.get(qe);const ct=qe.replace(/FromIndex$/,""),Lt=qe!==ct,Ot=te.includes(ct);if(!(ct in(Lt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Ce.includes(ct))return;const hn=function(){var En=(0,l.Z)(function*(cr,..._r){const ir=this.transaction(cr,Ot?"readwrite":"readonly");let Or=ir.store;return Lt&&(Or=Or.index(_r.shift())),(yield Promise.all([Or[ct](..._r),Ot&&ir.done]))[0]});return function(_r){return En.apply(this,arguments)}}();return je.set(qe,hn),hn}!function ze(xe){Qe=xe(Qe)}(xe=>({...xe,get:(qe,ct,Lt)=>Le(qe,ct)||xe.get(qe,ct,Lt),has:(qe,ct)=>!!Le(qe,ct)||xe.has(qe,ct)}));class st{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function dt(xe){const qe=xe.getComponent();return"VERSION"===(null==qe?void 0:qe.type)}(ct)){const Lt=ct.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(ct=>ct).join(" ")}}const Et="@firebase/app",ln=new ee.Yd("@firebase/app"),Dn="[DEFAULT]",Kn={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vn=new Map,fr=new Map;function Pr(xe,qe){try{xe.container.addComponent(qe)}catch(ct){ln.debug(`Component ${qe.name} failed to register with FirebaseApp ${xe.name}`,ct)}}function ci(xe,qe){xe.container.addOrOverwriteComponent(qe)}function Cn(xe){const qe=xe.name;if(fr.has(qe))return ln.debug(`There were multiple attempts to register component ${qe}.`),!1;fr.set(qe,xe);for(const ct of Vn.values())Pr(ct,xe);return!0}function mr(xe,qe){const ct=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),xe.container.getProvider(qe)}function Xi(xe,qe,ct=Dn){mr(xe,qe).clearInstance(ct)}function Jn(){fr.clear()}const On=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gr{constructor(qe,ct,Lt){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const Si="10.6.0";function Kr(xe,qe={}){let ct=xe;"object"!=typeof qe&&(qe={name:qe});const Lt=Object.assign({name:Dn,automaticDataCollectionEnabled:!1},qe),Ot=Lt.name;if("string"!=typeof Ot||!Ot)throw On.create("bad-app-name",{appName:String(Ot)});if(ct||(ct=(0,de.aH)()),!ct)throw On.create("no-options");const hn=Vn.get(Ot);if(hn){if((0,de.vZ)(ct,hn.options)&&(0,de.vZ)(Lt,hn.config))return hn;throw On.create("duplicate-app",{appName:Ot})}const En=new V.H0(Ot);for(const _r of fr.values())En.addComponent(_r);const cr=new gr(ct,Lt,En);return Vn.set(Ot,cr),cr}function Dr(xe=Dn){const qe=Vn.get(xe);if(!qe&&xe===Dn&&(0,de.aH)())return Kr();if(!qe)throw On.create("no-app",{appName:xe});return qe}function er(){return Array.from(Vn.values())}function Cr(xe){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(xe){const qe=xe.name;Vn.has(qe)&&(Vn.delete(qe),yield Promise.all(xe.container.getProviders().map(ct=>ct.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function di(xe,qe,ct){var Lt;let Ot=null!==(Lt=Kn[xe])&&void 0!==Lt?Lt:xe;ct&&(Ot+=`-${ct}`);const hn=Ot.match(/\s|\//),En=qe.match(/\s|\//);if(hn||En){const cr=[`Unable to register library "${Ot}" with version "${qe}":`];return hn&&cr.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),hn&&En&&cr.push("and"),En&&cr.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void ln.warn(cr.join(" "))}Cn(new V.wA(`${Ot}-version`,()=>({library:Ot,version:qe}),"VERSION"))}function Lr(xe,qe){if(null!==xe&&"function"!=typeof xe)throw On.create("invalid-log-argument");(0,ee.Am)(xe,qe)}function Ri(xe){(0,ee.Ub)(xe)}const hi="firebase-heartbeat-database",Gi=1,it="firebase-heartbeat-store";let le=null;function j(){return le||(le=function Ve(xe,qe,{blocked:ct,upgrade:Lt,blocking:Ot,terminated:hn}={}){const En=indexedDB.open(xe,qe),cr=Se(En);return Lt&&En.addEventListener("upgradeneeded",_r=>{Lt(Se(En.result),_r.oldVersion,_r.newVersion,Se(En.transaction),_r)}),ct&&En.addEventListener("blocked",_r=>ct(_r.oldVersion,_r.newVersion,_r)),cr.then(_r=>{hn&&_r.addEventListener("close",()=>hn()),Ot&&_r.addEventListener("versionchange",ir=>Ot(ir.oldVersion,ir.newVersion,ir))}).catch(()=>{}),cr}(hi,Gi,{upgrade:(xe,qe)=>{0===qe&&xe.createObjectStore(it)}}).catch(xe=>{throw On.create("idb-open",{originalErrorMessage:xe.message})})),le}function $(){return($=(0,l.Z)(function*(xe){try{return yield(yield j()).transaction(it).objectStore(it).get(Ct(xe))}catch(qe){if(qe instanceof de.ZR)ln.warn(qe.message);else{const ct=On.create("idb-get",{originalErrorMessage:null==qe?void 0:qe.message});ln.warn(ct.message)}}})).apply(this,arguments)}function Ee(xe,qe){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(xe,qe){try{const Lt=(yield j()).transaction(it,"readwrite");yield Lt.objectStore(it).put(qe,Ct(xe)),yield Lt.done}catch(ct){if(ct instanceof de.ZR)ln.warn(ct.message);else{const Lt=On.create("idb-set",{originalErrorMessage:null==ct?void 0:ct.message});ln.warn(Lt.message)}}})).apply(this,arguments)}function Ct(xe){return`${xe.name}!${xe.options.appId}`}class Bn{constructor(qe){this.container=qe,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new nt(ct),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var qe=this;return(0,l.Z)(function*(){var ct;const Ot=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Fn();if(null==(null===(ct=qe._heartbeatsCache)||void 0===ct?void 0:ct.heartbeats)&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==hn&&!qe._heartbeatsCache.heartbeats.some(En=>En.date===hn))return qe._heartbeatsCache.heartbeats.push({date:hn,agent:Ot}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(En=>{const cr=new Date(En.date).valueOf();return Date.now()-cr<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,l.Z)(function*(){var ct;if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null==(null===(ct=qe._heartbeatsCache)||void 0===ct?void 0:ct.heartbeats)||0===qe._heartbeatsCache.heartbeats.length)return"";const Lt=Fn(),{heartbeatsToSend:Ot,unsentEntries:hn}=function ar(xe,qe=1024){const ct=[];let Lt=xe.slice();for(const Ot of xe){const hn=ct.find(En=>En.agent===Ot.agent);if(hn){if(hn.dates.push(Ot.date),Ge(ct)>qe){hn.dates.pop();break}}else if(ct.push({agent:Ot.agent,dates:[Ot.date]}),Ge(ct)>qe){ct.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:ct,unsentEntries:Lt}}(qe._heartbeatsCache.heartbeats),En=(0,de.L)(JSON.stringify({version:2,heartbeats:Ot}));return qe._heartbeatsCache.lastSentHeartbeatDate=Lt,hn.length>0?(qe._heartbeatsCache.heartbeats=hn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),En})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class nt{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,l.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function Z(xe){return $.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var ct=this;return(0,l.Z)(function*(){var Lt;if(yield ct._canUseIndexedDBPromise){const hn=yield ct.read();return Ee(ct.app,{lastSentHeartbeatDate:null!==(Lt=qe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:hn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var ct=this;return(0,l.Z)(function*(){var Lt;if(yield ct._canUseIndexedDBPromise){const hn=yield ct.read();return Ee(ct.app,{lastSentHeartbeatDate:null!==(Lt=qe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:hn.lastSentHeartbeatDate,heartbeats:[...hn.heartbeats,...qe.heartbeats]})}})()}}function Ge(xe){return(0,de.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function Tt(xe){Cn(new V.wA("platform-logger",qe=>new st(qe),"PRIVATE")),Cn(new V.wA("heartbeat",qe=>new Bn(qe),"PRIVATE")),di(Et,"0.9.23",xe),di(Et,"0.9.23","esm2017"),di("fire-js","")}("")},4537:(cn,ft,N)=>{"use strict";N.d(ft,{H0:()=>Me,wA:()=>ee});var l=N(5861),V=N(9058);class ee{constructor(ie,me,Be){this.name=ie,this.instanceFactory=me,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const de="[DEFAULT]";class Pe{constructor(ie,me){this.name=ie,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const me=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(me)){const Be=new V.BH;if(this.instancesDeferred.set(me,Be),this.isInitialized(me)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:me});Fe&&Be.resolve(Fe)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ie){var me;const Be=this.normalizeInstanceIdentifier(null==ie?void 0:ie.identifier),Fe=null!==(me=null==ie?void 0:ie.optional)&&void 0!==me&&me;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(He){if(Fe)return null;throw He}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Te(ot){return"EAGER"===ot.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[me,Be]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(me);try{const He=this.getOrInitializeService({instanceIdentifier:Fe});Be.resolve(He)}catch{}}}}clearInstance(ie=de){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,l.Z)(function*(){const me=Array.from(ie.instances.values());yield Promise.all([...me.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...me.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=de){return this.instances.has(ie)}getOptions(ie=de){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:me={}}=ie,Be=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Be,options:me});for(const[He,Ke]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(He)&&Ke.resolve(Fe);return Fe}onInit(ie,me){var Be;const Fe=this.normalizeInstanceIdentifier(me),He=null!==(Be=this.onInitCallbacks.get(Fe))&&void 0!==Be?Be:new Set;He.add(ie),this.onInitCallbacks.set(Fe,He);const Ke=this.instances.get(Fe);return Ke&&ie(Ke,Fe),()=>{He.delete(ie)}}invokeOnInitCallbacks(ie,me){const Be=this.onInitCallbacks.get(me);if(Be)for(const Fe of Be)try{Fe(ie,me)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:me={}}){let Be=this.instances.get(ie);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(ot=ie,ot===de?void 0:ot),options:me}),this.instances.set(ie,Be),this.instancesOptions.set(ie,me),this.invokeOnInitCallbacks(Be,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Be)}catch{}var ot;return Be||null}normalizeInstanceIdentifier(ie=de){return this.component?this.component.multipleInstances?ie:de:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const me=this.getProvider(ie.name);if(me.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);me.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const me=new Pe(ie,this);return this.providers.set(ie,me),me}getProviders(){return Array.from(this.providers.values())}}},7879:(cn,ft,N)=>{"use strict";N.d(ft,{Am:()=>ot,Ub:()=>Me,Yd:()=>Te,in:()=>V});const l=[];var V=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(V||{});const ee={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},de=V.INFO,Pe={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Ae=(ie,me,...Be)=>{if(me<ie.logLevel)return;const Fe=(new Date).toISOString(),He=Pe[me];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[He](`[${Fe}]  ${ie.name}:`,...Be)};class Te{constructor(me){this.name=me,this._logLevel=de,this._logHandler=Ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in V))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?ee[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...me),this._logHandler(this,V.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...me),this._logHandler(this,V.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,V.INFO,...me),this._logHandler(this,V.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,V.WARN,...me),this._logHandler(this,V.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...me),this._logHandler(this,V.ERROR,...me)}}function Me(ie){l.forEach(me=>{me.setLogLevel(ie)})}function ot(ie,me){for(const Be of l){let Fe=null;me&&me.level&&(Fe=ee[me.level]),Be.userLogHandler=null===ie?null:(He,Ke,...Ze)=>{const Qe=Ze.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");Ke>=(null!=Fe?Fe:He.logLevel)&&ie({level:V[Ke].toLowerCase(),message:Qe,args:Ze,type:He.name})}}}},4414:(cn,ft,N)=>{"use strict";N.d(ft,{Br:()=>sn,y4:()=>ir,De:()=>hn,dy:()=>En,oU:()=>Un,ki:()=>wo,O1:()=>Wr,d8:()=>ri,jP:()=>fn,UN:()=>ks,r4:()=>co,HT:()=>Kt,_q:()=>Bn,SH:()=>qe,xs:()=>Ct,j:()=>Sr,H:()=>ei,bk:()=>Tn,DN:()=>x,Wn:()=>Zr,vk:()=>tr});var l=N(5861),V=N(5879),ee=N(3630);const Te=ue=>({create:pe=>Qe(ue,pe),dismiss:(pe,Y,ve)=>Oe(document,pe,Y,ue,ve),getTop:()=>(0,l.Z)(function*(){return je(document,ue)})()}),Me=Te("ion-alert"),ie=Te("ion-loading"),Qe=(ue,pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ue).then(()=>{const Y=document.createElement(ue);return Y.classList.add("overlay-hidden"),Object.assign(Y,Object.assign(Object.assign({},pe),{hasController:!0})),Yt(document).appendChild(Y),new Promise(ve=>(0,ee.c)(Y,ve))}):Promise.resolve(),Oe=(ue,pe,Y,ve,Ye)=>{const Bt=je(ue,ve,Ye);return Bt?Bt.dismiss(pe,Y):Promise.reject("overlay does not exist")},je=(ue,pe,Y)=>{const ve=((ue,pe)=>((ue,pe)=>(void 0===pe&&(pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ue.querySelectorAll(pe)).filter(Y=>Y.overlayIndex>0)))(ue,pe).filter(Y=>!(ue=>ue.classList.contains("overlay-hidden"))(Y)))(ue,pe);return void 0===Y?ve[ve.length-1]:ve.find(Ye=>Ye.id===Y)},Yt=ue=>ue.querySelector("ion-app")||ue.body;class St{constructor(){this.m=new Map}reset(pe){this.m=new Map(Object.entries(pe))}get(pe,Y){const ve=this.m.get(pe);return void 0!==ve?ve:Y}getBoolean(pe,Y=!1){const ve=this.m.get(pe);return void 0===ve?Y:"string"==typeof ve?"true"===ve:!!ve}getNumber(pe,Y){const ve=parseFloat(this.m.get(pe));return isNaN(ve)?void 0!==Y?Y:NaN:ve}set(pe,Y){this.m.set(pe,Y)}}const Wt=new St,Zt=ue=>Pn(ue),Pn=(ue=window)=>{if(typeof ue>"u")return[];ue.Ionic=ue.Ionic||{};let pe=ue.Ionic.platforms;return null==pe&&(pe=ue.Ionic.platforms=jn(ue),pe.forEach(Y=>ue.document.documentElement.classList.add(`plt-${Y}`))),pe},jn=ue=>{const pe=Wt.get("platform");return Object.keys(Si).filter(Y=>{const ve=null==pe?void 0:pe[Y];return"function"==typeof ve?ve(ue):Si[Y](ue)})},Mn=ue=>!!(On(ue,/iPad/i)||On(ue,/Macintosh/i)&&Pr(ue)),Dn=ue=>On(ue,/android|sink/i),Pr=ue=>gr(ue,"(any-pointer:coarse)"),Cn=ue=>mr(ue)||Xi(ue),mr=ue=>!!(ue.cordova||ue.phonegap||ue.PhoneGap),Xi=ue=>{const pe=ue.Capacitor;return!(null==pe||!pe.isNative)},On=(ue,pe)=>pe.test(ue.navigator.userAgent),gr=(ue,pe)=>{var Y;return null===(Y=ue.matchMedia)||void 0===Y?void 0:Y.call(ue,pe).matches},Si={ipad:Mn,iphone:ue=>On(ue,/iPhone/i),ios:ue=>On(ue,/iPhone|iPod/i)||Mn(ue),android:Dn,phablet:ue=>{const pe=ue.innerWidth,Y=ue.innerHeight,ve=Math.min(pe,Y),Ye=Math.max(pe,Y);return ve>390&&ve<520&&Ye>620&&Ye<800},tablet:ue=>{const pe=ue.innerWidth,Y=ue.innerHeight,ve=Math.min(pe,Y),Ye=Math.max(pe,Y);return Mn(ue)||(ue=>Dn(ue)&&!On(ue,/mobile/i))(ue)||ve>460&&ve<820&&Ye>780&&Ye<1400},cordova:mr,capacitor:Xi,electron:ue=>On(ue,/electron/i),pwa:ue=>{var pe;return!!(null!==(pe=ue.matchMedia)&&void 0!==pe&&pe.call(ue,"(display-mode: standalone)").matches||ue.navigator.standalone)},mobile:Pr,mobileweb:ue=>Pr(ue)&&!Cn(ue),desktop:ue=>!Pr(ue),hybrid:Cn};var Cr=N(191),wr=N(2692),di=N(6814),Lr=N(8645),Ri=N(2438),hi=N(5619),Gi=N(2572),it=N(2096),le=N(7582),j=N(2181),Z=N(4664),$=N(3997),Ee=N(95);const et=["tabsInner"];class Ct{constructor(pe){this.ctrl=pe}create(pe){return this.ctrl.create(pe||{})}dismiss(pe,Y,ve){return this.ctrl.dismiss(pe,Y,ve)}getTop(){return this.ctrl.getTop()}}let sn=(()=>{class ue extends Ct{constructor(){super(Me)}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),Kt=(()=>{class ue extends Ct{constructor(){super(ie)}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();class Bn{constructor(pe){this.menuController=pe}open(pe){return this.menuController.open(pe)}close(pe){return this.menuController.close(pe)}toggle(pe){return this.menuController.toggle(pe)}enable(pe,Y){return this.menuController.enable(pe,Y)}swipeGesture(pe,Y){return this.menuController.swipeGesture(pe,Y)}isOpen(pe){return this.menuController.isOpen(pe)}isEnabled(pe){return this.menuController.isEnabled(pe)}get(pe){return this.menuController.get(pe)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}}let Ge=(()=>{class ue{constructor(Y,ve){this.doc=Y,this.backButton=new Lr.x,this.keyboardDidShow=new Lr.x,this.keyboardDidHide=new Lr.x,this.pause=new Lr.x,this.resume=new Lr.x,this.resize=new Lr.x,ve.run(()=>{var Ye;let Bt;this.win=Y.defaultView,this.backButton.subscribeWithPriority=function(_n,an){return this.subscribe(bn=>bn.register(_n,qn=>ve.run(()=>an(qn))))},xe(this.pause,Y,"pause",ve),xe(this.resume,Y,"resume",ve),xe(this.backButton,Y,"ionBackButton",ve),xe(this.resize,this.win,"resize",ve),xe(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ve),xe(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ve),this._readyPromise=new Promise(_n=>{Bt=_n}),null!==(Ye=this.win)&&void 0!==Ye&&Ye.cordova?Y.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(Y){return((ue,pe)=>("string"==typeof ue&&(pe=ue,ue=void 0),Zt(ue).includes(pe)))(this.win,Y)}platforms(){return Zt(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Y){return Tt(this.win.location.href,Y)}isLandscape(){return!this.isPortrait()}isPortrait(){var Y,ve;return null===(Y=(ve=this.win).matchMedia)||void 0===Y?void 0:Y.call(ve,"(orientation: portrait)").matches}testUserAgent(Y){const ve=this.win.navigator;return!!(null!=ve&&ve.userAgent&&ve.userAgent.indexOf(Y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.LFG(di.K0),V.LFG(V.R0b))},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const Tt=(ue,pe)=>{pe=pe.replace(/[[\]\\]/g,"\\$&");const ve=new RegExp("[\\?&]"+pe+"=([^&#]*)").exec(ue);return ve?decodeURIComponent(ve[1].replace(/\+/g," ")):null},xe=(ue,pe,Y,ve)=>{pe&&pe.addEventListener(Y,Ye=>{ve.run(()=>{ue.next(null!=Ye?Ye.detail:void 0)})})};let qe=(()=>{class ue{constructor(Y,ve,Ye,Bt){this.location=ve,this.serializer=Ye,this.router=Bt,this.direction=Lt,this.animated=Ot,this.guessDirection="forward",this.lastNavId=-1,Bt&&Bt.events.subscribe(_n=>{if(_n instanceof wr.OD){const an=_n.restoredState?_n.restoredState.navigationId:_n.id;this.guessDirection=an<this.lastNavId?"back":"forward",this.guessAnimation=_n.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?_n.id:an}}),Y.backButton.subscribeWithPriority(0,_n=>{this.pop(),_n()})}navigateForward(Y,ve={}){return this.setDirection("forward",ve.animated,ve.animationDirection,ve.animation),this.navigate(Y,ve)}navigateBack(Y,ve={}){return this.setDirection("back",ve.animated,ve.animationDirection,ve.animation),this.navigate(Y,ve)}navigateRoot(Y,ve={}){return this.setDirection("root",ve.animated,ve.animationDirection,ve.animation),this.navigate(Y,ve)}back(Y={animated:!0,animationDirection:"back"}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.location.back()}pop(){var Y=this;return(0,l.Z)(function*(){let ve=Y.topOutlet;for(;ve;){if(yield ve.pop())return!0;ve=ve.parentOutlet}return!1})()}setDirection(Y,ve,Ye,Bt){this.direction=Y,this.animated=ct(Y,ve,Ye),this.animationBuilder=Bt}setTopOutlet(Y){this.topOutlet=Y}consumeTransition(){let ve,Y="root";const Ye=this.animationBuilder;return"auto"===this.direction?(Y=this.guessDirection,ve=this.guessAnimation):(ve=this.animated,Y=this.direction),this.direction=Lt,this.animated=Ot,this.animationBuilder=void 0,{direction:Y,animation:ve,animationBuilder:Ye}}navigate(Y,ve){if(Array.isArray(Y))return this.router.navigate(Y,ve);{const Ye=this.serializer.parse(Y.toString());return void 0!==ve.queryParams&&(Ye.queryParams={...ve.queryParams}),void 0!==ve.fragment&&(Ye.fragment=ve.fragment),this.router.navigateByUrl(Ye,ve)}}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.LFG(Ge),V.LFG(di.Ye),V.LFG(wr.Hx),V.LFG(wr.F0,8))},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const ct=(ue,pe,Y)=>{if(!1!==pe){if(void 0!==Y)return Y;if("forward"===ue||"back"===ue)return ue;if("root"===ue&&!0===pe)return"forward"}},Lt="auto",Ot=void 0;let hn=(()=>{class ue{get(Y,ve){const Ye=cr();return Ye?Ye.get(Y,ve):null}getBoolean(Y,ve){const Ye=cr();return!!Ye&&Ye.getBoolean(Y,ve)}getNumber(Y,ve){const Ye=cr();return Ye?Ye.getNumber(Y,ve):0}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const En=new V.OlP("USERCONFIG"),cr=()=>{if(typeof window<"u"){const ue=window.Ionic;if(null!=ue&&ue.config)return ue.config}return null};class _r{constructor(pe={}){this.data=pe}get(pe){return this.data[pe]}}let ir=(()=>{class ue{constructor(){this.zone=(0,V.f3M)(V.R0b),this.applicationRef=(0,V.f3M)(V.z2F)}create(Y,ve,Ye){return new Or(Y,ve,this.applicationRef,this.zone,Ye)}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class Or{constructor(pe,Y,ve,Ye,Bt){this.environmentInjector=pe,this.injector=Y,this.applicationRef=ve,this.zone=Ye,this.elementReferenceKey=Bt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(pe,Y,ve,Ye){return this.zone.run(()=>new Promise(Bt=>{const _n={...ve};void 0!==this.elementReferenceKey&&(_n[this.elementReferenceKey]=pe),Bt(mo(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,pe,Y,_n,Ye,this.elementReferenceKey))}))}removeViewFromDom(pe,Y){return this.zone.run(()=>new Promise(ve=>{const Ye=this.elRefMap.get(Y);if(Ye){Ye.destroy(),this.elRefMap.delete(Y);const Bt=this.elEventsMap.get(Y);Bt&&(Bt(),this.elEventsMap.delete(Y))}ve()}))}}const mo=(ue,pe,Y,ve,Ye,Bt,_n,an,bn,qn,Mi)=>{const Ui=V.zs3.create({providers:br(bn),parent:Y}),Ji=(0,V.LMc)(an,{environmentInjector:pe,elementInjector:Ui}),Fo=Ji.instance,ho=Ji.location.nativeElement;if(bn&&(Mi&&void 0!==Fo[Mi]&&console.error(`[Ionic Error]: ${Mi} is a reserved property when using ${_n.tagName.toLowerCase()}. Rename or remove the "${Mi}" property from ${an.name}.`),Object.assign(Fo,bn)),qn)for(const Lo of qn)ho.classList.add(Lo);const xo=Mr(ue,Fo,ho);return _n.appendChild(ho),ve.attachView(Ji.hostView),Ye.set(ho,Ji),Bt.set(ho,xo),ho},lr=[Cr.L,Cr.a,Cr.b,Cr.c,Cr.d],Mr=(ue,pe,Y)=>ue.run(()=>{const ve=lr.filter(Ye=>"function"==typeof pe[Ye]).map(Ye=>{const Bt=_n=>pe[Ye](_n.detail);return Y.addEventListener(Ye,Bt),()=>Y.removeEventListener(Ye,Bt)});return()=>ve.forEach(Ye=>Ye())}),pr=new V.OlP("NavParamsToken"),br=ue=>[{provide:pr,useValue:ue},{provide:_r,useFactory:Ln,deps:[pr]}],Ln=ue=>new _r(ue),zr=(ue,pe)=>{const Y=ue.prototype;pe.forEach(ve=>{Object.defineProperty(Y,ve,{get(){return this.el[ve]},set(Ye){this.z.runOutsideAngular(()=>this.el[ve]=Ye)}})})},Pi=(ue,pe)=>{const Y=ue.prototype;pe.forEach(ve=>{Y[ve]=function(){const Ye=arguments;return this.z.runOutsideAngular(()=>this.el[ve].apply(this.el,Ye))}})},yi=(ue,pe,Y)=>{Y.forEach(ve=>ue[ve]=(0,Ri.R)(pe,ve))};function gi(ue){return function(Y){const{defineCustomElementFn:ve,inputs:Ye,methods:Bt}=ue;return void 0!==ve&&ve(),Ye&&zr(Y,Ye),Bt&&Pi(Y,Bt),Y}}const no=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Co=["present","dismiss","onDidDismiss","onWillDismiss"];let ri=(()=>{let ue=class{constructor(Y,ve,Ye){this.z=Ye,this.isCmpOpen=!1,this.el=ve.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),yi(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(V.sBO),V.Y36(V.SBq),V.Y36(V.R0b))},ue.\u0275dir=V.lG2({type:ue,selectors:[["ion-popover"]],contentQueries:function(Y,ve,Ye){if(1&Y&&V.Suo(Ye,V.Rgc,5),2&Y){let Bt;V.iGM(Bt=V.CRH())&&(ve.template=Bt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),ue=(0,le.gn)([gi({inputs:no,methods:Co})],ue),ue})();const Fi=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ro=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let wo=(()=>{let ue=class{constructor(Y,ve,Ye){this.z=Ye,this.isCmpOpen=!1,this.el=ve.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),yi(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(V.sBO),V.Y36(V.SBq),V.Y36(V.R0b))},ue.\u0275dir=V.lG2({type:ue,selectors:[["ion-modal"]],contentQueries:function(Y,ve,Ye){if(1&Y&&V.Suo(Ye,V.Rgc,5),2&Y){let Bt;V.iGM(Bt=V.CRH())&&(ve.template=Bt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),ue=(0,le.gn)([gi({inputs:Fi,methods:ro})],ue),ue})();const _o=(ue,pe)=>((ue=ue.filter(Y=>Y.stackId!==pe.stackId)).push(pe),ue),Ue=(ue,pe)=>{const Y=ue.createUrlTree(["."],{relativeTo:pe});return ue.serializeUrl(Y)},ut=(ue,pe)=>!pe||ue.stackId!==pe.stackId,At=(ue,pe)=>{if(!ue)return;const Y=gt(pe);for(let ve=0;ve<Y.length;ve++){if(ve>=ue.length)return Y[ve];if(Y[ve]!==ue[ve])return}},gt=ue=>ue.split("/").map(pe=>pe.trim()).filter(pe=>""!==pe),Xt=ue=>{ue&&(ue.ref.destroy(),ue.unlistenEvents())};class nn{constructor(pe,Y,ve,Ye,Bt,_n){this.containerEl=Y,this.router=ve,this.navCtrl=Ye,this.zone=Bt,this.location=_n,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==pe?gt(pe):void 0}createView(pe,Y){var ve;const Ye=Ue(this.router,Y),Bt=null==pe||null===(ve=pe.location)||void 0===ve?void 0:ve.nativeElement,_n=Mr(this.zone,pe.instance,Bt);return{id:this.nextId++,stackId:At(this.tabsPrefix,Ye),unlistenEvents:_n,element:Bt,ref:pe,url:Ye}}getExistingView(pe){const Y=Ue(this.router,pe),ve=this.views.find(Ye=>Ye.url===Y);return ve&&ve.ref.changeDetectorRef.reattach(),ve}setActive(pe){var Y,ve;const Ye=this.navCtrl.consumeTransition();let{direction:Bt,animation:_n,animationBuilder:an}=Ye;const bn=this.activeView,qn=ut(pe,bn);qn&&(Bt="back",_n=void 0);const Mi=this.views.slice();let Ui;const Ji=this.router;Ji.getCurrentNavigation?Ui=Ji.getCurrentNavigation():null!==(Y=Ji.navigations)&&void 0!==Y&&Y.value&&(Ui=Ji.navigations.value),null!==(ve=Ui)&&void 0!==ve&&null!==(ve=ve.extras)&&void 0!==ve&&ve.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Fo=this.views.includes(pe),ho=this.insertView(pe,Bt);Fo||pe.ref.changeDetectorRef.detectChanges();const xo=pe.animationBuilder;return void 0===an&&"back"===Bt&&!qn&&void 0!==xo&&(an=xo),bn&&(bn.animationBuilder=an),this.zone.runOutsideAngular(()=>this.wait(()=>(bn&&bn.ref.changeDetectorRef.detach(),pe.ref.changeDetectorRef.reattach(),this.transition(pe,bn,_n,this.canGoBack(1),!1,an).then(()=>Gt(pe,ho,Mi,this.location,this.zone)).then(()=>({enteringView:pe,direction:Bt,animation:_n,tabSwitch:qn})))))}canGoBack(pe,Y=this.getActiveStackId()){return this.getStack(Y).length>pe}pop(pe,Y=this.getActiveStackId()){return this.zone.run(()=>{const ve=this.getStack(Y);if(ve.length<=pe)return Promise.resolve(!1);const Ye=ve[ve.length-pe-1];let Bt=Ye.url;const _n=Ye.savedData;if(_n){var an;const qn=_n.get("primary");null!=qn&&null!==(an=qn.route)&&void 0!==an&&null!==(an=an._routerState)&&void 0!==an&&an.snapshot.url&&(Bt=qn.route._routerState.snapshot.url)}const{animationBuilder:bn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,{...Ye.savedExtras,animation:bn}).then(()=>!0)})}startBackTransition(){const pe=this.activeView;if(pe){const Y=this.getStack(pe.stackId),ve=Y[Y.length-2],Ye=ve.animationBuilder;return this.wait(()=>this.transition(ve,pe,"back",this.canGoBack(2),!0,Ye))}return Promise.resolve()}endBackTransition(pe){pe?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ft(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(pe){const Y=this.getStack(pe);return Y.length>0?Y[Y.length-1]:void 0}getRootUrl(pe){const Y=this.getStack(pe);return Y.length>0?Y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Xt),this.activeView=void 0,this.views=[]}getStack(pe){return this.views.filter(Y=>Y.stackId===pe)}insertView(pe,Y){return this.activeView=pe,this.views=((ue,pe,Y)=>"root"===Y?_o(ue,pe):"forward"===Y?((ue,pe)=>(ue.indexOf(pe)>=0?ue=ue.filter(ve=>ve.stackId!==pe.stackId||ve.id<=pe.id):ue.push(pe),ue))(ue,pe):((ue,pe)=>ue.indexOf(pe)>=0?ue.filter(ve=>ve.stackId!==pe.stackId||ve.id<=pe.id):_o(ue,pe))(ue,pe))(this.views,pe,Y),this.views.slice()}transition(pe,Y,ve,Ye,Bt,_n){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Y===pe)return Promise.resolve(!1);const an=pe?pe.element:void 0,bn=Y?Y.element:void 0,qn=this.containerEl;return an&&an!==bn&&(an.classList.add("ion-page"),an.classList.add("ion-page-invisible"),an.parentElement!==qn&&qn.appendChild(an),qn.commit)?qn.commit(an,bn,{duration:void 0===ve?0:void 0,direction:ve,showGoBack:Ye,progressAnimation:Bt,animationBuilder:_n}):Promise.resolve(!1)}wait(pe){var Y=this;return(0,l.Z)(function*(){void 0!==Y.runningTask&&(yield Y.runningTask,Y.runningTask=void 0);const ve=Y.runningTask=pe();return ve.finally(()=>Y.runningTask=void 0),ve})()}}const Gt=(ue,pe,Y,ve,Ye)=>"function"==typeof requestAnimationFrame?new Promise(Bt=>{requestAnimationFrame(()=>{Ft(ue,pe,Y,ve,Ye),Bt()})}):Promise.resolve(),Ft=(ue,pe,Y,ve,Ye)=>{Ye.run(()=>Y.filter(Bt=>!pe.includes(Bt)).forEach(Xt)),pe.forEach(Bt=>{const an=ve.path().split("?")[0].split("#")[0];if(Bt!==ue&&Bt.url!==an){const bn=Bt.element;bn.setAttribute("aria-hidden","true"),bn.classList.add("ion-page-hidden"),Bt.ref.changeDetectorRef.detach()}})};let fn=(()=>{class ue{constructor(Y,ve,Ye,Bt,_n,an,bn,qn){this.parentOutlet=qn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new hi.X(null),this.activated=null,this._activatedRoute=null,this.name=wr.eC,this.stackWillChange=new V.vpe,this.stackDidChange=new V.vpe,this.activateEvents=new V.vpe,this.deactivateEvents=new V.vpe,this.parentContexts=(0,V.f3M)(wr.y6),this.location=(0,V.f3M)(V.s_b),this.environmentInjector=(0,V.f3M)(V.lqb),this.inputBinder=(0,V.f3M)(D,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,V.f3M)(hn),this.navCtrl=(0,V.f3M)(qe),this.nativeEl=Bt.nativeElement,this.name=Y||wr.eC,this.tabsPrefix="true"===ve?Ue(_n,bn):void 0,this.stackCtrl=new nn(this.tabsPrefix,this.nativeEl,_n,this.navCtrl,an,Ye),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(Y){this.nativeEl.animation=Y}set animated(Y){this.nativeEl.animated=Y}set swipeGesture(Y){this._swipeGesture=Y,this.nativeEl.swipeHandler=Y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ve=>this.stackCtrl.endBackTransition(ve)}:void 0}ngOnDestroy(){var Y;this.stackCtrl.destroy(),null===(Y=this.inputBinder)||void 0===Y||Y.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Y=this.getContext();null!=Y&&Y.route&&this.activateWith(Y.route,Y.injector)}new Promise(Y=>(0,ee.c)(this.nativeEl,Y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Y,ve){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ve=this.getContext();this.activatedView.savedData=new Map(ve.children.contexts);const Ye=this.activatedView.savedData.get("primary");if(Ye&&ve.route&&(Ye.route={...ve.route}),this.activatedView.savedExtras={},ve.route){const Bt=ve.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const Y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Y)}}activateWith(Y,ve){var Ye;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Y;let Bt,_n=this.stackCtrl.getExistingView(Y);if(_n){Bt=this.activated=_n.ref;const qn=_n.savedData;qn&&(this.getContext().children.contexts=qn),this.updateActivatedRouteProxy(Bt.instance,Y)}else{var an;const qn=Y._futureSnapshot,Mi=this.parentContexts.getOrCreateContext(this.name).children,Ui=new hi.X(null),Ji=this.createActivatedRouteProxy(Ui,Y),Fo=new Yn(Ji,Mi,this.location.injector),ho=null!==(an=qn.routeConfig.component)&&void 0!==an?an:qn.component;Bt=this.activated=this.location.createComponent(ho,{index:this.location.length,injector:Fo,environmentInjector:null!=ve?ve:this.environmentInjector}),Ui.next(Bt.instance),_n=this.stackCtrl.createView(this.activated,Y),this.proxyMap.set(Bt.instance,Ji),this.currentActivatedRoute$.next({component:Bt.instance,activatedRoute:Y})}null===(Ye=this.inputBinder)||void 0===Ye||Ye.bindActivatedRouteToOutletComponent(this),this.activatedView=_n,this.navCtrl.setTopOutlet(this);const bn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:_n,tabSwitch:ut(_n,bn)}),this.stackCtrl.setActive(_n).then(qn=>{this.activateEvents.emit(Bt.instance),this.stackDidChange.emit(qn)})}canGoBack(Y=1,ve){return this.stackCtrl.canGoBack(Y,ve)}pop(Y=1,ve){return this.stackCtrl.pop(Y,ve)}getLastUrl(Y){const ve=this.stackCtrl.getLastUrl(Y);return ve?ve.url:void 0}getLastRouteView(Y){return this.stackCtrl.getLastUrl(Y)}getRootView(Y){return this.stackCtrl.getRootUrl(Y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Y,ve){const Ye=new wr.gz;return Ye._futureSnapshot=ve._futureSnapshot,Ye._routerState=ve._routerState,Ye.snapshot=ve.snapshot,Ye.outlet=ve.outlet,Ye.component=ve.component,Ye._paramMap=this.proxyObservable(Y,"paramMap"),Ye._queryParamMap=this.proxyObservable(Y,"queryParamMap"),Ye.url=this.proxyObservable(Y,"url"),Ye.params=this.proxyObservable(Y,"params"),Ye.queryParams=this.proxyObservable(Y,"queryParams"),Ye.fragment=this.proxyObservable(Y,"fragment"),Ye.data=this.proxyObservable(Y,"data"),Ye}proxyObservable(Y,ve){return Y.pipe((0,j.h)(Ye=>!!Ye),(0,Z.w)(Ye=>this.currentActivatedRoute$.pipe((0,j.h)(Bt=>null!==Bt&&Bt.component===Ye),(0,Z.w)(Bt=>Bt&&Bt.activatedRoute[ve]),(0,$.x)())))}updateActivatedRouteProxy(Y,ve){const Ye=this.proxyMap.get(Y);if(!Ye)throw new Error("Could not find activated route proxy for view");Ye._futureSnapshot=ve._futureSnapshot,Ye._routerState=ve._routerState,Ye.snapshot=ve.snapshot,Ye.outlet=ve.outlet,Ye.component=ve.component,this.currentActivatedRoute$.next({component:Y,activatedRoute:ve})}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.$8M("name"),V.$8M("tabs"),V.Y36(di.Ye),V.Y36(V.SBq),V.Y36(wr.F0),V.Y36(V.R0b),V.Y36(wr.gz),V.Y36(ue,12))},ue.\u0275dir=V.lG2({type:ue,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ue})();class Yn{constructor(pe,Y,ve){this.route=pe,this.childContexts=Y,this.parent=ve}get(pe,Y){return pe===wr.gz?this.route:pe===wr.y6?this.childContexts:this.parent.get(pe,Y)}}const D=new V.OlP("");let ce=(()=>{class ue{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Y){this.unsubscribeFromRouteData(Y),this.subscribeToRouteData(Y)}unsubscribeFromRouteData(Y){var ve;null===(ve=this.outletDataSubscriptions.get(Y))||void 0===ve||ve.unsubscribe(),this.outletDataSubscriptions.delete(Y)}subscribeToRouteData(Y){const{activatedRoute:ve}=Y,Ye=(0,Gi.a)([ve.queryParams,ve.params,ve.data]).pipe((0,Z.w)(([Bt,_n,an],bn)=>(an={...Bt,..._n,...an},0===bn?(0,it.of)(an):Promise.resolve(an)))).subscribe(Bt=>{if(!Y.isActivated||!Y.activatedComponentRef||Y.activatedRoute!==ve||null===ve.component)return void this.unsubscribeFromRouteData(Y);const _n=(0,V.qFp)(ve.component);if(_n)for(const{templateName:an}of _n.inputs)Y.activatedComponentRef.setInput(an,Bt[an]);else this.unsubscribeFromRouteData(Y)});this.outletDataSubscriptions.set(Y,Ye)}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=V.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const x=()=>({provide:D,useFactory:he,deps:[wr.F0]});function he(ue){return null!=ue&&ue.componentInputBindingEnabled?new ce:null}const at=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Un=(()=>{let ue=class{constructor(Y,ve,Ye,Bt,_n,an){this.routerOutlet=Y,this.navCtrl=ve,this.config=Ye,this.r=Bt,this.z=_n,an.detach(),this.el=this.r.nativeElement}onClick(Y){var ve;const Ye=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ve=this.routerOutlet)&&void 0!==ve&&ve.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Y.preventDefault()):null!=Ye&&(this.navCtrl.navigateBack(Ye,{animation:this.routerAnimation}),Y.preventDefault())}};return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(fn,8),V.Y36(qe),V.Y36(hn),V.Y36(V.SBq),V.Y36(V.R0b),V.Y36(V.sBO))},ue.\u0275dir=V.lG2({type:ue,hostBindings:function(Y,ve){1&Y&&V.NdJ("click",function(Bt){return ve.onClick(Bt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),ue=(0,le.gn)([gi({inputs:at})],ue),ue})(),Sr=(()=>{class ue{constructor(Y,ve,Ye,Bt,_n){this.locationStrategy=Y,this.navCtrl=ve,this.elementRef=Ye,this.router=Bt,this.routerLink=_n,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const ve=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ve}}onClick(Y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Y.preventDefault()}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(di.S$),V.Y36(qe),V.Y36(V.SBq),V.Y36(wr.F0),V.Y36(wr.rH,8))},ue.\u0275dir=V.lG2({type:ue,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Y,ve){1&Y&&V.NdJ("click",function(Bt){return ve.onClick(Bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.TTD]}),ue})(),ei=(()=>{class ue{constructor(Y,ve,Ye,Bt,_n){this.locationStrategy=Y,this.navCtrl=ve,this.elementRef=Ye,this.router=Bt,this.routerLink=_n,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const ve=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ve}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(di.S$),V.Y36(qe),V.Y36(V.SBq),V.Y36(wr.F0),V.Y36(wr.rH,8))},ue.\u0275dir=V.lG2({type:ue,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Y,ve){1&Y&&V.NdJ("click",function(){return ve.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.TTD]}),ue})();const io=["animated","animation","root","rootParams","swipeGesture"],oo=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Wr=(()=>{let ue=class{constructor(Y,ve,Ye,Bt,_n,an){this.z=_n,an.detach(),this.el=Y.nativeElement,Y.nativeElement.delegate=Bt.create(ve,Ye),yi(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(V.SBq),V.Y36(V.lqb),V.Y36(V.zs3),V.Y36(ir),V.Y36(V.R0b),V.Y36(V.sBO))},ue.\u0275dir=V.lG2({type:ue,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),ue=(0,le.gn)([gi({inputs:io,methods:oo})],ue),ue})(),ks=(()=>{class ue{constructor(Y){this.navCtrl=Y,this.ionTabsWillChange=new V.vpe,this.ionTabsDidChange=new V.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Y,tabSwitch:ve}){const Ye=Y.stackId;ve&&void 0!==Ye&&this.ionTabsWillChange.emit({tab:Ye})}onStackDidChange({enteringView:Y,tabSwitch:ve}){const Ye=Y.stackId;ve&&void 0!==Ye&&(this.tabBar&&(this.tabBar.selectedTab=Ye),this.ionTabsDidChange.emit({tab:Ye}))}select(Y){const ve="string"==typeof Y,Ye=ve?Y:Y.detail.tab,Bt=this.outlet.getActiveStackId()===Ye,_n=`${this.outlet.tabsPrefix}/${Ye}`;if(ve||Y.stopPropagation(),Bt){const an=this.outlet.getActiveStackId(),bn=this.outlet.getLastRouteView(an);if((null==bn?void 0:bn.url)===_n)return;const qn=this.outlet.getRootView(Ye);return this.navCtrl.navigateRoot(_n,{...qn&&_n===qn.url&&qn.savedExtras,animated:!0,animationDirection:"back"})}{const an=this.outlet.getLastRouteView(Ye);return this.navCtrl.navigateRoot((null==an?void 0:an.url)||_n,{...null==an?void 0:an.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Y=>{const ve=Y.el.getAttribute("slot");ve!==this.tabBarSlot&&(this.tabBarSlot=ve,this.relocateTabBar())})}relocateTabBar(){const Y=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Y):this.tabsInner.nativeElement.after(Y)}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(qe))},ue.\u0275dir=V.lG2({type:ue,selectors:[["ion-tabs"]],viewQuery:function(Y,ve){if(1&Y&&V.Gf(et,7,V.SBq),2&Y){let Ye;V.iGM(Ye=V.CRH())&&(ve.tabsInner=Ye.first)}},hostBindings:function(Y,ve){1&Y&&V.NdJ("ionTabButtonClick",function(Bt){return ve.select(Bt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),ue})();const Zr=ue=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ue):"function"==typeof requestAnimationFrame?requestAnimationFrame(ue):setTimeout(ue);let Tn=(()=>{class ue{constructor(Y,ve){this.injector=Y,this.elementRef=ve,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(Y){this.elementRef.nativeElement.value=this.lastValue=Y,tr(this.elementRef)}handleValueChange(Y,ve){Y===this.elementRef.nativeElement&&(ve!==this.lastValue&&(this.lastValue=ve,this.onChange(ve)),tr(this.elementRef))}_handleBlurEvent(Y){Y===this.elementRef.nativeElement&&(this.onTouched(),tr(this.elementRef))}registerOnChange(Y){this.onChange=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.elementRef.nativeElement.disabled=Y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Y;try{Y=this.injector.get(Ee.a5)}catch{}if(!Y)return;Y.statusChanges&&(this.statusChanges=Y.statusChanges.subscribe(()=>tr(this.elementRef)));const ve=Y.control;ve&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(typeof ve[Bt]<"u"){const _n=ve[Bt].bind(ve);ve[Bt]=(...an)=>{_n(...an),tr(this.elementRef)}}})}}return ue.\u0275fac=function(Y){return new(Y||ue)(V.Y36(V.zs3),V.Y36(V.SBq))},ue.\u0275dir=V.lG2({type:ue,hostBindings:function(Y,ve){1&Y&&V.NdJ("ionBlur",function(Bt){return ve._handleBlurEvent(Bt.target)})}}),ue})();const tr=ue=>{Zr(()=>{const pe=ue.nativeElement,Y=null!=pe.value&&pe.value.toString().length>0,ve=fi(pe);so(pe,ve);const Ye=pe.closest("ion-item");Ye&&so(Ye,Y?[...ve,"item-has-value"]:ve)})},fi=ue=>{const pe=ue.classList,Y=[];for(let ve=0;ve<pe.length;ve++){const Ye=pe.item(ve);null!==Ye&&Yo(Ye,"ng-")&&Y.push(`ion-${Ye.substring(3)}`)}return Y},so=(ue,pe)=>{const Y=ue.classList;Y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Y.add(...pe)},Yo=(ue,pe)=>ue.substring(0,pe.length)===pe;class co{shouldDetach(pe){return!1}shouldAttach(pe){return!1}store(pe,Y){}retrieve(pe){return null}shouldReuseRoute(pe,Y){if(pe.routeConfig!==Y.routeConfig)return!1;const ve=pe.params,Ye=Y.params,Bt=Object.keys(ve),_n=Object.keys(Ye);if(Bt.length!==_n.length)return!1;for(const an of Bt)if(Ye[an]!==ve[an])return!1;return!0}}},6728:(cn,ft,N)=>{"use strict";N.d(ft,{dr:()=>Wt,oU:()=>gi,YG:()=>Ut,Sm:()=>Zt,PM:()=>Rn,FN:()=>Pn,Zi:()=>jn,tO:()=>mn,Dq:()=>Mn,wI:()=>Dn,W2:()=>Kn,jY:()=>Xi,Gu:()=>Jn,gu:()=>ki,Xz:()=>On,pK:()=>Kr,Ie:()=>Dr,rH:()=>er,Q$:()=>Ri,q_:()=>hi,z0:()=>le,fG:()=>j,zc:()=>Z,jP:()=>Pi,Nd:()=>xe,wd:()=>pr,sr:()=>zr,Pc:()=>Yn,_q:()=>At,YI:()=>Co,Fo:()=>ri,j9:()=>rn});var l=N(5879),V=N(95),ee=N(4414),de=N(7582),Pe=N(2438),Ae=N(6814),Te=N(2692),Fe=(N(6410),N(448),N(2619),N(9023),N(9203),N(3882)),He=N(3365),Ke=N(1783),Ze=N(7612),ze=(N(6225),N(5349));N(619);const Xe=Fe.i,Oe=["*"];let rn=(()=>{class D extends ee.bk{constructor(x,he){super(x,he)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.zs3),l.Y36(l.SBq))},D.\u0275dir=l.lG2({type:D,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,he){1&x&&l.NdJ("ionInput",function(Un){return he._handleInputEvent(Un.target)})},features:[l._Bn([{provide:V.JU,useExisting:D,multi:!0}]),l.qOj]}),D})();const fe=(D,ce)=>{const x=D.prototype;ce.forEach(he=>{Object.defineProperty(x,he,{get(){return this.el[he]},set(at){this.z.runOutsideAngular(()=>this.el[he]=at)},configurable:!0})})},ge=(D,ce)=>{const x=D.prototype;ce.forEach(he=>{x[he]=function(){const at=arguments;return this.z.runOutsideAngular(()=>this.el[he].apply(this.el,at))}})},ae=(D,ce,x)=>{x.forEach(he=>D[he]=(0,Pe.R)(ce,he))};function De(D){return function(x){const{defineCustomElementFn:he,inputs:at,methods:Un}=D;return void 0!==he&&he(),at&&fe(x,at),Un&&ge(x,Un),x}}let Wt=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-app"]],ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({})],D),D})(),Ut=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement,ae(this,this.el,["ionFocus","ionBlur"])}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],D),D})(),Zt=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["collapse"]})],D),D})(),Rn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],D),D})(),Pn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["mode"]})],D),D})(),jn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode","translucent"]})],D),D})(),mn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode"]})],D),D})(),Mn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode"]})],D),D})(),Dn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],D),D})(),Kn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement,ae(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],D),D})(),Xi=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["fixed"]})],D),D})(),Jn=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["collapse","mode","translucent"]})],D),D})(),ki=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],D),D})(),On=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement,ae(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["alt","src"]})],D),D})(),Kr=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement,ae(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],D),D})(),Dr=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],D),D})(),er=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode","sticky"]})],D),D})(),Ri=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode","position"]})],D),D})(),hi=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],D),D})(),le=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement,ae(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],D),D})(),j=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["autoHide","color","disabled","menu","mode","type"]})],D),D})(),Z=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["autoHide","menu"]})],D),D})(),xe=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-row"]],ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({})],D),D})(),pr=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","size"]})],D),D})(),zr=(()=>{let D=class{constructor(x,he,at){this.z=at,x.detach(),this.el=he.nativeElement}};return D.\u0275fac=function(x){return new(x||D)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D=(0,de.gn)([De({inputs:["color","mode"]})],D),D})(),Pi=(()=>{class D extends ee.jP{constructor(x,he,at,Un,Sr,ei,io,oo){super(x,he,at,Un,Sr,ei,io,oo),this.parentOutlet=oo}}return D.\u0275fac=function(x){return new(x||D)(l.$8M("name"),l.$8M("tabs"),l.Y36(Ae.Ye),l.Y36(l.SBq),l.Y36(Te.F0),l.Y36(l.R0b),l.Y36(Te.gz),l.Y36(D,12))},D.\u0275dir=l.lG2({type:D,selectors:[["ion-router-outlet"]],features:[l.qOj]}),D})(),gi=(()=>{class D extends ee.oU{constructor(x,he,at,Un,Sr,ei){super(x,he,at,Un,Sr,ei)}}return D.\u0275fac=function(x){return new(x||D)(l.Y36(Pi,8),l.Y36(ee.SH),l.Y36(ee.De),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO))},D.\u0275cmp=l.Xpm({type:D,selectors:[["ion-back-button"]],features:[l.qOj],ngContentSelectors:Oe,decls:1,vars:0,template:function(x,he){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),D})(),Co=(()=>{class D extends ee.j{}return D.\u0275fac=function(){let ce;return function(he){return(ce||(ce=l.n5z(D)))(he||D)}}(),D.\u0275dir=l.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.qOj]}),D})(),ri=(()=>{class D extends ee.H{}return D.\u0275fac=function(){let ce;return function(he){return(ce||(ce=l.n5z(D)))(he||D)}}(),D.\u0275dir=l.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[l.qOj]}),D})();const wo={provide:V.Cf,useExisting:(0,l.Gpc)(()=>ko),multi:!0};let ko=(()=>{class D extends V.Fd{}return D.\u0275fac=function(){let ce;return function(he){return(ce||(ce=l.n5z(D)))(he||D)}}(),D.\u0275dir=l.lG2({type:D,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,he){2&x&&l.uIk("max",he._enabled?he.max:null)},features:[l._Bn([wo]),l.qOj]}),D})();const _o={provide:V.Cf,useExisting:(0,l.Gpc)(()=>G),multi:!0};let G=(()=>{class D extends V.qQ{}return D.\u0275fac=function(){let ce;return function(he){return(ce||(ce=l.n5z(D)))(he||D)}}(),D.\u0275dir=l.lG2({type:D,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,he){2&x&&l.uIk("min",he._enabled?he.min:null)},features:[l._Bn([_o]),l.qOj]}),D})(),At=(()=>{class D extends ee._q{constructor(){super(Ke.m)}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),gt=(()=>{class D extends ee.xs{constructor(){super(Ze.m),this.angularDelegate=(0,l.f3M)(ee.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac}),D})();class Xt extends ee.xs{constructor(){super(Ze.c),this.angularDelegate=(0,l.f3M)(ee.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(ce){return super.create({...ce,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Gt=(D,ce,x)=>()=>{if(ce.defaultView&&typeof window<"u"){(0,He.s)({...D,_zoneGate:Un=>x.run(Un)});const at="__zone_symbol__addEventListener"in ce.body?"__zone_symbol__addEventListener":"addEventListener";return function Se(){var D=[];if(typeof window<"u"){var ce=window;(!ce.customElements||ce.Element&&(!ce.Element.prototype.closest||!ce.Element.prototype.matches||!ce.Element.prototype.remove||!ce.Element.prototype.getRootNode))&&D.push(N.e(6748).then(N.t.bind(N,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ce.NodeList&&!ce.NodeList.prototype.forEach||!ce.fetch||!function(){try{var he=new URL("b","http://a");return he.pathname="c%20d","http://a/c%20d"===he.href&&he.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&D.push(N.e(2214).then(N.t.bind(N,2668,23)))}return Promise.all(D)}().then(()=>((D,ce)=>{if(!(typeof window>"u"))return Xe(),(0,ze.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),ce)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ee.Wn,jmp:Un=>x.runOutsideAngular(Un),ael(Un,Sr,ei,io){Un[at](Sr,ei,io)},rel(Un,Sr,ei,io){Un.removeEventListener(Sr,ei,io)}}))}};let Yn=(()=>{class D{static forRoot(x){return{ngModule:D,providers:[{provide:ee.dy,useValue:x},{provide:l.ip1,useFactory:Gt,multi:!0,deps:[ee.dy,Ae.K0,l.R0b]},(0,ee.DN)()]}}}return D.\u0275fac=function(x){return new(x||D)},D.\u0275mod=l.oAB({type:D}),D.\u0275inj=l.cJS({providers:[ee.y4,gt,Xt],imports:[Ae.ez]}),D})()},3182:(cn,ft,N)=>{"use strict";N.d(ft,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=N(534);(0,l.registerVersion)("firebase","10.6.0","app")},7142:(cn,ft,N)=>{"use strict";N.d(ft,{Z:()=>l.Z});var l=N(3106);l.Z.registerVersion("firebase","10.6.0","app-compat")},6365:(cn,ft,N)=>{"use strict";N.r(ft);var l=N(5861),V=N(3106),ee=N(4562),de=N(9058),Te=(N(534),N(7879),N(4537));function Me(){return window}function me(){return me=(0,l.Z)(function*(j,Z,$){var Ee;const{BuildInfo:et}=Me();(0,ee.au)(Z.sessionId,"AuthEvent did not contain a session ID");const Ct=yield function ze(j){return rt.apply(this,arguments)}(Z.sessionId),sn={};return(0,ee.av)()?sn.ibi=et.packageName:(0,ee.aw)()?sn.apn=et.packageName:(0,ee.ax)(j,"operation-not-supported-in-this-environment"),et.displayName&&(sn.appDisplayName=et.displayName),sn.sessionId=Ct,(0,ee.ay)(j,$,Z.type,void 0,null!==(Ee=Z.eventId)&&void 0!==Ee?Ee:void 0,sn)}),me.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(j){const{BuildInfo:Z}=Me(),$={};(0,ee.av)()?$.iosBundleId=Z.packageName:(0,ee.aw)()?$.androidPackageName=Z.packageName:(0,ee.ax)(j,"operation-not-supported-in-this-environment"),yield(0,ee.az)(j,$)})).apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(j,Z,$){const{cordova:Ee}=Me();let et=()=>{};try{yield new Promise((Ct,sn)=>{let Kt=null;function Bn(){var nt;Ct();const Ge=null===(nt=Ee.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof Ge&&Ge(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function Fn(){Kt||(Kt=window.setTimeout(()=>{sn((0,ee.aB)(j,"redirect-cancelled-by-user"))},2e3))}function ar(){"visible"===(null==document?void 0:document.visibilityState)&&Fn()}Z.addPassiveListener(Bn),document.addEventListener("resume",Fn,!1),(0,ee.aw)()&&document.addEventListener("visibilitychange",ar,!1),et=()=>{Z.removePassiveListener(Bn),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",ar,!1),Kt&&window.clearTimeout(Kt)}})}finally{et()}})).apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(j){const Z=function vt(j){if((0,ee.au)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const Z=new ArrayBuffer(j.length),$=new Uint8Array(Z);for(let Ee=0;Ee<j.length;Ee++)$[Ee]=j.charCodeAt(Ee);return $}(j),$=yield crypto.subtle.digest("SHA-256",Z);return Array.from(new Uint8Array($)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Xe extends ee.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Z=>{this.resolveInialized=Z})}addPassiveListener(Z){this.passiveListeners.add(Z)}removePassiveListener(Z){this.passiveListeners.delete(Z)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Z){return this.resolveInialized(),this.passiveListeners.forEach($=>$(Z)),super.onEvent(Z)}initialized(){var Z=this;return(0,l.Z)(function*(){yield Z.initPromise})()}}function Ce(j){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(j){const Z=yield st()._get(dt(j));return Z&&(yield st()._remove(dt(j))),Z})).apply(this,arguments)}function Le(){const j=[];for(let $=0;$<20;$++){const Ee=Math.floor(62*Math.random());j.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Ee))}return j.join("")}function st(){return(0,ee.aE)(ee.b)}function dt(j){return(0,ee.aF)("authEvent",j.config.apiKey,j.name)}function ln(j){if(null==j||!j.includes("?"))return{};const[Z,...$]=j.split("?");return(0,de.zd)($.join("?"))}const ge=class fe{constructor(){this._redirectPersistence=ee.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ee.aG,this._overrideRedirectResult=ee.aH}_initialize(Z){var $=this;return(0,l.Z)(function*(){const Ee=Z._key();let et=$.eventManagers.get(Ee);return et||(et=new Xe(Z),$.eventManagers.set(Ee,et),$.attachCallbackListeners(Z,et)),et})()}_openPopup(Z){(0,ee.ax)(Z,"operation-not-supported-in-this-environment")}_openRedirect(Z,$,Ee,et){var Ct=this;return(0,l.Z)(function*(){!function Qe(j){var Z,$,Ee,et,Ct,sn,Kt,Bn,Fn,ar;const nt=Me();(0,ee.aC)("function"==typeof(null===(Z=null==nt?void 0:nt.universalLinks)||void 0===Z?void 0:Z.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ee.aC)(typeof(null===($=null==nt?void 0:nt.BuildInfo)||void 0===$?void 0:$.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ee.aC)("function"==typeof(null===(Ct=null===(et=null===(Ee=null==nt?void 0:nt.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===et?void 0:et.browsertab)||void 0===Ct?void 0:Ct.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aC)("function"==typeof(null===(Bn=null===(Kt=null===(sn=null==nt?void 0:nt.cordova)||void 0===sn?void 0:sn.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===Bn?void 0:Bn.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aC)("function"==typeof(null===(ar=null===(Fn=null==nt?void 0:nt.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===ar?void 0:ar.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Z);const sn=yield Ct._initialize(Z);yield sn.initialized(),sn.resetRedirect(),(0,ee.aI)(),yield Ct._originValidation(Z);const Kt=function Ve(j,Z,$=null){return{type:Z,eventId:$,urlResponse:null,sessionId:Le(),postBody:null,tenantId:j.tenantId,error:(0,ee.aB)(j,"no-auth-event")}}(Z,Ee,et);yield function Oe(j,Z){return st()._set(dt(j),Z)}(Z,Kt);const Bn=yield function ie(j,Z,$){return me.apply(this,arguments)}(Z,Kt,$),Fn=yield function He(j){const{cordova:Z}=Me();return new Promise($=>{Z.plugins.browsertab.isAvailable(Ee=>{let et=null;Ee?Z.plugins.browsertab.openUrl(j):et=Z.InAppBrowser.open(j,(0,ee.aA)()?"_blank":"_system","location=yes"),$(et)})})}(Bn);return function Ke(j,Z,$){return Ze.apply(this,arguments)}(Z,sn,Fn)})()}_isIframeWebStorageSupported(Z,$){throw new Error("Method not implemented.")}_originValidation(Z){const $=Z._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Be(j){return Fe.apply(this,arguments)}(Z)),this.originValidationPromises[$]}attachCallbackListeners(Z,$){const{universalLinks:Ee,handleOpenURL:et,BuildInfo:Ct}=Me(),sn=setTimeout((0,l.Z)(function*(){yield Ce(Z),$.onEvent(ae())}),500),Kt=function(){var ar=(0,l.Z)(function*(nt){clearTimeout(sn);const Ge=yield Ce(Z);let Tt=null;Ge&&null!=nt&&nt.url&&(Tt=function je(j,Z){var $,Ee;const et=function Yt(j){const Z=ln(j),$=Z.link?decodeURIComponent(Z.link):void 0,Ee=ln($).link,et=Z.deep_link_id?decodeURIComponent(Z.deep_link_id):void 0;return ln(et).link||et||Ee||$||j}(Z);if(et.includes("/__/auth/callback")){const Ct=ln(et),sn=Ct.firebaseError?function Et(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(Ct.firebaseError)):null,Kt=null===(Ee=null===($=null==sn?void 0:sn.code)||void 0===$?void 0:$.split("auth/"))||void 0===Ee?void 0:Ee[1],Bn=Kt?(0,ee.aB)(Kt):null;return Bn?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Bn,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:et,postBody:null}}return null}(Ge,nt.url)),$.onEvent(Tt||ae())});return function(Ge){return ar.apply(this,arguments)}}();typeof Ee<"u"&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,Kt);const Bn=et,Fn=`${Ct.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var ar=(0,l.Z)(function*(nt){if(nt.toLowerCase().startsWith(Fn)&&Kt({url:nt}),"function"==typeof Bn)try{Bn(nt)}catch(Ge){console.error(Ge)}});return function(nt){return ar.apply(this,arguments)}}()}};function ae(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ee.aB)("no-auth-event")}}function kt(){var j;return(null===(j=null==self?void 0:self.location)||void 0===j?void 0:j.protocol)||null}function Wt(j=(0,de.z$)()){return!("file:"!==kt()&&"ionic:"!==kt()&&"capacitor:"!==kt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function bt(){try{const j=self.localStorage,Z=ee.aN();if(j)return j.setItem(Z,"1"),j.removeItem(Z),!function wt(j=(0,de.z$)()){return function An(){return(0,de.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Pt(j=(0,de.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,de.hl)()}catch{return Ut()&&(0,de.hl)()}return!1}function Ut(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zt(){return(function St(){return"http:"===kt()||"https:"===kt()}()||(0,de.ru)()||Wt())&&!function jt(){return(0,de.b$)()||(0,de.UG)()}()&&bt()&&!Ut()}function Rn(){return Wt()&&typeof document<"u"}function jn(){return(jn=(0,l.Z)(function*(){return!!Rn()&&new Promise(j=>{const Z=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Z),j(!0)})})})).apply(this,arguments)}const Mn={LOCAL:"local",NONE:"none",SESSION:"session"},Xn=ee.aC,Hr="persistence";function Kn(j){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(j){yield j._initializationPromise;const Z=Pr(),$=ee.aF(Hr,j.config.apiKey,j.name);Z&&Z.setItem($,j._getPersistence())})).apply(this,arguments)}function Pr(){var j;try{return(null===(j=function mn(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const ci=ee.aC;class Cn{constructor(){this.browserResolver=ee.aE(ee.k),this.cordovaResolver=ee.aE(ge),this.underlyingResolver=null,this._redirectPersistence=ee.a,this._completeRedirectFn=ee.aG,this._overrideRedirectResult=ee.aH}_initialize(Z){var $=this;return(0,l.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(Z)})()}_openPopup(Z,$,Ee,et){var Ct=this;return(0,l.Z)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openPopup(Z,$,Ee,et)})()}_openRedirect(Z,$,Ee,et){var Ct=this;return(0,l.Z)(function*(){return yield Ct.selectUnderlyingResolver(),Ct.assertedUnderlyingResolver._openRedirect(Z,$,Ee,et)})()}_isIframeWebStorageSupported(Z,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Z,$)}_originValidation(Z){return this.assertedUnderlyingResolver._originValidation(Z)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ci(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Z=this;return(0,l.Z)(function*(){if(Z.underlyingResolver)return;const $=yield function Pn(){return jn.apply(this,arguments)}();Z.underlyingResolver=$?Z.cordovaResolver:Z.browserResolver})()}}function mr(j){return j.unwrap()}function Jn(j){return On(j)}function On(j){const{_tokenResponse:Z}=j instanceof de.ZR?j.customData:j;if(!Z)return null;if(!(j instanceof de.ZR)&&"temporaryProof"in Z&&"phoneNumber"in Z)return ee.P.credentialFromResult(j);const $=Z.providerId;if(!$||$===ee.p.PASSWORD)return null;let Ee;switch($){case ee.p.GOOGLE:Ee=ee.X;break;case ee.p.FACEBOOK:Ee=ee.W;break;case ee.p.GITHUB:Ee=ee.Y;break;case ee.p.TWITTER:Ee=ee.$;break;default:const{oauthIdToken:et,oauthAccessToken:Ct,oauthTokenSecret:sn,pendingToken:Kt,nonce:Bn}=Z;return Ct||sn||et||Kt?Kt?$.startsWith("saml.")?ee.aQ._create($,Kt):ee.N._fromParams({providerId:$,signInMethod:$,pendingToken:Kt,idToken:et,accessToken:Ct}):new ee.Z($).credential({idToken:et,accessToken:Ct,rawNonce:Bn}):null}return j instanceof de.ZR?Ee.credentialFromError(j):Ee.credentialFromResult(j)}function gr(j,Z){return Z.catch($=>{throw $ instanceof de.ZR&&function ki(j,Z){var $;const Ee=null===($=Z.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null==Z?void 0:Z.code))Z.resolver=new Dr(j,ee.as(j,Z));else if(Ee){const et=On(Z),Ct=Z;et&&(Ct.credential=et,Ct.tenantId=Ee.tenantId||void 0,Ct.email=Ee.email||void 0,Ct.phoneNumber=Ee.phoneNumber||void 0)}}(j,$),$}).then($=>{const et=$.user;return{operationType:$.operationType,credential:Jn($),additionalUserInfo:ee.aq($),user:er.getOrCreate(et)}})}function Si(j,Z){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(j,Z){const $=yield Z;return{verificationId:$.verificationId,confirm:Ee=>gr(j,$.confirm(Ee))}})).apply(this,arguments)}class Dr{constructor(Z,$){this.resolver=$,this.auth=function Xi(j){return j.wrapped()}(Z)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Z){return gr(mr(this.auth),this.resolver.resolveSignIn(Z))}}class er{constructor(Z){this._delegate=Z,this.multiFactor=ee.at(Z)}static getOrCreate(Z){return er.USER_MAP.has(Z)||er.USER_MAP.set(Z,new er(Z)),er.USER_MAP.get(Z)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Z){return this._delegate.getIdTokenResult(Z)}getIdToken(Z){return this._delegate.getIdToken(Z)}linkAndRetrieveDataWithCredential(Z){return this.linkWithCredential(Z)}linkWithCredential(Z){var $=this;return(0,l.Z)(function*(){return gr($.auth,ee.a2($._delegate,Z))})()}linkWithPhoneNumber(Z,$){var Ee=this;return(0,l.Z)(function*(){return Si(Ee.auth,ee.l(Ee._delegate,Z,$))})()}linkWithPopup(Z){var $=this;return(0,l.Z)(function*(){return gr($.auth,ee.d($._delegate,Z,Cn))})()}linkWithRedirect(Z){var $=this;return(0,l.Z)(function*(){return yield Kn(ee.aJ($.auth)),ee.g($._delegate,Z,Cn)})()}reauthenticateAndRetrieveDataWithCredential(Z){return this.reauthenticateWithCredential(Z)}reauthenticateWithCredential(Z){var $=this;return(0,l.Z)(function*(){return gr($.auth,ee.a3($._delegate,Z))})()}reauthenticateWithPhoneNumber(Z,$){return Si(this.auth,ee.r(this._delegate,Z,$))}reauthenticateWithPopup(Z){return gr(this.auth,ee.e(this._delegate,Z,Cn))}reauthenticateWithRedirect(Z){var $=this;return(0,l.Z)(function*(){return yield Kn(ee.aJ($.auth)),ee.h($._delegate,Z,Cn)})()}sendEmailVerification(Z){return ee.ag(this._delegate,Z)}unlink(Z){var $=this;return(0,l.Z)(function*(){return yield ee.ap($._delegate,Z),$})()}updateEmail(Z){return ee.al(this._delegate,Z)}updatePassword(Z){return ee.am(this._delegate,Z)}updatePhoneNumber(Z){return ee.u(this._delegate,Z)}updateProfile(Z){return ee.ak(this._delegate,Z)}verifyBeforeUpdateEmail(Z,$){return ee.ah(this._delegate,Z,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}er.USER_MAP=new WeakMap;const Cr=ee.aC;let wr=(()=>{class j{constructor($,Ee){if(this.app=$,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=$.options;Cr(et,"invalid-api-key",{appName:$.name}),Cr(et,"invalid-api-key",{appName:$.name});const Ct=typeof window<"u"?Cn:void 0;this._delegate=Ee.initialize({options:{persistence:Lr(et,$.name),popupRedirectResolver:Ct}}),this._delegate._updateErrorMap(ee.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,Ee){ee.K(this._delegate,$,Ee)}applyActionCode($){return ee.a7(this._delegate,$)}checkActionCode($){return ee.a8(this._delegate,$)}confirmPasswordReset($,Ee){return ee.a6(this._delegate,$,Ee)}createUserWithEmailAndPassword($,Ee){var et=this;return(0,l.Z)(function*(){return gr(et._delegate,ee.aa(et._delegate,$,Ee))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return ee.af(this._delegate,$)}isSignInWithEmailLink($){return ee.ad(this._delegate,$)}getRedirectResult(){var $=this;return(0,l.Z)(function*(){Cr(Zt(),$._delegate,"operation-not-supported-in-this-environment");const Ee=yield ee.j($._delegate,Cn);return Ee?gr($._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging($){!function $e(j,Z){(0,ee.aJ)(j)._logFramework(Z)}(this._delegate,$)}onAuthStateChanged($,Ee,et){const{next:Ct,error:sn,complete:Kt}=di($,Ee,et);return this._delegate.onAuthStateChanged(Ct,sn,Kt)}onIdTokenChanged($,Ee,et){const{next:Ct,error:sn,complete:Kt}=di($,Ee,et);return this._delegate.onIdTokenChanged(Ct,sn,Kt)}sendSignInLinkToEmail($,Ee){return ee.ac(this._delegate,$,Ee)}sendPasswordResetEmail($,Ee){return ee.a5(this._delegate,$,Ee||void 0)}setPersistence($){var Ee=this;return(0,l.Z)(function*(){let et;switch(function Dn(j,Z){Xn(Object.values(Mn).includes(Z),j,"invalid-persistence-type"),(0,de.b$)()?Xn(Z!==Mn.SESSION,j,"unsupported-persistence-type"):(0,de.UG)()?Xn(Z===Mn.NONE,j,"unsupported-persistence-type"):Ut()?Xn(Z===Mn.NONE||Z===Mn.LOCAL&&(0,de.hl)(),j,"unsupported-persistence-type"):Xn(Z===Mn.NONE||bt(),j,"unsupported-persistence-type")}(Ee._delegate,$),$){case Mn.SESSION:et=ee.a;break;case Mn.LOCAL:et=(yield ee.aE(ee.i)._isAvailable())?ee.i:ee.b;break;case Mn.NONE:et=ee.U;break;default:return ee.ax("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return gr(this._delegate,ee.a0(this._delegate))}signInWithCredential($){return gr(this._delegate,ee.a1(this._delegate,$))}signInWithCustomToken($){return gr(this._delegate,ee.a4(this._delegate,$))}signInWithEmailAndPassword($,Ee){return gr(this._delegate,ee.ab(this._delegate,$,Ee))}signInWithEmailLink($,Ee){return gr(this._delegate,ee.ae(this._delegate,$,Ee))}signInWithPhoneNumber($,Ee){return Si(this._delegate,ee.s(this._delegate,$,Ee))}signInWithPopup($){var Ee=this;return(0,l.Z)(function*(){return Cr(Zt(),Ee._delegate,"operation-not-supported-in-this-environment"),gr(Ee._delegate,ee.c(Ee._delegate,$,Cn))})()}signInWithRedirect($){var Ee=this;return(0,l.Z)(function*(){return Cr(Zt(),Ee._delegate,"operation-not-supported-in-this-environment"),yield Kn(Ee._delegate),ee.f(Ee._delegate,$,Cn)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return ee.a9(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Mn,j})();function di(j,Z,$){let Ee=j;"function"!=typeof j&&({next:Ee,error:Z,complete:$}=j);const et=Ee;return{next:sn=>et(sn&&er.getOrCreate(sn)),error:Z,complete:$}}function Lr(j,Z){const $=function fr(j,Z){const $=Pr();if(!$)return[];const Ee=ee.aF(Hr,j,Z);switch($.getItem(Ee)){case Mn.NONE:return[ee.U];case Mn.LOCAL:return[ee.i,ee.a];case Mn.SESSION:return[ee.a];default:return[]}}(j,Z);if(typeof self<"u"&&!$.includes(ee.i)&&$.push(ee.i),typeof window<"u")for(const Ee of[ee.b,ee.a])$.includes(Ee)||$.push(Ee);return $.includes(ee.U)||$.push(ee.U),$}class Ri{constructor(){this.providerId="phone",this._delegate=new ee.P(mr(V.Z.auth()))}static credential(Z,$){return ee.P.credential(Z,$)}verifyPhoneNumber(Z,$){return this._delegate.verifyPhoneNumber(Z,$)}unwrap(){return this._delegate}}Ri.PHONE_SIGN_IN_METHOD=ee.P.PHONE_SIGN_IN_METHOD,Ri.PROVIDER_ID=ee.P.PROVIDER_ID;const hi=ee.aC;class Gi{constructor(Z,$,Ee=V.Z.app()){var et;hi(null===(et=Ee.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new ee.R(Ee.auth(),Z,$),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(j){j.INTERNAL.registerComponent(new Te.wA("auth-compat",Z=>{const $=Z.getProvider("app-compat").getImmediate(),Ee=Z.getProvider("auth");return new wr($,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ee.A.EMAIL_SIGNIN,PASSWORD_RESET:ee.A.PASSWORD_RESET,RECOVER_EMAIL:ee.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ee.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ee.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ee.A.VERIFY_EMAIL}},EmailAuthProvider:ee.V,FacebookAuthProvider:ee.W,GithubAuthProvider:ee.Y,GoogleAuthProvider:ee.X,OAuthProvider:ee.Z,SAMLAuthProvider:ee._,PhoneAuthProvider:Ri,PhoneMultiFactorGenerator:ee.m,RecaptchaVerifier:Gi,TwitterAuthProvider:ee.$,Auth:wr,AuthCredential:ee.L,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.4.9")}(V.Z)},5861:(cn,ft,N)=>{"use strict";function l(ee,de,Pe,Ae,Te,Me,ot){try{var ie=ee[Me](ot),me=ie.value}catch(Be){return void Pe(Be)}ie.done?de(me):Promise.resolve(me).then(Ae,Te)}function V(ee){return function(){var de=this,Pe=arguments;return new Promise(function(Ae,Te){var Me=ee.apply(de,Pe);function ot(me){l(Me,Ae,Te,ot,ie,"next",me)}function ie(me){l(Me,Ae,Te,ot,ie,"throw",me)}ot(void 0)})}}N.d(ft,{Z:()=>V})},1180:(cn,ft,N)=>{"use strict";function l(Pe){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae})(Pe)}function de(Pe,Ae,Te){return(Ae=function ee(Pe){var Ae=function V(Pe,Ae){if("object"!==l(Pe)||null===Pe)return Pe;var Te=Pe[Symbol.toPrimitive];if(void 0!==Te){var Me=Te.call(Pe,Ae||"default");if("object"!==l(Me))return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ae?String:Number)(Pe)}(Pe,"string");return"symbol"===l(Ae)?Ae:String(Ae)}(Ae))in Pe?Object.defineProperty(Pe,Ae,{value:Te,enumerable:!0,configurable:!0,writable:!0}):Pe[Ae]=Te,Pe}N.d(ft,{Z:()=>de})},7582:(cn,ft,N)=>{"use strict";function de(ge,ae){var $e={};for(var De in ge)Object.prototype.hasOwnProperty.call(ge,De)&&ae.indexOf(De)<0&&($e[De]=ge[De]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var ht=0;for(De=Object.getOwnPropertySymbols(ge);ht<De.length;ht++)ae.indexOf(De[ht])<0&&Object.prototype.propertyIsEnumerable.call(ge,De[ht])&&($e[De[ht]]=ge[De[ht]])}return $e}function Pe(ge,ae,$e,De){var kt,ht=arguments.length,mt=ht<3?ae:null===De?De=Object.getOwnPropertyDescriptor(ae,$e):De;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(ge,ae,$e,De);else for(var St=ge.length-1;St>=0;St--)(kt=ge[St])&&(mt=(ht<3?kt(mt):ht>3?kt(ae,$e,mt):kt(ae,$e))||mt);return ht>3&&mt&&Object.defineProperty(ae,$e,mt),mt}function Be(ge,ae,$e,De){return new($e||($e=Promise))(function(mt,kt){function St(An){try{jt(De.next(An))}catch(Pt){kt(Pt)}}function Wt(An){try{jt(De.throw(An))}catch(Pt){kt(Pt)}}function jt(An){An.done?mt(An.value):function ht(mt){return mt instanceof $e?mt:new $e(function(kt){kt(mt)})}(An.value).then(St,Wt)}jt((De=De.apply(ge,ae||[])).next())})}function Se(ge){return this instanceof Se?(this.v=ge,this):new Se(ge)}function Xe(ge,ae,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,De=$e.apply(ge,ae||[]),mt=[];return ht={},kt("next"),kt("throw"),kt("return"),ht[Symbol.asyncIterator]=function(){return this},ht;function kt(wt){De[wt]&&(ht[wt]=function(bt){return new Promise(function(Ut,Zt){mt.push([wt,bt,Ut,Zt])>1||St(wt,bt)})})}function St(wt,bt){try{!function Wt(wt){wt.value instanceof Se?Promise.resolve(wt.value.v).then(jt,An):Pt(mt[0][2],wt)}(De[wt](bt))}catch(Ut){Pt(mt[0][3],Ut)}}function jt(wt){St("next",wt)}function An(wt){St("throw",wt)}function Pt(wt,bt){wt(bt),mt.shift(),mt.length&&St(mt[0][0],mt[0][1])}}function Oe(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,ae=ge[Symbol.asyncIterator];return ae?ae.call(ge):(ge=function Ze(ge){var ae="function"==typeof Symbol&&Symbol.iterator,$e=ae&&ge[ae],De=0;if($e)return $e.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&De>=ge.length&&(ge=void 0),{value:ge&&ge[De++],done:!ge}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),$e={},De("next"),De("throw"),De("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function De(mt){$e[mt]=ge[mt]&&function(kt){return new Promise(function(St,Wt){!function ht(mt,kt,St,Wt){Promise.resolve(Wt).then(function(jt){mt({value:jt,done:St})},kt)}(St,Wt,(kt=ge[mt](kt)).done,kt.value)})}}}N.d(ft,{FC:()=>Xe,KL:()=>Oe,_T:()=>de,gn:()=>Pe,mG:()=>Be,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},cn=>{cn(cn.s=2535)}]);